/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["app/studio/page"],{

/***/ "(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5Ckreat%5C%5CDownloads%5C%5CRiddimBase%20Studio-Full%5C%5Cfrontend%5C%5Capp%5C%5Cstudio%5C%5Cpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=false!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5Ckreat%5C%5CDownloads%5C%5CRiddimBase%20Studio-Full%5C%5Cfrontend%5C%5Capp%5C%5Cstudio%5C%5Cpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=false! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/studio/page.tsx */ \"(app-pages-browser)/./app/studio/page.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtZmxpZ2h0LWNsaWVudC1lbnRyeS1sb2FkZXIuanM/bW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyQyUzQSU1QyU1Q1VzZXJzJTVDJTVDa3JlYXQlNUMlNUNEb3dubG9hZHMlNUMlNUNSaWRkaW1CYXNlJTIwU3R1ZGlvLUZ1bGwlNUMlNUNmcm9udGVuZCU1QyU1Q2FwcCU1QyU1Q3N0dWRpbyU1QyU1Q3BhZ2UudHN4JTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJnNlcnZlcj1mYWxzZSEiLCJtYXBwaW5ncyI6IkFBQUEsb0tBQXlIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8/MDM3OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkM6XFxcXFVzZXJzXFxcXGtyZWF0XFxcXERvd25sb2Fkc1xcXFxSaWRkaW1CYXNlIFN0dWRpby1GdWxsXFxcXGZyb250ZW5kXFxcXGFwcFxcXFxzdHVkaW9cXFxccGFnZS50c3hcIik7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5Ckreat%5C%5CDownloads%5C%5CRiddimBase%20Studio-Full%5C%5Cfrontend%5C%5Capp%5C%5Cstudio%5C%5Cpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=false!\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/api/navigation.js":
/*!**************************************************!*\
  !*** ./node_modules/next/dist/api/navigation.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _client_components_navigation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../client/components/navigation */ \"(app-pages-browser)/./node_modules/next/dist/client/components/navigation.js\");\n/* harmony import */ var _client_components_navigation__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_client_components_navigation__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _client_components_navigation__WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== \"default\") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = function(key) { return _client_components_navigation__WEBPACK_IMPORTED_MODULE_0__[key]; }.bind(0, __WEBPACK_IMPORT_KEY__)\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\n\n//# sourceMappingURL=navigation.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYXBpL25hdmlnYXRpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdEOztBQUVoRCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2FwaS9uYXZpZ2F0aW9uLmpzPzFhYjQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSBcIi4uL2NsaWVudC9jb21wb25lbnRzL25hdmlnYXRpb25cIjtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmF2aWdhdGlvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/api/navigation.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/studio/page.tsx":
/*!*****************************!*\
  !*** ./app/studio/page.tsx ***!
  \*****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MixStudio; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _components_studio_TransportBar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/studio/TransportBar */ \"(app-pages-browser)/./components/studio/TransportBar.tsx\");\n/* harmony import */ var _components_studio_TrackLane__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../components/studio/TrackLane */ \"(app-pages-browser)/./components/studio/TrackLane.tsx\");\n/* harmony import */ var _components_studio_Timeline__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../components/studio/Timeline */ \"(app-pages-browser)/./components/studio/Timeline.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\nconst DSP_URL = \"http://localhost:8001\" || 0;\nconst GENRE_TO_DSP_KEY = {\n    Dancehall: \"dancehall\",\n    \"Trap Dancehall\": \"trap_dancehall\",\n    Afrobeats: \"afrobeat\",\n    \"Hip Hop\": \"hiphop\",\n    Rap: \"rap\",\n    \"R&B\": \"rnb\",\n    Reggae: \"reggae\"\n};\nfunction getInitialTracksForMode(mode) {\n    switch(mode){\n        case \"cleanup\":\n            return [\n                {\n                    id: \"voice\",\n                    name: \"Voice\",\n                    role: \"vocal\",\n                    volume: 0.9,\n                    pan: 0,\n                    gender: \"male\"\n                }\n            ];\n        case \"master-only\":\n            return [\n                {\n                    id: \"master\",\n                    name: \"Master Mix\",\n                    role: \"instrument\",\n                    volume: 0.9,\n                    pan: 0\n                }\n            ];\n        case \"podcast\":\n            return [\n                {\n                    id: \"host\",\n                    name: \"Host\",\n                    role: \"vocal\",\n                    volume: 0.9,\n                    pan: 0,\n                    gender: \"male\"\n                },\n                {\n                    id: \"guest\",\n                    name: \"Guest\",\n                    role: \"vocal\",\n                    volume: 0.9,\n                    pan: 0,\n                    gender: \"female\"\n                }\n            ];\n        case \"mix-only\":\n        case \"mix-master\":\n        case \"default\":\n        default:\n            return [\n                {\n                    id: \"beat\",\n                    name: \"Beat\",\n                    role: \"beat\",\n                    volume: 0.9\n                },\n                {\n                    id: \"lead\",\n                    name: \"Lead Vocal\",\n                    role: \"vocal\",\n                    volume: 0.9,\n                    pan: 0,\n                    gender: \"male\"\n                },\n                {\n                    id: \"bvs\",\n                    name: \"Background Vocals\",\n                    role: \"background\",\n                    volume: 0.9,\n                    pan: 0,\n                    gender: \"male\"\n                },\n                {\n                    id: \"adlibs\",\n                    name: \"Adlibs\",\n                    role: \"adlib\",\n                    volume: 0.9,\n                    pan: 0,\n                    gender: \"male\"\n                }\n            ];\n    }\n}\nfunction MixStudio() {\n    _s();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n    const flowParam = searchParams.get(\"flow\");\n    const studioMode = flowParam === \"cleanup\" || flowParam === \"mix-only\" || flowParam === \"mix-master\" || flowParam === \"master-only\" || flowParam === \"podcast\" ? flowParam : \"default\";\n    const [tracks, setTracks] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(()=>getInitialTracksForMode(\"default\"));\n    const [isPlaying, setIsPlaying] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [zoom, setZoom] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [masterVolume, setMasterVolume] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0.9);\n    const [trackLevels, setTrackLevels] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [playheadSeconds, setPlayheadSeconds] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [gridResolution, setGridResolution] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"1/4\");\n    const [trackDurations, setTrackDurations] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [isProcessing, setIsProcessing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [genre, setGenre] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Dancehall\");\n    const [bpm, setBpm] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(120);\n    const [sessionKey, setSessionKey] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"C\");\n    const [sessionScale, setSessionScale] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Major\");\n    const [selectedTrackId, setSelectedTrackId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [hasMixed, setHasMixed] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isMastering, setIsMastering] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [referenceProfile, setReferenceProfile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [referenceAnalysis, setReferenceAnalysis] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isAnalyzingReference, setIsAnalyzingReference] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const rafRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const lastTimeRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Reset layout when mode changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setTracks(getInitialTracksForMode(studioMode));\n        setSelectedTrackId(null);\n        setTrackDurations({});\n        setTrackLevels({});\n        setHasMixed(false);\n    }, [\n        studioMode\n    ]);\n    // Spacebar play/pause\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleKey = (e)=>{\n            if (e.code === \"Space\") {\n                e.preventDefault();\n                setIsPlaying((p)=>!p);\n            }\n        };\n        window.addEventListener(\"keydown\", handleKey);\n        return ()=>window.removeEventListener(\"keydown\", handleKey);\n    }, []);\n    // Ctrl + scroll zoom\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleWheel = (e)=>{\n            if (e.ctrlKey) {\n                e.preventDefault();\n                setZoom((z)=>Math.min(3, Math.max(0.5, z + (e.deltaY > 0 ? -0.1 : 0.1))));\n            }\n        };\n        window.addEventListener(\"wheel\", handleWheel, {\n            passive: false\n        });\n        return ()=>window.removeEventListener(\"wheel\", handleWheel);\n    }, []);\n    // Simple transport clock based on play/pause state\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isPlaying) {\n            if (rafRef.current != null) {\n                cancelAnimationFrame(rafRef.current);\n                rafRef.current = null;\n            }\n            lastTimeRef.current = null;\n            return;\n        }\n        const loop = (time)=>{\n            if (lastTimeRef.current == null) {\n                lastTimeRef.current = time;\n            }\n            const delta = (time - lastTimeRef.current) / 1000;\n            lastTimeRef.current = time;\n            setPlayheadSeconds((prev)=>prev + delta);\n            rafRef.current = requestAnimationFrame(loop);\n        };\n        rafRef.current = requestAnimationFrame(loop);\n        return ()=>{\n            if (rafRef.current != null) {\n                cancelAnimationFrame(rafRef.current);\n                rafRef.current = null;\n            }\n            lastTimeRef.current = null;\n        };\n    }, [\n        isPlaying\n    ]);\n    const handleFileSelected = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((trackId, file)=>{\n        setTracks((prev)=>prev.map((track)=>track.id === trackId ? {\n                    ...track,\n                    file\n                } : track));\n    }, []);\n    const handleVolumeChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((trackId, volume)=>{\n        setTracks((prev)=>prev.map((track)=>track.id === trackId ? {\n                    ...track,\n                    volume: Math.min(1, Math.max(0, volume))\n                } : track));\n    }, []);\n    const handleTrackLevelChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((trackId, level)=>{\n        setTrackLevels((prev)=>({\n                ...prev,\n                [trackId]: level\n            }));\n    }, []);\n    const handleTrackGenderChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((trackId, gender)=>{\n        setTracks((prev)=>prev.map((track)=>track.id === trackId ? {\n                    ...track,\n                    gender\n                } : track));\n    }, []);\n    const masterLevel = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const values = Object.values(trackLevels);\n        if (!values.length) return 0;\n        return Math.max(...values);\n    }, [\n        trackLevels\n    ]);\n    const projectDuration = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const values = Object.values(trackDurations);\n        if (!values.length) return 0;\n        return Math.max(...values);\n    }, [\n        trackDurations\n    ]);\n    const addTrack = ()=>{\n        setTracks((prev)=>{\n            const next = [\n                ...prev,\n                {\n                    id: crypto.randomUUID(),\n                    name: \"Track \".concat(prev.length + 1),\n                    role: \"vocal\",\n                    volume: 0.9,\n                    pan: 0,\n                    gender: \"male\"\n                }\n            ];\n            return next;\n        });\n    };\n    const handlePanChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((trackId, pan)=>{\n        setTracks((prev)=>prev.map((track)=>track.id === trackId ? {\n                    ...track,\n                    pan: Math.max(-1, Math.min(1, pan))\n                } : track));\n    }, []);\n    // Handle rename events from TrackLane components\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleRename = (event)=>{\n            const detail = event.detail;\n            if (!detail) return;\n            setTracks((prev)=>prev.map((track)=>track.id === detail.id ? {\n                        ...track,\n                        name: detail.name\n                    } : track));\n        };\n        window.addEventListener(\"mixsmvrt:rename-track\", handleRename);\n        return ()=>{\n            window.removeEventListener(\"mixsmvrt:rename-track\", handleRename);\n        };\n    }, []);\n    // Handle track duration events from TrackLane components\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleDuration = (event)=>{\n            const detail = event.detail;\n            if (!detail) return;\n            setTrackDurations((prev)=>({\n                    ...prev,\n                    [detail.id]: detail.duration\n                }));\n        };\n        window.addEventListener(\"mixsmvrt:track-duration\", handleDuration);\n        return ()=>{\n            window.removeEventListener(\"mixsmvrt:track-duration\", handleDuration);\n        };\n    }, []);\n    const handleStop = ()=>{\n        setIsPlaying(false);\n        setPlayheadSeconds(0);\n    };\n    const handlePrev = ()=>{\n        setIsPlaying(false);\n        setPlayheadSeconds(0);\n        window.dispatchEvent(new Event(\"mixsmvrt:transport-prev\"));\n    };\n    const handleNext = ()=>{\n        setIsPlaying(false);\n        if (projectDuration > 0) {\n            setPlayheadSeconds(projectDuration);\n        }\n        window.dispatchEvent(new Event(\"mixsmvrt:transport-next\"));\n    };\n    const handleSelectTrack = (trackId)=>{\n        setSelectedTrackId(trackId);\n    };\n    const handleDeleteTrack = (trackId)=>{\n        setTracks((prev)=>prev.filter((track)=>track.id !== trackId));\n        setTrackDurations((prev)=>{\n            const { [trackId]: _removed, ...rest } = prev;\n            return rest;\n        });\n        setTrackLevels((prev)=>{\n            const { [trackId]: _removed, ...rest } = prev;\n            return rest;\n        });\n        setSelectedTrackId((current)=>current === trackId ? null : current);\n    };\n    const handleDuplicateTrack = (trackId)=>{\n        setTracks((prev)=>{\n            const index = prev.findIndex((track)=>track.id === trackId);\n            if (index === -1) return prev;\n            const source = prev[index];\n            const copy = {\n                ...source,\n                id: crypto.randomUUID(),\n                name: \"\".concat(source.name, \" Copy\")\n            };\n            const next = [\n                ...prev.slice(0, index + 1),\n                copy,\n                ...prev.slice(index + 1)\n            ];\n            return next;\n        });\n    };\n    const processTrackWithAI = async (track, options)=>{\n        if (!track.file) return null;\n        const formData = new FormData();\n        let trackType = \"vocal\";\n        if (options === null || options === void 0 ? void 0 : options.forceMaster) {\n            trackType = \"master\";\n        } else if (track.role === \"beat\") {\n            trackType = \"beat\";\n        } else if (track.role === \"instrument\") {\n            trackType = \"master\";\n        }\n        let presetName;\n        if (trackType === \"beat\" || trackType === \"master\") {\n            // Instrumental / 2-track or full mix bus\n            presetName = \"streaming_master\";\n        } else {\n            // Vocals family â€“ choose based on specific role\n            if (track.role === \"vocal\") {\n                // Main / lead vocal\n                presetName = \"clean_vocal\";\n            } else if (track.role === \"background\") {\n                // Background stacks / harmonies\n                presetName = \"bg_vocal_glue\";\n            } else if (track.role === \"adlib\") {\n                // Adlibs, hype shouts\n                presetName = \"adlib_hype\";\n            } else {\n                presetName = \"clean_vocal\";\n            }\n        }\n        formData.append(\"file\", track.file);\n        formData.append(\"track_type\", trackType);\n        formData.append(\"preset\", presetName);\n        if (trackType === \"vocal\") {\n            const gender = track.gender || \"male\";\n            formData.append(\"gender\", gender);\n        }\n        const genreKey = GENRE_TO_DSP_KEY[genre];\n        if (genreKey) {\n            formData.append(\"genre\", genreKey);\n        }\n        if (referenceProfile) {\n            formData.append(\"reference_profile\", JSON.stringify({\n                preset_overrides: referenceProfile\n            }));\n        }\n        const response = await fetch(\"\".concat(DSP_URL, \"/process\"), {\n            method: \"POST\",\n            body: formData\n        });\n        if (!response.ok) {\n            const errorText = await response.text();\n            throw new Error(errorText || \"Failed to process audio with DSP service\");\n        }\n        const data = await response.json();\n        if (data.status !== \"processed\" || !data.output_file) {\n            return null;\n        }\n        const outputUrl = data.output_file.startsWith(\"http\") ? data.output_file : \"\".concat(DSP_URL).concat(data.output_file);\n        const outResp = await fetch(outputUrl);\n        if (!outResp.ok) {\n            throw new Error(\"Failed to download processed audio\");\n        }\n        const blob = await outResp.blob();\n        const processedFile = new File([\n            blob\n        ], \"\".concat(track.name, \"-processed.wav\"), {\n            type: blob.type || \"audio/wav\"\n        });\n        return processedFile;\n    };\n    const handleProcessFullMix = async ()=>{\n        if (isProcessing) return;\n        if (!tracks.some((track)=>track.file)) return;\n        setIsProcessing(true);\n        setHasMixed(false);\n        try {\n            const updates = new Map();\n            let anyUpdated = false;\n            // Process each track that has audio through the AI DSP service\n            for (const track of tracks){\n                if (!track.file) continue;\n                // eslint-disable-next-line no-await-in-loop\n                const processed = await processTrackWithAI(track);\n                if (processed) {\n                    updates.set(track.id, processed);\n                    anyUpdated = true;\n                }\n            }\n            if (updates.size > 0) {\n                setTracks((prev)=>prev.map((track)=>{\n                        var _updates_get;\n                        return updates.has(track.id) ? {\n                            ...track,\n                            file: (_updates_get = updates.get(track.id)) !== null && _updates_get !== void 0 ? _updates_get : track.file\n                        } : track;\n                    }));\n            }\n            setHasMixed(anyUpdated);\n        } catch (error) {\n            // eslint-disable-next-line no-console\n            console.error(\"Error processing mix with AI\", error);\n        } finally{\n            setIsProcessing(false);\n        }\n    };\n    const handleProcessSelectedTrack = async ()=>{\n        if (isProcessing) return;\n        if (!selectedTrackId) return;\n        const target = tracks.find((track)=>track.id === selectedTrackId);\n        if (!target || !target.file) return;\n        setIsProcessing(true);\n        try {\n            const processed = await processTrackWithAI(target);\n            if (processed) {\n                setTracks((prev)=>prev.map((track)=>track.id === selectedTrackId ? {\n                            ...track,\n                            file: processed\n                        } : track));\n            }\n        } catch (error) {\n            // eslint-disable-next-line no-console\n            console.error(\"Error processing selected track with AI\", error);\n        } finally{\n            setIsProcessing(false);\n        }\n    };\n    const handlePreviewMix = ()=>{\n        if (!tracks.some((track)=>track.file)) return;\n        handlePrev();\n        setIsPlaying(true);\n    };\n    const handleSendToMaster = async ()=>{\n        if (isProcessing || isMastering) return;\n        let target = tracks.find((track)=>(track.role === \"instrument\" || track.role === \"beat\") && track.file);\n        if (!target && selectedTrackId) {\n            target = tracks.find((track)=>track.id === selectedTrackId && track.file);\n        }\n        if (!target || !target.file) return;\n        setIsMastering(true);\n        try {\n            const processed = await processTrackWithAI(target, {\n                forceMaster: true\n            });\n            if (processed) {\n                const targetId = target.id;\n                setTracks((prev)=>prev.map((track)=>track.id === targetId ? {\n                            ...track,\n                            file: processed\n                        } : track));\n            }\n        } catch (error) {\n            // eslint-disable-next-line no-console\n            console.error(\"Error sending mix to master\", error);\n        } finally{\n            setIsMastering(false);\n        }\n    };\n    const handleDownloadMixOnly = ()=>{\n        if (!hasMixed) return;\n        const playableTracks = tracks.filter((track)=>track.file);\n        if (!playableTracks.length) return;\n        playableTracks.forEach((track)=>{\n            if (!track.file) return;\n            const url = URL.createObjectURL(track.file);\n            const anchor = document.createElement(\"a\");\n            anchor.href = url;\n            anchor.download = \"\".concat(track.name || track.id, \"-mix.wav\");\n            document.body.appendChild(anchor);\n            anchor.click();\n            document.body.removeChild(anchor);\n            URL.revokeObjectURL(url);\n        });\n    };\n    const handleReferenceFileChange = async (event)=>{\n        var _event_target_files;\n        const file = (_event_target_files = event.target.files) === null || _event_target_files === void 0 ? void 0 : _event_target_files[0];\n        if (!file) return;\n        setIsAnalyzingReference(true);\n        try {\n            const formData = new FormData();\n            formData.append(\"file\", file);\n            const response = await fetch(\"\".concat(DSP_URL, \"/analyze\"), {\n                method: \"POST\",\n                body: formData\n            });\n            if (!response.ok) {\n                // eslint-disable-next-line no-console\n                console.error(\"Failed to analyze reference track\", await response.text());\n                return;\n            }\n            const data = await response.json();\n            setReferenceAnalysis(data);\n            if (data.preset_overrides) {\n                setReferenceProfile(data.preset_overrides);\n            } else {\n                setReferenceProfile(null);\n            }\n        } catch (error) {\n            // eslint-disable-next-line no-console\n            console.error(\"Error analyzing reference track\", error);\n        } finally{\n            setIsAnalyzingReference(false);\n            // reset input value so the same file can be selected again if needed\n            event.target.value = \"\";\n        }\n    };\n    // Global keyboard shortcuts for selected track (Alt+P, Alt+D, Delete)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleKeyDown = (event)=>{\n            if (event.altKey && (event.key === \"p\" || event.key === \"P\")) {\n                event.preventDefault();\n                void handleProcessSelectedTrack();\n                return;\n            }\n            if (event.altKey && (event.key === \"d\" || event.key === \"D\")) {\n                if (!selectedTrackId) return;\n                event.preventDefault();\n                handleDuplicateTrack(selectedTrackId);\n                return;\n            }\n            if (!event.altKey && event.key === \"Delete\") {\n                if (!selectedTrackId) return;\n                event.preventDefault();\n                handleDeleteTrack(selectedTrackId);\n            }\n        };\n        window.addEventListener(\"keydown\", handleKeyDown);\n        return ()=>window.removeEventListener(\"keydown\", handleKeyDown);\n    }, [\n        handleProcessSelectedTrack,\n        handleDuplicateTrack,\n        handleDeleteTrack,\n        selectedTrackId\n    ]);\n    const isMixMasterMode = studioMode === \"mix-master\";\n    const isMixOnlyMode = studioMode === \"mix-only\";\n    const isMasterOnlyMode = studioMode === \"master-only\";\n    const isCleanupMode = studioMode === \"cleanup\";\n    const isPodcastMode = studioMode === \"podcast\";\n    const primaryActionLabel = (()=>{\n        if (isCleanupMode) return isProcessing ? \"Cleaning...\" : \"Run Cleanup\";\n        if (isMixOnlyMode) return isProcessing ? \"Mixing...\" : \"Process Mix\";\n        if (isMixMasterMode) return isProcessing ? \"Mixing...\" : \"Run Mix\";\n        if (isMasterOnlyMode) return isProcessing ? \"Mastering...\" : \"Run Master\";\n        if (isPodcastMode) return isProcessing ? \"Processing...\" : \"Process Session\";\n        return isProcessing ? \"Processing Mix...\" : \"Process Full Mix\";\n    })();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex h-screen flex-col bg-black text-white\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_studio_TransportBar__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                isPlaying: isPlaying,\n                onPlayToggle: ()=>setIsPlaying((p)=>!p),\n                onStop: handleStop,\n                onPrev: handlePrev,\n                onNext: handleNext,\n                playheadSeconds: playheadSeconds,\n                gridResolution: gridResolution,\n                onGridResolutionChange: setGridResolution,\n                bpm: bpm,\n                onBpmChange: setBpm,\n                sessionKey: sessionKey,\n                onSessionKeyChange: setSessionKey,\n                sessionScale: sessionScale,\n                onSessionScaleChange: setSessionScale\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                lineNumber: 697,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 overflow-auto\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_studio_Timeline__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                        zoom: zoom,\n                        gridResolution: gridResolution,\n                        bpm: bpm\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                        lineNumber: 715,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: tracks.map((track)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_studio_TrackLane__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                track: track,\n                                zoom: zoom,\n                                isPlaying: isPlaying,\n                                masterVolume: masterVolume,\n                                onFileSelected: handleFileSelected,\n                                onVolumeChange: handleVolumeChange,\n                                onPanChange: handlePanChange,\n                                onLevelChange: handleTrackLevelChange,\n                                onGenderChange: handleTrackGenderChange,\n                                isSelected: selectedTrackId === track.id,\n                                onSelect: handleSelectTrack,\n                                onDelete: handleDeleteTrack,\n                                onDuplicate: handleDuplicateTrack,\n                                onProcess: async (trackId)=>{\n                                    const current = tracks.find((t)=>t.id === trackId);\n                                    if (!current || !current.file || isProcessing) return;\n                                    setSelectedTrackId(trackId);\n                                    setIsProcessing(true);\n                                    try {\n                                        const processed = await processTrackWithAI(current);\n                                        if (processed) {\n                                            setTracks((prev)=>prev.map((t)=>t.id === trackId ? {\n                                                        ...t,\n                                                        file: processed\n                                                    } : t));\n                                        }\n                                    } catch (error) {\n                                        // eslint-disable-next-line no-console\n                                        console.error(\"Error processing track from context menu\", error);\n                                    } finally{\n                                        setIsProcessing(false);\n                                    }\n                                }\n                            }, track.id, false, {\n                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                                lineNumber: 719,\n                                columnNumber: 13\n                            }, this))\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                        lineNumber: 717,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                lineNumber: 714,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-between border-t border-white/10 p-3 text-xs\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: addTrack,\n                        className: \"rounded bg-red-600 px-4 py-2 text-sm hover:bg-red-700\",\n                        children: \"+ Add Track\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                        lineNumber: 766,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-white/60\",\n                                        children: \"Master\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                                        lineNumber: 775,\n                                        columnNumber: 14\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"range\",\n                                        min: 0,\n                                        max: 1,\n                                        step: 0.01,\n                                        value: masterVolume,\n                                        onChange: (e)=>setMasterVolume(Number(e.target.value)),\n                                        className: \"h-1 w-32 accent-red-500\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                                        lineNumber: 776,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"h-6 w-2 overflow-hidden rounded bg-zinc-800\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"h-full w-full origin-bottom bg-gradient-to-t from-red-500 via-yellow-400 to-emerald-400 transition-transform\",\n                                            style: {\n                                                transform: \"scaleY(\".concat(masterLevel, \")\")\n                                            }\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                                            lineNumber: 786,\n                                            columnNumber: 15\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                                        lineNumber: 785,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                                lineNumber: 774,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"hidden items-center gap-4 text-[11px] text-white/60 sm:flex\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"Genre\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                                                    lineNumber: 795,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                    className: \"rounded border border-white/10 bg-black/40 px-2 py-1 text-[11px] text-white/90 outline-none\",\n                                                    value: genre,\n                                                    onChange: (event)=>setGenre(event.target.value),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            className: \"bg-black\",\n                                                            children: \"Dancehall\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                                                            lineNumber: 801,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            className: \"bg-black\",\n                                                            children: \"Trap Dancehall\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                                                            lineNumber: 802,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            className: \"bg-black\",\n                                                            children: \"Afrobeats\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                                                            lineNumber: 803,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            className: \"bg-black\",\n                                                            children: \"Hip Hop\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                                                            lineNumber: 804,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            className: \"bg-black\",\n                                                            children: \"Rap\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                                                            lineNumber: 805,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            className: \"bg-black\",\n                                                            children: \"R&B\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                                                            lineNumber: 806,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            className: \"bg-black\",\n                                                            children: \"Reggae\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                                                            lineNumber: 807,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                                                    lineNumber: 796,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                                            lineNumber: 794,\n                                            columnNumber: 15\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                                        lineNumber: 793,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-3 text-[11px] text-white/60\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"flex cursor-pointer items-center gap-2 rounded-full border border-white/10 bg-black/40 px-3 py-1 hover:border-red-500/60\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: isAnalyzingReference ? \"Analyzing reference...\" : \"Reference Track\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                                                        lineNumber: 814,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"file\",\n                                                        accept: \"audio/*\",\n                                                        className: \"hidden\",\n                                                        onChange: handleReferenceFileChange,\n                                                        disabled: isAnalyzingReference\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                                                        lineNumber: 815,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                                                lineNumber: 813,\n                                                columnNumber: 15\n                                            }, this),\n                                            referenceProfile && referenceAnalysis && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"rounded-full bg-emerald-500/10 px-2 py-1 text-[10px] text-emerald-300\",\n                                                children: [\n                                                    \"Ref loaded\",\n                                                    typeof referenceAnalysis.lufs === \"number\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"ml-1 text-white/50\",\n                                                        children: [\n                                                            \"(\",\n                                                            referenceAnalysis.lufs.toFixed(1),\n                                                            \" LUFS)\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                                                        lineNumber: 827,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                                                lineNumber: 824,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                                        lineNumber: 812,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: handleProcessSelectedTrack,\n                                                disabled: isProcessing || !selectedTrackId || !tracks.some((track)=>track.id === selectedTrackId && track.file),\n                                                className: \"rounded bg-zinc-800 px-4 py-2 text-sm text-white/80 transition-colors disabled:cursor-not-allowed disabled:bg-zinc-800/50 disabled:text-white/40 hover:bg-zinc-700\",\n                                                children: \"Process Selected Track\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                                                lineNumber: 834,\n                                                columnNumber: 15\n                                            }, this),\n                                            isMixMasterMode && hasMixed ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: handlePreviewMix,\n                                                        disabled: !tracks.some((track)=>track.file),\n                                                        className: \"rounded bg-zinc-800 px-4 py-2 text-sm text-white/80 hover:bg-zinc-700 disabled:cursor-not-allowed disabled:bg-zinc-800/50 disabled:text-white/40\",\n                                                        children: \"Preview Mix\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                                                        lineNumber: 848,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: handleProcessFullMix,\n                                                        disabled: isProcessing || !tracks.some((track)=>track.file),\n                                                        className: \"rounded bg-zinc-800 px-4 py-2 text-sm text-white/80 hover:bg-zinc-700 disabled:cursor-not-allowed disabled:bg-zinc-800/50 disabled:text-white/40\",\n                                                        children: isProcessing ? \"Re-running Mix...\" : \"Re-run Mix\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                                                        lineNumber: 855,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: handleSendToMaster,\n                                                        disabled: isProcessing || isMastering || !tracks.some((track)=>(track.role === \"beat\" || track.role === \"instrument\") && track.file),\n                                                        className: \"rounded bg-red-600 px-4 py-2 text-sm disabled:cursor-not-allowed disabled:bg-red-600/50\",\n                                                        children: isMastering ? \"Mastering...\" : \"Send to Master\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                                                        lineNumber: 862,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: handleDownloadMixOnly,\n                                                        disabled: !hasMixed || !tracks.some((track)=>track.file),\n                                                        className: \"rounded bg-zinc-800 px-4 py-2 text-sm text-white/80 hover:bg-zinc-700 disabled:cursor-not-allowed disabled:bg-zinc-800/50 disabled:text-white/40\",\n                                                        children: \"Download Mix Only\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                                                        lineNumber: 873,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: handleProcessFullMix,\n                                                        disabled: isProcessing || !tracks.some((track)=>track.file),\n                                                        className: \"rounded bg-red-600 px-4 py-2 text-sm disabled:cursor-not-allowed disabled:bg-red-600/50\",\n                                                        children: primaryActionLabel\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                                                        lineNumber: 883,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    (isMasterOnlyMode || isMixOnlyMode || isCleanupMode || isPodcastMode) && hasMixed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: handleDownloadMixOnly,\n                                                        disabled: !hasMixed || !tracks.some((track)=>track.file),\n                                                        className: \"rounded bg-zinc-800 px-4 py-2 text-sm text-white/80 hover:bg-zinc-700 disabled:cursor-not-allowed disabled:bg-zinc-800/50 disabled:text-white/40\",\n                                                        children: isMasterOnlyMode ? \"Download Master\" : \"Download Processed\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                                                        lineNumber: 891,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                                        lineNumber: 833,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                                lineNumber: 792,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                        lineNumber: 773,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n                lineNumber: 765,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\app\\\\studio\\\\page.tsx\",\n        lineNumber: 696,\n        columnNumber: 5\n    }, this);\n}\n_s(MixStudio, \"zuIS0r4g/drrFGzXQnkNKiVF0CY=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams\n    ];\n});\n_c = MixStudio;\nvar _c;\n$RefreshReg$(_c, \"MixStudio\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9zdHVkaW8vcGFnZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUcwRTtBQUN4QjtBQUNjO0FBQ047QUFDRjtBQW9CeEQsTUFBTVMsVUFBVUMsdUJBQStCLElBQUksQ0FBdUI7QUFFMUUsTUFBTUcsbUJBQTJDO0lBQy9DQyxXQUFXO0lBQ1gsa0JBQWtCO0lBQ2xCQyxXQUFXO0lBQ1gsV0FBVztJQUNYQyxLQUFLO0lBQ0wsT0FBTztJQUNQQyxRQUFRO0FBQ1Y7QUFFQSxTQUFTQyx3QkFBd0JDLElBQWdCO0lBQy9DLE9BQVFBO1FBQ04sS0FBSztZQUNILE9BQU87Z0JBQ0w7b0JBQ0VDLElBQUk7b0JBQ0pDLE1BQU07b0JBQ05DLE1BQU07b0JBQ05DLFFBQVE7b0JBQ1JDLEtBQUs7b0JBQ0xDLFFBQVE7Z0JBQ1Y7YUFDRDtRQUNILEtBQUs7WUFDSCxPQUFPO2dCQUNMO29CQUNFTCxJQUFJO29CQUNKQyxNQUFNO29CQUNOQyxNQUFNO29CQUNOQyxRQUFRO29CQUNSQyxLQUFLO2dCQUNQO2FBQ0Q7UUFDSCxLQUFLO1lBQ0gsT0FBTztnQkFDTDtvQkFDRUosSUFBSTtvQkFDSkMsTUFBTTtvQkFDTkMsTUFBTTtvQkFDTkMsUUFBUTtvQkFDUkMsS0FBSztvQkFDTEMsUUFBUTtnQkFDVjtnQkFDQTtvQkFDRUwsSUFBSTtvQkFDSkMsTUFBTTtvQkFDTkMsTUFBTTtvQkFDTkMsUUFBUTtvQkFDUkMsS0FBSztvQkFDTEMsUUFBUTtnQkFDVjthQUNEO1FBQ0gsS0FBSztRQUNMLEtBQUs7UUFDTCxLQUFLO1FBQ0w7WUFDRSxPQUFPO2dCQUNMO29CQUFFTCxJQUFJO29CQUFRQyxNQUFNO29CQUFRQyxNQUFNO29CQUFRQyxRQUFRO2dCQUFJO2dCQUN0RDtvQkFDRUgsSUFBSTtvQkFDSkMsTUFBTTtvQkFDTkMsTUFBTTtvQkFDTkMsUUFBUTtvQkFDUkMsS0FBSztvQkFDTEMsUUFBUTtnQkFDVjtnQkFDQTtvQkFDRUwsSUFBSTtv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RCxVQUFVLENBQUN4TCxZQUFZLENBQUM1QixPQUFPdUksSUFBSSxDQUFDLENBQUNwRSxRQUFVQSxNQUFNRixJQUFJO3dEQUN6RGtILFdBQVU7a0VBRVRMLG1CQUFtQixvQkFBb0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBVzlEO0dBdnhCd0JuTDs7UUFDRHJCLDREQUFlQTs7O0tBRGRxQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9hcHAvc3R1ZGlvL3BhZ2UudHN4PzNmMjIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XHJcblxyXG5pbXBvcnQgdHlwZSBSZWFjdCBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgeyB1c2VTZWFyY2hQYXJhbXMgfSBmcm9tIFwibmV4dC9uYXZpZ2F0aW9uXCI7XHJcbmltcG9ydCBUcmFuc3BvcnRCYXIgZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvc3R1ZGlvL1RyYW5zcG9ydEJhclwiO1xyXG5pbXBvcnQgVHJhY2tMYW5lIGZyb20gXCIuLi8uLi9jb21wb25lbnRzL3N0dWRpby9UcmFja0xhbmVcIjtcclxuaW1wb3J0IFRpbWVsaW5lIGZyb20gXCIuLi8uLi9jb21wb25lbnRzL3N0dWRpby9UaW1lbGluZVwiO1xyXG5cclxuZXhwb3J0IHR5cGUgVHJhY2tUeXBlID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIHJvbGU6IFwiYmVhdFwiIHwgXCJ2b2NhbFwiIHwgXCJiYWNrZ3JvdW5kXCIgfCBcImFkbGliXCIgfCBcImluc3RydW1lbnRcIjtcclxuICB2b2x1bWU6IG51bWJlcjsgLy8gMCAtIDFcclxuICBwYW4/OiBudW1iZXI7IC8vIC0xIChMKSB0byAxIChSKVxyXG4gIGdlbmRlcj86IFwibWFsZVwiIHwgXCJmZW1hbGVcIjtcclxuICBmaWxlPzogRmlsZTtcclxufTtcclxuXHJcbnR5cGUgU3R1ZGlvTW9kZSA9XHJcbiAgfCBcImNsZWFudXBcIlxyXG4gIHwgXCJtaXgtb25seVwiXHJcbiAgfCBcIm1peC1tYXN0ZXJcIlxyXG4gIHwgXCJtYXN0ZXItb25seVwiXHJcbiAgfCBcInBvZGNhc3RcIlxyXG4gIHwgXCJkZWZhdWx0XCI7XHJcblxyXG5jb25zdCBEU1BfVVJMID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRFNQX1VSTCB8fCBcImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMVwiO1xyXG5cclxuY29uc3QgR0VOUkVfVE9fRFNQX0tFWTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcclxuICBEYW5jZWhhbGw6IFwiZGFuY2VoYWxsXCIsXHJcbiAgXCJUcmFwIERhbmNlaGFsbFwiOiBcInRyYXBfZGFuY2VoYWxsXCIsXHJcbiAgQWZyb2JlYXRzOiBcImFmcm9iZWF0XCIsXHJcbiAgXCJIaXAgSG9wXCI6IFwiaGlwaG9wXCIsXHJcbiAgUmFwOiBcInJhcFwiLFxyXG4gIFwiUiZCXCI6IFwicm5iXCIsXHJcbiAgUmVnZ2FlOiBcInJlZ2dhZVwiLFxyXG59O1xyXG5cclxuZnVuY3Rpb24gZ2V0SW5pdGlhbFRyYWNrc0Zvck1vZGUobW9kZTogU3R1ZGlvTW9kZSk6IFRyYWNrVHlwZVtdIHtcclxuICBzd2l0Y2ggKG1vZGUpIHtcclxuICAgIGNhc2UgXCJjbGVhbnVwXCI6XHJcbiAgICAgIHJldHVybiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgaWQ6IFwidm9pY2VcIixcclxuICAgICAgICAgIG5hbWU6IFwiVm9pY2VcIixcclxuICAgICAgICAgIHJvbGU6IFwidm9jYWxcIixcclxuICAgICAgICAgIHZvbHVtZTogMC45LFxyXG4gICAgICAgICAgcGFuOiAwLFxyXG4gICAgICAgICAgZ2VuZGVyOiBcIm1hbGVcIixcclxuICAgICAgICB9LFxyXG4gICAgICBdO1xyXG4gICAgY2FzZSBcIm1hc3Rlci1vbmx5XCI6XHJcbiAgICAgIHJldHVybiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgaWQ6IFwibWFzdGVyXCIsXHJcbiAgICAgICAgICBuYW1lOiBcIk1hc3RlciBNaXhcIixcclxuICAgICAgICAgIHJvbGU6IFwiaW5zdHJ1bWVudFwiLFxyXG4gICAgICAgICAgdm9sdW1lOiAwLjksXHJcbiAgICAgICAgICBwYW46IDAsXHJcbiAgICAgICAgfSxcclxuICAgICAgXTtcclxuICAgIGNhc2UgXCJwb2RjYXN0XCI6XHJcbiAgICAgIHJldHVybiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgaWQ6IFwiaG9zdFwiLFxyXG4gICAgICAgICAgbmFtZTogXCJIb3N0XCIsXHJcbiAgICAgICAgICByb2xlOiBcInZvY2FsXCIsXHJcbiAgICAgICAgICB2b2x1bWU6IDAuOSxcclxuICAgICAgICAgIHBhbjogMCxcclxuICAgICAgICAgIGdlbmRlcjogXCJtYWxlXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBpZDogXCJndWVzdFwiLFxyXG4gICAgICAgICAgbmFtZTogXCJHdWVzdFwiLFxyXG4gICAgICAgICAgcm9sZTogXCJ2b2NhbFwiLFxyXG4gICAgICAgICAgdm9sdW1lOiAwLjksXHJcbiAgICAgICAgICBwYW46IDAsXHJcbiAgICAgICAgICBnZW5kZXI6IFwiZmVtYWxlXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgXTtcclxuICAgIGNhc2UgXCJtaXgtb25seVwiOlxyXG4gICAgY2FzZSBcIm1peC1tYXN0ZXJcIjpcclxuICAgIGNhc2UgXCJkZWZhdWx0XCI6XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gW1xyXG4gICAgICAgIHsgaWQ6IFwiYmVhdFwiLCBuYW1lOiBcIkJlYXRcIiwgcm9sZTogXCJiZWF0XCIsIHZvbHVtZTogMC45IH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgaWQ6IFwibGVhZFwiLFxyXG4gICAgICAgICAgbmFtZTogXCJMZWFkIFZvY2FsXCIsXHJcbiAgICAgICAgICByb2xlOiBcInZvY2FsXCIsXHJcbiAgICAgICAgICB2b2x1bWU6IDAuOSxcclxuICAgICAgICAgIHBhbjogMCxcclxuICAgICAgICAgIGdlbmRlcjogXCJtYWxlXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBpZDogXCJidnNcIixcclxuICAgICAgICAgIG5hbWU6IFwiQmFja2dyb3VuZCBWb2NhbHNcIixcclxuICAgICAgICAgIHJvbGU6IFwiYmFja2dyb3VuZFwiLFxyXG4gICAgICAgICAgdm9sdW1lOiAwLjksXHJcbiAgICAgICAgICBwYW46IDAsXHJcbiAgICAgICAgICBnZW5kZXI6IFwibWFsZVwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgaWQ6IFwiYWRsaWJzXCIsXHJcbiAgICAgICAgICBuYW1lOiBcIkFkbGlic1wiLFxyXG4gICAgICAgICAgcm9sZTogXCJhZGxpYlwiLFxyXG4gICAgICAgICAgdm9sdW1lOiAwLjksXHJcbiAgICAgICAgICBwYW46IDAsXHJcbiAgICAgICAgICBnZW5kZXI6IFwibWFsZVwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIF07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNaXhTdHVkaW8oKSB7XHJcbiAgY29uc3Qgc2VhcmNoUGFyYW1zID0gdXNlU2VhcmNoUGFyYW1zKCk7XHJcbiAgY29uc3QgZmxvd1BhcmFtID0gc2VhcmNoUGFyYW1zLmdldChcImZsb3dcIik7XHJcbiAgY29uc3Qgc3R1ZGlvTW9kZTogU3R1ZGlvTW9kZSA9XHJcbiAgICBmbG93UGFyYW0gPT09IFwiY2xlYW51cFwiIHx8XHJcbiAgICBmbG93UGFyYW0gPT09IFwibWl4LW9ubHlcIiB8fFxyXG4gICAgZmxvd1BhcmFtID09PSBcIm1peC1tYXN0ZXJcIiB8fFxyXG4gICAgZmxvd1BhcmFtID09PSBcIm1hc3Rlci1vbmx5XCIgfHxcclxuICAgIGZsb3dQYXJhbSA9PT0gXCJwb2RjYXN0XCJcclxuICAgICAgPyBmbG93UGFyYW1cclxuICAgICAgOiBcImRlZmF1bHRcIjtcclxuXHJcbiAgY29uc3QgW3RyYWNrcywgc2V0VHJhY2tzXSA9IHVzZVN0YXRlPFRyYWNrVHlwZVtdPigoKSA9PlxyXG4gICAgZ2V0SW5pdGlhbFRyYWNrc0Zvck1vZGUoXCJkZWZhdWx0XCIpLFxyXG4gICk7XHJcbiAgY29uc3QgW2lzUGxheWluZywgc2V0SXNQbGF5aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbem9vbSwgc2V0Wm9vbV0gPSB1c2VTdGF0ZSgxKTtcclxuICBjb25zdCBbbWFzdGVyVm9sdW1lLCBzZXRNYXN0ZXJWb2x1bWVdID0gdXNlU3RhdGUoMC45KTtcclxuICBjb25zdCBbdHJhY2tMZXZlbHMsIHNldFRyYWNrTGV2ZWxzXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIG51bWJlcj4+KHt9KTtcclxuICBjb25zdCBbcGxheWhlYWRTZWNvbmRzLCBzZXRQbGF5aGVhZFNlY29uZHNdID0gdXNlU3RhdGUoMCk7XHJcbiAgY29uc3QgW2dyaWRSZXNvbHV0aW9uLCBzZXRHcmlkUmVzb2x1dGlvbl0gPSB1c2VTdGF0ZTxcIjEvMlwiIHwgXCIxLzRcIiB8IFwiMS84XCI+KFwiMS80XCIpO1xyXG4gIGNvbnN0IFt0cmFja0R1cmF0aW9ucywgc2V0VHJhY2tEdXJhdGlvbnNdID0gdXNlU3RhdGU8UmVjb3JkPHN0cmluZywgbnVtYmVyPj4oe30pO1xyXG4gIGNvbnN0IFtpc1Byb2Nlc3NpbmcsIHNldElzUHJvY2Vzc2luZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2dlbnJlLCBzZXRHZW5yZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiRGFuY2VoYWxsXCIpO1xyXG4gIGNvbnN0IFticG0sIHNldEJwbV0gPSB1c2VTdGF0ZTxudW1iZXI+KDEyMCk7XHJcbiAgY29uc3QgW3Nlc3Npb25LZXksIHNldFNlc3Npb25LZXldID0gdXNlU3RhdGU8c3RyaW5nPihcIkNcIik7XHJcbiAgY29uc3QgW3Nlc3Npb25TY2FsZSwgc2V0U2Vzc2lvblNjYWxlXSA9IHVzZVN0YXRlPFwiTWFqb3JcIiB8IFwiTWlub3JcIj4oXCJNYWpvclwiKTtcclxuICBjb25zdCBbc2VsZWN0ZWRUcmFja0lkLCBzZXRTZWxlY3RlZFRyYWNrSWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW2hhc01peGVkLCBzZXRIYXNNaXhlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2lzTWFzdGVyaW5nLCBzZXRJc01hc3RlcmluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW3JlZmVyZW5jZVByb2ZpbGUsIHNldFJlZmVyZW5jZVByb2ZpbGVdID0gdXNlU3RhdGU8YW55IHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW3JlZmVyZW5jZUFuYWx5c2lzLCBzZXRSZWZlcmVuY2VBbmFseXNpc10gPSB1c2VTdGF0ZTxhbnkgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbaXNBbmFseXppbmdSZWZlcmVuY2UsIHNldElzQW5hbHl6aW5nUmVmZXJlbmNlXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuXHJcbiAgY29uc3QgcmFmUmVmID0gdXNlUmVmPG51bWJlciB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IGxhc3RUaW1lUmVmID0gdXNlUmVmPG51bWJlciB8IG51bGw+KG51bGwpO1xyXG5cclxuICAvLyBSZXNldCBsYXlvdXQgd2hlbiBtb2RlIGNoYW5nZXNcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgc2V0VHJhY2tzKGdldEluaXRpYWxUcmFja3NGb3JNb2RlKHN0dWRpb01vZGUpKTtcclxuICAgIHNldFNlbGVjdGVkVHJhY2tJZChudWxsKTtcclxuICAgIHNldFRyYWNrRHVyYXRpb25zKHt9KTtcclxuICAgIHNldFRyYWNrTGV2ZWxzKHt9KTtcclxuICAgIHNldEhhc01peGVkKGZhbHNlKTtcclxuICB9LCBbc3R1ZGlvTW9kZV0pO1xyXG5cclxuICAvLyBTcGFjZWJhciBwbGF5L3BhdXNlXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGhhbmRsZUtleSA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XHJcbiAgICAgIGlmIChlLmNvZGUgPT09IFwiU3BhY2VcIikge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBzZXRJc1BsYXlpbmcoKHApID0+ICFwKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVLZXkpO1xyXG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVLZXkpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgLy8gQ3RybCArIHNjcm9sbCB6b29tXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGhhbmRsZVdoZWVsID0gKGU6IFdoZWVsRXZlbnQpID0+IHtcclxuICAgICAgaWYgKGUuY3RybEtleSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBzZXRab29tKCh6KSA9PiBNYXRoLm1pbigzLCBNYXRoLm1heCgwLjUsIHogKyAoZS5kZWx0YVkgPiAwID8gLTAuMSA6IDAuMSkpKSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsIGhhbmRsZVdoZWVsLCB7IHBhc3NpdmU6IGZhbHNlIH0pO1xyXG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwid2hlZWxcIiwgaGFuZGxlV2hlZWwpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgLy8gU2ltcGxlIHRyYW5zcG9ydCBjbG9jayBiYXNlZCBvbiBwbGF5L3BhdXNlIHN0YXRlXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghaXNQbGF5aW5nKSB7XHJcbiAgICAgIGlmIChyYWZSZWYuY3VycmVudCAhPSBudWxsKSB7XHJcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUocmFmUmVmLmN1cnJlbnQpO1xyXG4gICAgICAgIHJhZlJlZi5jdXJyZW50ID0gbnVsbDtcclxuICAgICAgfVxyXG4gICAgICBsYXN0VGltZVJlZi5jdXJyZW50ID0gbnVsbDtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGxvb3AgPSAodGltZTogbnVtYmVyKSA9PiB7XHJcbiAgICAgIGlmIChsYXN0VGltZVJlZi5jdXJyZW50ID09IG51bGwpIHtcclxuICAgICAgICBsYXN0VGltZVJlZi5jdXJyZW50ID0gdGltZTtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCBkZWx0YSA9ICh0aW1lIC0gbGFzdFRpbWVSZWYuY3VycmVudCkgLyAxMDAwO1xyXG4gICAgICBsYXN0VGltZVJlZi5jdXJyZW50ID0gdGltZTtcclxuICAgICAgc2V0UGxheWhlYWRTZWNvbmRzKChwcmV2KSA9PiBwcmV2ICsgZGVsdGEpO1xyXG4gICAgICByYWZSZWYuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTtcclxuICAgIH07XHJcblxyXG4gICAgcmFmUmVmLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XHJcblxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgaWYgKHJhZlJlZi5jdXJyZW50ICE9IG51bGwpIHtcclxuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShyYWZSZWYuY3VycmVudCk7XHJcbiAgICAgICAgcmFmUmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICAgIGxhc3RUaW1lUmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgfTtcclxuICB9LCBbaXNQbGF5aW5nXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZUZpbGVTZWxlY3RlZCA9IHVzZUNhbGxiYWNrKCh0cmFja0lkOiBzdHJpbmcsIGZpbGU6IEZpbGUpID0+IHtcclxuICAgIHNldFRyYWNrcygocHJldikgPT5cclxuICAgICAgcHJldi5tYXAoKHRyYWNrKSA9PiAodHJhY2suaWQgPT09IHRyYWNrSWQgPyB7IC4uLnRyYWNrLCBmaWxlIH0gOiB0cmFjaykpLFxyXG4gICAgKTtcclxuICB9LCBbXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZVZvbHVtZUNoYW5nZSA9IHVzZUNhbGxiYWNrKCh0cmFja0lkOiBzdHJpbmcsIHZvbHVtZTogbnVtYmVyKSA9PiB7XHJcbiAgICBzZXRUcmFja3MoKHByZXYpID0+XHJcbiAgICAgIHByZXYubWFwKCh0cmFjaykgPT5cclxuICAgICAgICB0cmFjay5pZCA9PT0gdHJhY2tJZCA/IHsgLi4udHJhY2ssIHZvbHVtZTogTWF0aC5taW4oMSwgTWF0aC5tYXgoMCwgdm9sdW1lKSkgfSA6IHRyYWNrLFxyXG4gICAgICApLFxyXG4gICAgKTtcclxuICB9LCBbXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZVRyYWNrTGV2ZWxDaGFuZ2UgPSB1c2VDYWxsYmFjaygodHJhY2tJZDogc3RyaW5nLCBsZXZlbDogbnVtYmVyKSA9PiB7XHJcbiAgICBzZXRUcmFja0xldmVscygocHJldikgPT4gKHsgLi4ucHJldiwgW3RyYWNrSWRdOiBsZXZlbCB9KSk7XHJcbiAgfSwgW10pO1xyXG5cclxuICBjb25zdCBoYW5kbGVUcmFja0dlbmRlckNoYW5nZSA9IHVzZUNhbGxiYWNrKFxyXG4gICAgKHRyYWNrSWQ6IHN0cmluZywgZ2VuZGVyOiBcIm1hbGVcIiB8IFwiZmVtYWxlXCIpID0+IHtcclxuICAgICAgc2V0VHJhY2tzKChwcmV2KSA9PlxyXG4gICAgICAgIHByZXYubWFwKCh0cmFjaykgPT5cclxuICAgICAgICAgIHRyYWNrLmlkID09PSB0cmFja0lkXHJcbiAgICAgICAgICAgID8ge1xyXG4gICAgICAgICAgICAgICAgLi4udHJhY2ssXHJcbiAgICAgICAgICAgICAgICBnZW5kZXIsXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA6IHRyYWNrLFxyXG4gICAgICAgICksXHJcbiAgICAgICk7XHJcbiAgICB9LFxyXG4gICAgW10sXHJcbiAgKTtcclxuXHJcbiAgY29uc3QgbWFzdGVyTGV2ZWwgPSB1c2VNZW1vKCgpID0+IHtcclxuICAgIGNvbnN0IHZhbHVlcyA9IE9iamVjdC52YWx1ZXModHJhY2tMZXZlbHMpO1xyXG4gICAgaWYgKCF2YWx1ZXMubGVuZ3RoKSByZXR1cm4gMDtcclxuICAgIHJldHVybiBNYXRoLm1heCguLi52YWx1ZXMpO1xyXG4gIH0sIFt0cmFja0xldmVsc10pO1xyXG5cclxuICBjb25zdCBwcm9qZWN0RHVyYXRpb24gPSB1c2VNZW1vKCgpID0+IHtcclxuICAgIGNvbnN0IHZhbHVlcyA9IE9iamVjdC52YWx1ZXModHJhY2tEdXJhdGlvbnMpO1xyXG4gICAgaWYgKCF2YWx1ZXMubGVuZ3RoKSByZXR1cm4gMDtcclxuICAgIHJldHVybiBNYXRoLm1heCguLi52YWx1ZXMpO1xyXG4gIH0sIFt0cmFja0R1cmF0aW9uc10pO1xyXG5cclxuICBjb25zdCBhZGRUcmFjayA9ICgpID0+IHtcclxuICAgIHNldFRyYWNrcygocHJldikgPT4ge1xyXG4gICAgICBjb25zdCBuZXh0ID0gW1xyXG4gICAgICAgIC4uLnByZXYsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgaWQ6IGNyeXB0by5yYW5kb21VVUlEKCksXHJcbiAgICAgICAgICBuYW1lOiBgVHJhY2sgJHtwcmV2Lmxlbmd0aCArIDF9YCxcclxuICAgICAgICAgIHJvbGU6IFwidm9jYWxcIiBhcyBjb25zdCxcclxuICAgICAgICAgIHZvbHVtZTogMC45LFxyXG4gICAgICAgICAgcGFuOiAwLFxyXG4gICAgICAgICAgZ2VuZGVyOiBcIm1hbGVcIiBhcyBjb25zdCxcclxuICAgICAgICB9LFxyXG4gICAgICBdO1xyXG4gICAgICByZXR1cm4gbmV4dDtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVBhbkNoYW5nZSA9IHVzZUNhbGxiYWNrKCh0cmFja0lkOiBzdHJpbmcsIHBhbjogbnVtYmVyKSA9PiB7XHJcbiAgICBzZXRUcmFja3MoKHByZXYpID0+XHJcbiAgICAgIHByZXYubWFwKCh0cmFjaykgPT5cclxuICAgICAgICB0cmFjay5pZCA9PT0gdHJhY2tJZFxyXG4gICAgICAgICAgPyB7IC4uLnRyYWNrLCBwYW46IE1hdGgubWF4KC0xLCBNYXRoLm1pbigxLCBwYW4pKSB9XHJcbiAgICAgICAgICA6IHRyYWNrLFxyXG4gICAgICApLFxyXG4gICAgKTtcclxuICB9LCBbXSk7XHJcblxyXG4gIC8vIEhhbmRsZSByZW5hbWUgZXZlbnRzIGZyb20gVHJhY2tMYW5lIGNvbXBvbmVudHNcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgaGFuZGxlUmVuYW1lID0gKGV2ZW50OiBFdmVudCkgPT4ge1xyXG4gICAgICBjb25zdCBkZXRhaWwgPSAoZXZlbnQgYXMgQ3VzdG9tRXZlbnQ8eyBpZDogc3RyaW5nOyBuYW1lOiBzdHJpbmcgfT4pLmRldGFpbDtcclxuICAgICAgaWYgKCFkZXRhaWwpIHJldHVybjtcclxuICAgICAgc2V0VHJhY2tzKChwcmV2KSA9PlxyXG4gICAgICAgIHByZXYubWFwKCh0cmFjaykgPT5cclxuICAgICAgICAgIHRyYWNrLmlkID09PSBkZXRhaWwuaWQgPyB7IC4uLnRyYWNrLCBuYW1lOiBkZXRhaWwubmFtZSB9IDogdHJhY2ssXHJcbiAgICAgICAgKSxcclxuICAgICAgKTtcclxuICAgIH07XHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtaXhzbXZydDpyZW5hbWUtdHJhY2tcIiwgaGFuZGxlUmVuYW1lIGFzIEV2ZW50TGlzdGVuZXIpO1xyXG5cclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFxyXG4gICAgICAgIFwibWl4c212cnQ6cmVuYW1lLXRyYWNrXCIsXHJcbiAgICAgICAgaGFuZGxlUmVuYW1lIGFzIEV2ZW50TGlzdGVuZXIsXHJcbiAgICAgICk7XHJcbiAgICB9O1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgLy8gSGFuZGxlIHRyYWNrIGR1cmF0aW9uIGV2ZW50cyBmcm9tIFRyYWNrTGFuZSBjb21wb25lbnRzXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGhhbmRsZUR1cmF0aW9uID0gKGV2ZW50OiBFdmVudCkgPT4ge1xyXG4gICAgICBjb25zdCBkZXRhaWwgPSAoZXZlbnQgYXMgQ3VzdG9tRXZlbnQ8eyBpZDogc3RyaW5nOyBkdXJhdGlvbjogbnVtYmVyIH0+KS5kZXRhaWw7XHJcbiAgICAgIGlmICghZGV0YWlsKSByZXR1cm47XHJcbiAgICAgIHNldFRyYWNrRHVyYXRpb25zKChwcmV2KSA9PiAoeyAuLi5wcmV2LCBbZGV0YWlsLmlkXTogZGV0YWlsLmR1cmF0aW9uIH0pKTtcclxuICAgIH07XHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIFwibWl4c212cnQ6dHJhY2stZHVyYXRpb25cIixcclxuICAgICAgaGFuZGxlRHVyYXRpb24gYXMgRXZlbnRMaXN0ZW5lcixcclxuICAgICk7XHJcblxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXHJcbiAgICAgICAgXCJtaXhzbXZydDp0cmFjay1kdXJhdGlvblwiLFxyXG4gICAgICAgIGhhbmRsZUR1cmF0aW9uIGFzIEV2ZW50TGlzdGVuZXIsXHJcbiAgICAgICk7XHJcbiAgICB9O1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlU3RvcCA9ICgpID0+IHtcclxuICAgIHNldElzUGxheWluZyhmYWxzZSk7XHJcbiAgICBzZXRQbGF5aGVhZFNlY29uZHMoMCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlUHJldiA9ICgpID0+IHtcclxuICAgIHNldElzUGxheWluZyhmYWxzZSk7XHJcbiAgICBzZXRQbGF5aGVhZFNlY29uZHMoMCk7XHJcbiAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJtaXhzbXZydDp0cmFuc3BvcnQtcHJldlwiKSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlTmV4dCA9ICgpID0+IHtcclxuICAgIHNldElzUGxheWluZyhmYWxzZSk7XHJcbiAgICBpZiAocHJvamVjdER1cmF0aW9uID4gMCkge1xyXG4gICAgICBzZXRQbGF5aGVhZFNlY29uZHMocHJvamVjdER1cmF0aW9uKTtcclxuICAgIH1cclxuICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcIm1peHNtdnJ0OnRyYW5zcG9ydC1uZXh0XCIpKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVTZWxlY3RUcmFjayA9ICh0cmFja0lkOiBzdHJpbmcpID0+IHtcclxuICAgIHNldFNlbGVjdGVkVHJhY2tJZCh0cmFja0lkKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVEZWxldGVUcmFjayA9ICh0cmFja0lkOiBzdHJpbmcpID0+IHtcclxuICAgIHNldFRyYWNrcygocHJldikgPT4gcHJldi5maWx0ZXIoKHRyYWNrKSA9PiB0cmFjay5pZCAhPT0gdHJhY2tJZCkpO1xyXG4gICAgc2V0VHJhY2tEdXJhdGlvbnMoKHByZXYpID0+IHtcclxuICAgICAgY29uc3QgeyBbdHJhY2tJZF06IF9yZW1vdmVkLCAuLi5yZXN0IH0gPSBwcmV2O1xyXG4gICAgICByZXR1cm4gcmVzdDtcclxuICAgIH0pO1xyXG4gICAgc2V0VHJhY2tMZXZlbHMoKHByZXYpID0+IHtcclxuICAgICAgY29uc3QgeyBbdHJhY2tJZF06IF9yZW1vdmVkLCAuLi5yZXN0IH0gPSBwcmV2O1xyXG4gICAgICByZXR1cm4gcmVzdDtcclxuICAgIH0pO1xyXG4gICAgc2V0U2VsZWN0ZWRUcmFja0lkKChjdXJyZW50KSA9PiAoY3VycmVudCA9PT0gdHJhY2tJZCA/IG51bGwgOiBjdXJyZW50KSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlRHVwbGljYXRlVHJhY2sgPSAodHJhY2tJZDogc3RyaW5nKSA9PiB7XHJcbiAgICBzZXRUcmFja3MoKHByZXYpID0+IHtcclxuICAgICAgY29uc3QgaW5kZXggPSBwcmV2LmZpbmRJbmRleCgodHJhY2spID0+IHRyYWNrLmlkID09PSB0cmFja0lkKTtcclxuICAgICAgaWYgKGluZGV4ID09PSAtMSkgcmV0dXJuIHByZXY7XHJcbiAgICAgIGNvbnN0IHNvdXJjZSA9IHByZXZbaW5kZXhdO1xyXG4gICAgICBjb25zdCBjb3B5OiBUcmFja1R5cGUgPSB7XHJcbiAgICAgICAgLi4uc291cmNlLFxyXG4gICAgICAgIGlkOiBjcnlwdG8ucmFuZG9tVVVJRCgpLFxyXG4gICAgICAgIG5hbWU6IGAke3NvdXJjZS5uYW1lfSBDb3B5YCxcclxuICAgICAgfTtcclxuICAgICAgY29uc3QgbmV4dCA9IFsuLi5wcmV2LnNsaWNlKDAsIGluZGV4ICsgMSksIGNvcHksIC4uLnByZXYuc2xpY2UoaW5kZXggKyAxKV07XHJcbiAgICAgIHJldHVybiBuZXh0O1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcHJvY2Vzc1RyYWNrV2l0aEFJID0gYXN5bmMgKFxyXG4gICAgdHJhY2s6IFRyYWNrVHlwZSxcclxuICAgIG9wdGlvbnM/OiB7IGZvcmNlTWFzdGVyPzogYm9vbGVhbiB9LFxyXG4gICk6IFByb21pc2U8RmlsZSB8IG51bGw+ID0+IHtcclxuICAgIGlmICghdHJhY2suZmlsZSkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcclxuXHJcbiAgICBsZXQgdHJhY2tUeXBlOiBcInZvY2FsXCIgfCBcImJlYXRcIiB8IFwibWFzdGVyXCIgPSBcInZvY2FsXCI7XHJcbiAgICBpZiAob3B0aW9ucz8uZm9yY2VNYXN0ZXIpIHtcclxuICAgICAgdHJhY2tUeXBlID0gXCJtYXN0ZXJcIjtcclxuICAgIH0gZWxzZSBpZiAodHJhY2sucm9sZSA9PT0gXCJiZWF0XCIpIHtcclxuICAgICAgdHJhY2tUeXBlID0gXCJiZWF0XCI7XHJcbiAgICB9IGVsc2UgaWYgKHRyYWNrLnJvbGUgPT09IFwiaW5zdHJ1bWVudFwiKSB7XHJcbiAgICAgIHRyYWNrVHlwZSA9IFwibWFzdGVyXCI7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHByZXNldE5hbWU6IHN0cmluZztcclxuXHJcbiAgICBpZiAodHJhY2tUeXBlID09PSBcImJlYXRcIiB8fCB0cmFja1R5cGUgPT09IFwibWFzdGVyXCIpIHtcclxuICAgICAgLy8gSW5zdHJ1bWVudGFsIC8gMi10cmFjayBvciBmdWxsIG1peCBidXNcclxuICAgICAgcHJlc2V0TmFtZSA9IFwic3RyZWFtaW5nX21hc3RlclwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gVm9jYWxzIGZhbWlseSDigJMgY2hvb3NlIGJhc2VkIG9uIHNwZWNpZmljIHJvbGVcclxuICAgICAgaWYgKHRyYWNrLnJvbGUgPT09IFwidm9jYWxcIikge1xyXG4gICAgICAgIC8vIE1haW4gLyBsZWFkIHZvY2FsXHJcbiAgICAgICAgcHJlc2V0TmFtZSA9IFwiY2xlYW5fdm9jYWxcIjtcclxuICAgICAgfSBlbHNlIGlmICh0cmFjay5yb2xlID09PSBcImJhY2tncm91bmRcIikge1xyXG4gICAgICAgIC8vIEJhY2tncm91bmQgc3RhY2tzIC8gaGFybW9uaWVzXHJcbiAgICAgICAgcHJlc2V0TmFtZSA9IFwiYmdfdm9jYWxfZ2x1ZVwiO1xyXG4gICAgICB9IGVsc2UgaWYgKHRyYWNrLnJvbGUgPT09IFwiYWRsaWJcIikge1xyXG4gICAgICAgIC8vIEFkbGlicywgaHlwZSBzaG91dHNcclxuICAgICAgICBwcmVzZXROYW1lID0gXCJhZGxpYl9oeXBlXCI7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcHJlc2V0TmFtZSA9IFwiY2xlYW5fdm9jYWxcIjtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZvcm1EYXRhLmFwcGVuZChcImZpbGVcIiwgdHJhY2suZmlsZSk7XHJcbiAgICBmb3JtRGF0YS5hcHBlbmQoXCJ0cmFja190eXBlXCIsIHRyYWNrVHlwZSk7XHJcbiAgICBmb3JtRGF0YS5hcHBlbmQoXCJwcmVzZXRcIiwgcHJlc2V0TmFtZSk7XHJcblxyXG4gICAgaWYgKHRyYWNrVHlwZSA9PT0gXCJ2b2NhbFwiKSB7XHJcbiAgICAgIGNvbnN0IGdlbmRlciA9IHRyYWNrLmdlbmRlciB8fCBcIm1hbGVcIjtcclxuICAgICAgZm9ybURhdGEuYXBwZW5kKFwiZ2VuZGVyXCIsIGdlbmRlcik7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZ2VucmVLZXkgPSBHRU5SRV9UT19EU1BfS0VZW2dlbnJlXTtcclxuICAgIGlmIChnZW5yZUtleSkge1xyXG4gICAgICBmb3JtRGF0YS5hcHBlbmQoXCJnZW5yZVwiLCBnZW5yZUtleSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHJlZmVyZW5jZVByb2ZpbGUpIHtcclxuICAgICAgZm9ybURhdGEuYXBwZW5kKFxyXG4gICAgICAgIFwicmVmZXJlbmNlX3Byb2ZpbGVcIixcclxuICAgICAgICBKU09OLnN0cmluZ2lmeSh7IHByZXNldF9vdmVycmlkZXM6IHJlZmVyZW5jZVByb2ZpbGUgfSksXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtEU1BfVVJMfS9wcm9jZXNzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBib2R5OiBmb3JtRGF0YSxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgY29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JUZXh0IHx8IFwiRmFpbGVkIHRvIHByb2Nlc3MgYXVkaW8gd2l0aCBEU1Agc2VydmljZVwiKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBkYXRhOiB7XHJcbiAgICAgIHN0YXR1cz86IHN0cmluZztcclxuICAgICAgb3V0cHV0X2ZpbGU/OiBzdHJpbmc7XHJcbiAgICAgIHRyYWNrX3R5cGU/OiBzdHJpbmc7XHJcbiAgICAgIHByZXNldD86IHN0cmluZztcclxuICAgIH0gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcblxyXG4gICAgaWYgKGRhdGEuc3RhdHVzICE9PSBcInByb2Nlc3NlZFwiIHx8ICFkYXRhLm91dHB1dF9maWxlKSB7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG91dHB1dFVybCA9IGRhdGEub3V0cHV0X2ZpbGUuc3RhcnRzV2l0aChcImh0dHBcIilcclxuICAgICAgPyBkYXRhLm91dHB1dF9maWxlXHJcbiAgICAgIDogYCR7RFNQX1VSTH0ke2RhdGEub3V0cHV0X2ZpbGV9YDtcclxuXHJcbiAgICBjb25zdCBvdXRSZXNwID0gYXdhaXQgZmV0Y2gob3V0cHV0VXJsKTtcclxuICAgIGlmICghb3V0UmVzcC5vaykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZG93bmxvYWQgcHJvY2Vzc2VkIGF1ZGlvXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvdXRSZXNwLmJsb2IoKTtcclxuICAgIGNvbnN0IHByb2Nlc3NlZEZpbGUgPSBuZXcgRmlsZShbYmxvYl0sIGAke3RyYWNrLm5hbWV9LXByb2Nlc3NlZC53YXZgLCB7XHJcbiAgICAgIHR5cGU6IGJsb2IudHlwZSB8fCBcImF1ZGlvL3dhdlwiLFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHByb2Nlc3NlZEZpbGU7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlUHJvY2Vzc0Z1bGxNaXggPSBhc3luYyAoKSA9PiB7XHJcbiAgICBpZiAoaXNQcm9jZXNzaW5nKSByZXR1cm47XHJcbiAgICBpZiAoIXRyYWNrcy5zb21lKCh0cmFjaykgPT4gdHJhY2suZmlsZSkpIHJldHVybjtcclxuXHJcbiAgICBzZXRJc1Byb2Nlc3NpbmcodHJ1ZSk7XHJcbiAgICBzZXRIYXNNaXhlZChmYWxzZSk7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgdXBkYXRlcyA9IG5ldyBNYXA8c3RyaW5nLCBGaWxlPigpO1xyXG4gICAgICBsZXQgYW55VXBkYXRlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgLy8gUHJvY2VzcyBlYWNoIHRyYWNrIHRoYXQgaGFzIGF1ZGlvIHRocm91Z2ggdGhlIEFJIERTUCBzZXJ2aWNlXHJcbiAgICAgIGZvciAoY29uc3QgdHJhY2sgb2YgdHJhY2tzKSB7XHJcbiAgICAgICAgaWYgKCF0cmFjay5maWxlKSBjb250aW51ZTtcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYXdhaXQtaW4tbG9vcFxyXG4gICAgICAgIGNvbnN0IHByb2Nlc3NlZCA9IGF3YWl0IHByb2Nlc3NUcmFja1dpdGhBSSh0cmFjayk7XHJcbiAgICAgICAgaWYgKHByb2Nlc3NlZCkge1xyXG4gICAgICAgICAgdXBkYXRlcy5zZXQodHJhY2suaWQsIHByb2Nlc3NlZCk7XHJcbiAgICAgICAgICBhbnlVcGRhdGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh1cGRhdGVzLnNpemUgPiAwKSB7XHJcbiAgICAgICAgc2V0VHJhY2tzKChwcmV2KSA9PlxyXG4gICAgICAgICAgcHJldi5tYXAoKHRyYWNrKSA9PlxyXG4gICAgICAgICAgICB1cGRhdGVzLmhhcyh0cmFjay5pZClcclxuICAgICAgICAgICAgICA/IHtcclxuICAgICAgICAgICAgICAgICAgLi4udHJhY2ssXHJcbiAgICAgICAgICAgICAgICAgIGZpbGU6IHVwZGF0ZXMuZ2V0KHRyYWNrLmlkKSA/PyB0cmFjay5maWxlLFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIDogdHJhY2ssXHJcbiAgICAgICAgICApLFxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgICAgc2V0SGFzTWl4ZWQoYW55VXBkYXRlZCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcHJvY2Vzc2luZyBtaXggd2l0aCBBSVwiLCBlcnJvcik7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRJc1Byb2Nlc3NpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVByb2Nlc3NTZWxlY3RlZFRyYWNrID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgaWYgKGlzUHJvY2Vzc2luZykgcmV0dXJuO1xyXG4gICAgaWYgKCFzZWxlY3RlZFRyYWNrSWQpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCB0YXJnZXQgPSB0cmFja3MuZmluZCgodHJhY2spID0+IHRyYWNrLmlkID09PSBzZWxlY3RlZFRyYWNrSWQpO1xyXG4gICAgaWYgKCF0YXJnZXQgfHwgIXRhcmdldC5maWxlKSByZXR1cm47XHJcblxyXG4gICAgc2V0SXNQcm9jZXNzaW5nKHRydWUpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcHJvY2Vzc2VkID0gYXdhaXQgcHJvY2Vzc1RyYWNrV2l0aEFJKHRhcmdldCk7XHJcbiAgICAgIGlmIChwcm9jZXNzZWQpIHtcclxuICAgICAgICBzZXRUcmFja3MoKHByZXYpID0+XHJcbiAgICAgICAgICBwcmV2Lm1hcCgodHJhY2spID0+XHJcbiAgICAgICAgICAgIHRyYWNrLmlkID09PSBzZWxlY3RlZFRyYWNrSWRcclxuICAgICAgICAgICAgICA/IHtcclxuICAgICAgICAgICAgICAgICAgLi4udHJhY2ssXHJcbiAgICAgICAgICAgICAgICAgIGZpbGU6IHByb2Nlc3NlZCxcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICA6IHRyYWNrLFxyXG4gICAgICAgICAgKSxcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcHJvY2Vzc2luZyBzZWxlY3RlZCB0cmFjayB3aXRoIEFJXCIsIGVycm9yKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldElzUHJvY2Vzc2luZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlUHJldmlld01peCA9ICgpID0+IHtcclxuICAgIGlmICghdHJhY2tzLnNvbWUoKHRyYWNrKSA9PiB0cmFjay5maWxlKSkgcmV0dXJuO1xyXG4gICAgaGFuZGxlUHJldigpO1xyXG4gICAgc2V0SXNQbGF5aW5nKHRydWUpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVNlbmRUb01hc3RlciA9IGFzeW5jICgpID0+IHtcclxuICAgIGlmIChpc1Byb2Nlc3NpbmcgfHwgaXNNYXN0ZXJpbmcpIHJldHVybjtcclxuXHJcbiAgICBsZXQgdGFyZ2V0OiBUcmFja1R5cGUgfCB1bmRlZmluZWQgPSB0cmFja3MuZmluZChcclxuICAgICAgKHRyYWNrKSA9PiAodHJhY2sucm9sZSA9PT0gXCJpbnN0cnVtZW50XCIgfHwgdHJhY2sucm9sZSA9PT0gXCJiZWF0XCIpICYmIHRyYWNrLmZpbGUsXHJcbiAgICApO1xyXG5cclxuICAgIGlmICghdGFyZ2V0ICYmIHNlbGVjdGVkVHJhY2tJZCkge1xyXG4gICAgICB0YXJnZXQgPSB0cmFja3MuZmluZCgodHJhY2spID0+IHRyYWNrLmlkID09PSBzZWxlY3RlZFRyYWNrSWQgJiYgdHJhY2suZmlsZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCF0YXJnZXQgfHwgIXRhcmdldC5maWxlKSByZXR1cm47XHJcblxyXG4gICAgc2V0SXNNYXN0ZXJpbmcodHJ1ZSk7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBwcm9jZXNzZWQgPSBhd2FpdCBwcm9jZXNzVHJhY2tXaXRoQUkodGFyZ2V0LCB7IGZvcmNlTWFzdGVyOiB0cnVlIH0pO1xyXG4gICAgICBpZiAocHJvY2Vzc2VkKSB7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0SWQgPSB0YXJnZXQuaWQ7XHJcbiAgICAgICAgc2V0VHJhY2tzKChwcmV2KSA9PlxyXG4gICAgICAgICAgcHJldi5tYXAoKHRyYWNrKSA9PlxyXG4gICAgICAgICAgICB0cmFjay5pZCA9PT0gdGFyZ2V0SWRcclxuICAgICAgICAgICAgICA/IHtcclxuICAgICAgICAgICAgICAgICAgLi4udHJhY2ssXHJcbiAgICAgICAgICAgICAgICAgIGZpbGU6IHByb2Nlc3NlZCxcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICA6IHRyYWNrLFxyXG4gICAgICAgICAgKSxcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3Igc2VuZGluZyBtaXggdG8gbWFzdGVyXCIsIGVycm9yKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldElzTWFzdGVyaW5nKGZhbHNlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVEb3dubG9hZE1peE9ubHkgPSAoKSA9PiB7XHJcbiAgICBpZiAoIWhhc01peGVkKSByZXR1cm47XHJcbiAgICBjb25zdCBwbGF5YWJsZVRyYWNrcyA9IHRyYWNrcy5maWx0ZXIoKHRyYWNrKSA9PiB0cmFjay5maWxlKTtcclxuICAgIGlmICghcGxheWFibGVUcmFja3MubGVuZ3RoKSByZXR1cm47XHJcblxyXG4gICAgcGxheWFibGVUcmFja3MuZm9yRWFjaCgodHJhY2spID0+IHtcclxuICAgICAgaWYgKCF0cmFjay5maWxlKSByZXR1cm47XHJcbiAgICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwodHJhY2suZmlsZSk7XHJcbiAgICAgIGNvbnN0IGFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xyXG4gICAgICBhbmNob3IuaHJlZiA9IHVybDtcclxuICAgICAgYW5jaG9yLmRvd25sb2FkID0gYCR7dHJhY2submFtZSB8fCB0cmFjay5pZH0tbWl4LndhdmA7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYW5jaG9yKTtcclxuICAgICAgYW5jaG9yLmNsaWNrKCk7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYW5jaG9yKTtcclxuICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlUmVmZXJlbmNlRmlsZUNoYW5nZSA9IGFzeW5jIChldmVudDogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcclxuICAgIGNvbnN0IGZpbGUgPSBldmVudC50YXJnZXQuZmlsZXM/LlswXTtcclxuICAgIGlmICghZmlsZSkgcmV0dXJuO1xyXG5cclxuICAgIHNldElzQW5hbHl6aW5nUmVmZXJlbmNlKHRydWUpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgZm9ybURhdGEuYXBwZW5kKFwiZmlsZVwiLCBmaWxlKTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7RFNQX1VSTH0vYW5hbHl6ZWAsIHtcclxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgIGJvZHk6IGZvcm1EYXRhLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gYW5hbHl6ZSByZWZlcmVuY2UgdHJhY2tcIiwgYXdhaXQgcmVzcG9uc2UudGV4dCgpKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgIHNldFJlZmVyZW5jZUFuYWx5c2lzKGRhdGEpO1xyXG4gICAgICBpZiAoZGF0YS5wcmVzZXRfb3ZlcnJpZGVzKSB7XHJcbiAgICAgICAgc2V0UmVmZXJlbmNlUHJvZmlsZShkYXRhLnByZXNldF9vdmVycmlkZXMpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNldFJlZmVyZW5jZVByb2ZpbGUobnVsbCk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBhbmFseXppbmcgcmVmZXJlbmNlIHRyYWNrXCIsIGVycm9yKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldElzQW5hbHl6aW5nUmVmZXJlbmNlKGZhbHNlKTtcclxuICAgICAgLy8gcmVzZXQgaW5wdXQgdmFsdWUgc28gdGhlIHNhbWUgZmlsZSBjYW4gYmUgc2VsZWN0ZWQgYWdhaW4gaWYgbmVlZGVkXHJcbiAgICAgIGV2ZW50LnRhcmdldC52YWx1ZSA9IFwiXCI7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gR2xvYmFsIGtleWJvYXJkIHNob3J0Y3V0cyBmb3Igc2VsZWN0ZWQgdHJhY2sgKEFsdCtQLCBBbHQrRCwgRGVsZXRlKVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB7XHJcbiAgICAgIGlmIChldmVudC5hbHRLZXkgJiYgKGV2ZW50LmtleSA9PT0gXCJwXCIgfHwgZXZlbnQua2V5ID09PSBcIlBcIikpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHZvaWQgaGFuZGxlUHJvY2Vzc1NlbGVjdGVkVHJhY2soKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChldmVudC5hbHRLZXkgJiYgKGV2ZW50LmtleSA9PT0gXCJkXCIgfHwgZXZlbnQua2V5ID09PSBcIkRcIikpIHtcclxuICAgICAgICBpZiAoIXNlbGVjdGVkVHJhY2tJZCkgcmV0dXJuO1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgaGFuZGxlRHVwbGljYXRlVHJhY2soc2VsZWN0ZWRUcmFja0lkKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghZXZlbnQuYWx0S2V5ICYmIGV2ZW50LmtleSA9PT0gXCJEZWxldGVcIikge1xyXG4gICAgICAgIGlmICghc2VsZWN0ZWRUcmFja0lkKSByZXR1cm47XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBoYW5kbGVEZWxldGVUcmFjayhzZWxlY3RlZFRyYWNrSWQpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVLZXlEb3duKTtcclxuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlS2V5RG93bik7XHJcbiAgfSwgW2hhbmRsZVByb2Nlc3NTZWxlY3RlZFRyYWNrLCBoYW5kbGVEdXBsaWNhdGVUcmFjaywgaGFuZGxlRGVsZXRlVHJhY2ssIHNlbGVjdGVkVHJhY2tJZF0pO1xyXG5cclxuICBjb25zdCBpc01peE1hc3Rlck1vZGUgPSBzdHVkaW9Nb2RlID09PSBcIm1peC1tYXN0ZXJcIjtcclxuICBjb25zdCBpc01peE9ubHlNb2RlID0gc3R1ZGlvTW9kZSA9PT0gXCJtaXgtb25seVwiO1xyXG4gIGNvbnN0IGlzTWFzdGVyT25seU1vZGUgPSBzdHVkaW9Nb2RlID09PSBcIm1hc3Rlci1vbmx5XCI7XHJcbiAgY29uc3QgaXNDbGVhbnVwTW9kZSA9IHN0dWRpb01vZGUgPT09IFwiY2xlYW51cFwiO1xyXG4gIGNvbnN0IGlzUG9kY2FzdE1vZGUgPSBzdHVkaW9Nb2RlID09PSBcInBvZGNhc3RcIjtcclxuXHJcbiAgY29uc3QgcHJpbWFyeUFjdGlvbkxhYmVsID0gKCgpID0+IHtcclxuICAgIGlmIChpc0NsZWFudXBNb2RlKSByZXR1cm4gaXNQcm9jZXNzaW5nID8gXCJDbGVhbmluZy4uLlwiIDogXCJSdW4gQ2xlYW51cFwiO1xyXG4gICAgaWYgKGlzTWl4T25seU1vZGUpIHJldHVybiBpc1Byb2Nlc3NpbmcgPyBcIk1peGluZy4uLlwiIDogXCJQcm9jZXNzIE1peFwiO1xyXG4gICAgaWYgKGlzTWl4TWFzdGVyTW9kZSkgcmV0dXJuIGlzUHJvY2Vzc2luZyA/IFwiTWl4aW5nLi4uXCIgOiBcIlJ1biBNaXhcIjtcclxuICAgIGlmIChpc01hc3Rlck9ubHlNb2RlKSByZXR1cm4gaXNQcm9jZXNzaW5nID8gXCJNYXN0ZXJpbmcuLi5cIiA6IFwiUnVuIE1hc3RlclwiO1xyXG4gICAgaWYgKGlzUG9kY2FzdE1vZGUpIHJldHVybiBpc1Byb2Nlc3NpbmcgPyBcIlByb2Nlc3NpbmcuLi5cIiA6IFwiUHJvY2VzcyBTZXNzaW9uXCI7XHJcbiAgICByZXR1cm4gaXNQcm9jZXNzaW5nID8gXCJQcm9jZXNzaW5nIE1peC4uLlwiIDogXCJQcm9jZXNzIEZ1bGwgTWl4XCI7XHJcbiAgfSkoKTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLXNjcmVlbiBmbGV4LWNvbCBiZy1ibGFjayB0ZXh0LXdoaXRlXCI+XHJcbiAgICAgIDxUcmFuc3BvcnRCYXJcclxuICAgICAgICBpc1BsYXlpbmc9e2lzUGxheWluZ31cclxuICAgICAgICBvblBsYXlUb2dnbGU9eygpID0+IHNldElzUGxheWluZygocCkgPT4gIXApfVxyXG4gICAgICAgIG9uU3RvcD17aGFuZGxlU3RvcH1cclxuICAgICAgICBvblByZXY9e2hhbmRsZVByZXZ9XHJcbiAgICAgICAgb25OZXh0PXtoYW5kbGVOZXh0fVxyXG4gICAgICAgIHBsYXloZWFkU2Vjb25kcz17cGxheWhlYWRTZWNvbmRzfVxyXG4gICAgICAgIGdyaWRSZXNvbHV0aW9uPXtncmlkUmVzb2x1dGlvbn1cclxuICAgICAgICBvbkdyaWRSZXNvbHV0aW9uQ2hhbmdlPXtzZXRHcmlkUmVzb2x1dGlvbn1cclxuICAgICAgICBicG09e2JwbX1cclxuICAgICAgICBvbkJwbUNoYW5nZT17c2V0QnBtfVxyXG4gICAgICAgIHNlc3Npb25LZXk9e3Nlc3Npb25LZXl9XHJcbiAgICAgICAgb25TZXNzaW9uS2V5Q2hhbmdlPXtzZXRTZXNzaW9uS2V5fVxyXG4gICAgICAgIHNlc3Npb25TY2FsZT17c2Vzc2lvblNjYWxlfVxyXG4gICAgICAgIG9uU2Vzc2lvblNjYWxlQ2hhbmdlPXtzZXRTZXNzaW9uU2NhbGV9XHJcbiAgICAgIC8+XHJcblxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBvdmVyZmxvdy1hdXRvXCI+XHJcbiAgICAgICAgPFRpbWVsaW5lIHpvb209e3pvb219IGdyaWRSZXNvbHV0aW9uPXtncmlkUmVzb2x1dGlvbn0gYnBtPXticG19IC8+XHJcblxyXG4gICAgICAgIDxkaXY+XHJcbiAgICAgICAgICB7dHJhY2tzLm1hcCgodHJhY2spID0+IChcclxuICAgICAgICAgICAgPFRyYWNrTGFuZVxyXG4gICAgICAgICAgICAgIGtleT17dHJhY2suaWR9XHJcbiAgICAgICAgICAgICAgdHJhY2s9e3RyYWNrfVxyXG4gICAgICAgICAgICAgIHpvb209e3pvb219XHJcbiAgICAgICAgICAgICAgaXNQbGF5aW5nPXtpc1BsYXlpbmd9XHJcbiAgICAgICAgICAgICAgbWFzdGVyVm9sdW1lPXttYXN0ZXJWb2x1bWV9XHJcbiAgICAgICAgICAgICAgb25GaWxlU2VsZWN0ZWQ9e2hhbmRsZUZpbGVTZWxlY3RlZH1cclxuICAgICAgICAgICAgICBvblZvbHVtZUNoYW5nZT17aGFuZGxlVm9sdW1lQ2hhbmdlfVxyXG4gICAgICAgICAgICAgIG9uUGFuQ2hhbmdlPXtoYW5kbGVQYW5DaGFuZ2V9XHJcbiAgICAgICAgICAgICAgb25MZXZlbENoYW5nZT17aGFuZGxlVHJhY2tMZXZlbENoYW5nZX1cclxuICAgICAgICAgICAgICBvbkdlbmRlckNoYW5nZT17aGFuZGxlVHJhY2tHZW5kZXJDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgaXNTZWxlY3RlZD17c2VsZWN0ZWRUcmFja0lkID09PSB0cmFjay5pZH1cclxuICAgICAgICAgICAgICBvblNlbGVjdD17aGFuZGxlU2VsZWN0VHJhY2t9XHJcbiAgICAgICAgICAgICAgb25EZWxldGU9e2hhbmRsZURlbGV0ZVRyYWNrfVxyXG4gICAgICAgICAgICAgIG9uRHVwbGljYXRlPXtoYW5kbGVEdXBsaWNhdGVUcmFja31cclxuICAgICAgICAgICAgICBvblByb2Nlc3M9e2FzeW5jICh0cmFja0lkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gdHJhY2tzLmZpbmQoKHQpID0+IHQuaWQgPT09IHRyYWNrSWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50IHx8ICFjdXJyZW50LmZpbGUgfHwgaXNQcm9jZXNzaW5nKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZFRyYWNrSWQodHJhY2tJZCk7XHJcbiAgICAgICAgICAgICAgICBzZXRJc1Byb2Nlc3NpbmcodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICBjb25zdCBwcm9jZXNzZWQgPSBhd2FpdCBwcm9jZXNzVHJhY2tXaXRoQUkoY3VycmVudCk7XHJcbiAgICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUcmFja3MoKHByZXYpID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICBwcmV2Lm1hcCgodCkgPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdC5pZCA9PT0gdHJhY2tJZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlOiBwcm9jZXNzZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxyXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcHJvY2Vzc2luZyB0cmFjayBmcm9tIGNvbnRleHQgbWVudVwiLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICAgICAgICBzZXRJc1Byb2Nlc3NpbmcoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICApKX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBib3JkZXItdCBib3JkZXItd2hpdGUvMTAgcC0zIHRleHQteHNcIj5cclxuICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICBvbkNsaWNrPXthZGRUcmFja31cclxuICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYmctcmVkLTYwMCBweC00IHB5LTIgdGV4dC1zbSBob3ZlcjpiZy1yZWQtNzAwXCJcclxuICAgICAgICA+XHJcbiAgICAgICAgICArIEFkZCBUcmFja1xyXG4gICAgICAgIDwvYnV0dG9uPlxyXG5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTRcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC13aGl0ZS82MFwiPk1hc3Rlcjwvc3Bhbj5cclxuICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgdHlwZT1cInJhbmdlXCJcclxuICAgICAgICAgICAgICBtaW49ezB9XHJcbiAgICAgICAgICAgICAgbWF4PXsxfVxyXG4gICAgICAgICAgICAgIHN0ZXA9ezAuMDF9XHJcbiAgICAgICAgICAgICAgdmFsdWU9e21hc3RlclZvbHVtZX1cclxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldE1hc3RlclZvbHVtZShOdW1iZXIoZS50YXJnZXQudmFsdWUpKX1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTEgdy0zMiBhY2NlbnQtcmVkLTUwMFwiXHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC02IHctMiBvdmVyZmxvdy1oaWRkZW4gcm91bmRlZCBiZy16aW5jLTgwMFwiPlxyXG4gICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtZnVsbCB3LWZ1bGwgb3JpZ2luLWJvdHRvbSBiZy1ncmFkaWVudC10by10IGZyb20tcmVkLTUwMCB2aWEteWVsbG93LTQwMCB0by1lbWVyYWxkLTQwMCB0cmFuc2l0aW9uLXRyYW5zZm9ybVwiXHJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyB0cmFuc2Zvcm06IGBzY2FsZVkoJHttYXN0ZXJMZXZlbH0pYCB9fVxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC00XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGlkZGVuIGl0ZW1zLWNlbnRlciBnYXAtNCB0ZXh0LVsxMXB4XSB0ZXh0LXdoaXRlLzYwIHNtOmZsZXhcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICA8c3Bhbj5HZW5yZTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDxzZWxlY3RcclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLWJsYWNrLzQwIHB4LTIgcHktMSB0ZXh0LVsxMXB4XSB0ZXh0LXdoaXRlLzkwIG91dGxpbmUtbm9uZVwiXHJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtnZW5yZX1cclxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhldmVudCkgPT4gc2V0R2VucmUoZXZlbnQudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiBjbGFzc05hbWU9XCJiZy1ibGFja1wiPkRhbmNlaGFsbDwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIGNsYXNzTmFtZT1cImJnLWJsYWNrXCI+VHJhcCBEYW5jZWhhbGw8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiBjbGFzc05hbWU9XCJiZy1ibGFja1wiPkFmcm9iZWF0czwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIGNsYXNzTmFtZT1cImJnLWJsYWNrXCI+SGlwIEhvcDwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIGNsYXNzTmFtZT1cImJnLWJsYWNrXCI+UmFwPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gY2xhc3NOYW1lPVwiYmctYmxhY2tcIj5SJmFtcDtCPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gY2xhc3NOYW1lPVwiYmctYmxhY2tcIj5SZWdnYWU8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgdGV4dC1bMTFweF0gdGV4dC13aGl0ZS82MFwiPlxyXG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmbGV4IGN1cnNvci1wb2ludGVyIGl0ZW1zLWNlbnRlciBnYXAtMiByb3VuZGVkLWZ1bGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy1ibGFjay80MCBweC0zIHB5LTEgaG92ZXI6Ym9yZGVyLXJlZC01MDAvNjBcIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuPntpc0FuYWx5emluZ1JlZmVyZW5jZSA/IFwiQW5hbHl6aW5nIHJlZmVyZW5jZS4uLlwiIDogXCJSZWZlcmVuY2UgVHJhY2tcIn08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgdHlwZT1cImZpbGVcIlxyXG4gICAgICAgICAgICAgICAgICBhY2NlcHQ9XCJhdWRpby8qXCJcclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaGlkZGVuXCJcclxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZVJlZmVyZW5jZUZpbGVDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0FuYWx5emluZ1JlZmVyZW5jZX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICB7cmVmZXJlbmNlUHJvZmlsZSAmJiByZWZlcmVuY2VBbmFseXNpcyAmJiAoXHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJyb3VuZGVkLWZ1bGwgYmctZW1lcmFsZC01MDAvMTAgcHgtMiBweS0xIHRleHQtWzEwcHhdIHRleHQtZW1lcmFsZC0zMDBcIj5cclxuICAgICAgICAgICAgICAgICAgUmVmIGxvYWRlZFxyXG4gICAgICAgICAgICAgICAgICB7dHlwZW9mIHJlZmVyZW5jZUFuYWx5c2lzLmx1ZnMgPT09IFwibnVtYmVyXCIgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTEgdGV4dC13aGl0ZS81MFwiPih7cmVmZXJlbmNlQW5hbHlzaXMubHVmcy50b0ZpeGVkKDEpfSBMVUZTKTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVByb2Nlc3NTZWxlY3RlZFRyYWNrfVxyXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e1xyXG4gICAgICAgICAgICAgICAgICBpc1Byb2Nlc3NpbmcgfHxcclxuICAgICAgICAgICAgICAgICAgIXNlbGVjdGVkVHJhY2tJZCB8fFxyXG4gICAgICAgICAgICAgICAgICAhdHJhY2tzLnNvbWUoKHRyYWNrKSA9PiB0cmFjay5pZCA9PT0gc2VsZWN0ZWRUcmFja0lkICYmIHRyYWNrLmZpbGUpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJnLXppbmMtODAwIHB4LTQgcHktMiB0ZXh0LXNtIHRleHQtd2hpdGUvODAgdHJhbnNpdGlvbi1jb2xvcnMgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIGRpc2FibGVkOmJnLXppbmMtODAwLzUwIGRpc2FibGVkOnRleHQtd2hpdGUvNDAgaG92ZXI6YmctemluYy03MDBcIlxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIFByb2Nlc3MgU2VsZWN0ZWQgVHJhY2tcclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuXHJcbiAgICAgICAgICAgICAge2lzTWl4TWFzdGVyTW9kZSAmJiBoYXNNaXhlZCA/IChcclxuICAgICAgICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVQcmV2aWV3TWl4fVxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshdHJhY2tzLnNvbWUoKHRyYWNrKSA9PiB0cmFjay5maWxlKX1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJnLXppbmMtODAwIHB4LTQgcHktMiB0ZXh0LXNtIHRleHQtd2hpdGUvODAgaG92ZXI6YmctemluYy03MDAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIGRpc2FibGVkOmJnLXppbmMtODAwLzUwIGRpc2FibGVkOnRleHQtd2hpdGUvNDBcIlxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgUHJldmlldyBNaXhcclxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVQcm9jZXNzRnVsbE1peH1cclxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNQcm9jZXNzaW5nIHx8ICF0cmFja3Muc29tZSgodHJhY2spID0+IHRyYWNrLmZpbGUpfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYmctemluYy04MDAgcHgtNCBweS0yIHRleHQtc20gdGV4dC13aGl0ZS84MCBob3ZlcjpiZy16aW5jLTcwMCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgZGlzYWJsZWQ6YmctemluYy04MDAvNTAgZGlzYWJsZWQ6dGV4dC13aGl0ZS80MFwiXHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICB7aXNQcm9jZXNzaW5nID8gXCJSZS1ydW5uaW5nIE1peC4uLlwiIDogXCJSZS1ydW4gTWl4XCJ9XHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2VuZFRvTWFzdGVyfVxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtcclxuICAgICAgICAgICAgICAgICAgICAgIGlzUHJvY2Vzc2luZyB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgaXNNYXN0ZXJpbmcgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICF0cmFja3Muc29tZSgodHJhY2spID0+ICh0cmFjay5yb2xlID09PSBcImJlYXRcIiB8fCB0cmFjay5yb2xlID09PSBcImluc3RydW1lbnRcIikgJiYgdHJhY2suZmlsZSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBiZy1yZWQtNjAwIHB4LTQgcHktMiB0ZXh0LXNtIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCBkaXNhYmxlZDpiZy1yZWQtNjAwLzUwXCJcclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIHtpc01hc3RlcmluZyA/IFwiTWFzdGVyaW5nLi4uXCIgOiBcIlNlbmQgdG8gTWFzdGVyXCJ9XHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlRG93bmxvYWRNaXhPbmx5fVxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshaGFzTWl4ZWQgfHwgIXRyYWNrcy5zb21lKCh0cmFjaykgPT4gdHJhY2suZmlsZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBiZy16aW5jLTgwMCBweC00IHB5LTIgdGV4dC1zbSB0ZXh0LXdoaXRlLzgwIGhvdmVyOmJnLXppbmMtNzAwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCBkaXNhYmxlZDpiZy16aW5jLTgwMC81MCBkaXNhYmxlZDp0ZXh0LXdoaXRlLzQwXCJcclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIERvd25sb2FkIE1peCBPbmx5XHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC8+XHJcbiAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVQcm9jZXNzRnVsbE1peH1cclxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNQcm9jZXNzaW5nIHx8ICF0cmFja3Muc29tZSgodHJhY2spID0+IHRyYWNrLmZpbGUpfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYmctcmVkLTYwMCBweC00IHB5LTIgdGV4dC1zbSBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgZGlzYWJsZWQ6YmctcmVkLTYwMC81MFwiXHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICB7cHJpbWFyeUFjdGlvbkxhYmVsfVxyXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgeyhpc01hc3Rlck9ubHlNb2RlIHx8IGlzTWl4T25seU1vZGUgfHwgaXNDbGVhbnVwTW9kZSB8fCBpc1BvZGNhc3RNb2RlKSAmJiBoYXNNaXhlZCAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlRG93bmxvYWRNaXhPbmx5fVxyXG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFoYXNNaXhlZCB8fCAhdHJhY2tzLnNvbWUoKHRyYWNrKSA9PiB0cmFjay5maWxlKX1cclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYmctemluYy04MDAgcHgtNCBweS0yIHRleHQtc20gdGV4dC13aGl0ZS84MCBob3ZlcjpiZy16aW5jLTcwMCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgZGlzYWJsZWQ6YmctemluYy04MDAvNTAgZGlzYWJsZWQ6dGV4dC13aGl0ZS80MFwiXHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAge2lzTWFzdGVyT25seU1vZGUgPyBcIkRvd25sb2FkIE1hc3RlclwiIDogXCJEb3dubG9hZCBQcm9jZXNzZWRcIn1cclxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG4iXSwibmFtZXMiOlsidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwidXNlUmVmIiwidXNlU3RhdGUiLCJ1c2VTZWFyY2hQYXJhbXMiLCJUcmFuc3BvcnRCYXIiLCJUcmFja0xhbmUiLCJUaW1lbGluZSIsIkRTUF9VUkwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfRFNQX1VSTCIsIkdFTlJFX1RPX0RTUF9LRVkiLCJEYW5jZWhhbGwiLCJBZnJvYmVhdHMiLCJSYXAiLCJSZWdnYWUiLCJnZXRJbml0aWFsVHJhY2tzRm9yTW9kZSIsIm1vZGUiLCJpZCIsIm5hbWUiLCJyb2xlIiwidm9sdW1lIiwicGFuIiwiZ2VuZGVyIiwiTWl4U3R1ZGlvIiwic2VhcmNoUGFyYW1zIiwiZmxvd1BhcmFtIiwiZ2V0Iiwic3R1ZGlvTW9kZSIsInRyYWNrcyIsInNldFRyYWNrcyIsImlzUGxheWluZyIsInNldElzUGxheWluZyIsInpvb20iLCJzZXRab29tIiwibWFzdGVyVm9sdW1lIiwic2V0TWFzdGVyVm9sdW1lIiwidHJhY2tMZXZlbHMiLCJzZXRUcmFja0xldmVscyIsInBsYXloZWFkU2Vjb25kcyIsInNldFBsYXloZWFkU2Vjb25kcyIsImdyaWRSZXNvbHV0aW9uIiwic2V0R3JpZFJlc29sdXRpb24iLCJ0cmFja0R1cmF0aW9ucyIsInNldFRyYWNrRHVyYXRpb25zIiwiaXNQcm9jZXNzaW5nIiwic2V0SXNQcm9jZXNzaW5nIiwiZ2VucmUiLCJzZXRHZW5yZSIsImJwbSIsInNldEJwbSIsInNlc3Npb25LZXkiLCJzZXRTZXNzaW9uS2V5Iiwic2Vzc2lvblNjYWxlIiwic2V0U2Vzc2lvblNjYWxlIiwic2VsZWN0ZWRUcmFja0lkIiwic2V0U2VsZWN0ZWRUcmFja0lkIiwiaGFzTWl4ZWQiLCJzZXRIYXNNaXhlZCIsImlzTWFzdGVyaW5nIiwic2V0SXNNYXN0ZXJpbmciLCJyZWZlcmVuY2VQcm9maWxlIiwic2V0UmVmZXJlbmNlUHJvZmlsZSIsInJlZmVyZW5jZUFuYWx5c2lzIiwic2V0UmVmZXJlbmNlQW5hbHlzaXMiLCJpc0FuYWx5emluZ1JlZmVyZW5jZSIsInNldElzQW5hbHl6aW5nUmVmZXJlbmNlIiwicmFmUmVmIiwibGFzdFRpbWVSZWYiLCJoYW5kbGVLZXkiLCJlIiwiY29kZSIsInByZXZlbnREZWZhdWx0IiwicCIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGFuZGxlV2hlZWwiLCJjdHJsS2V5IiwieiIsIk1hdGgiLCJtaW4iLCJtYXgiLCJkZWx0YVkiLCJwYXNzaXZlIiwiY3VycmVudCIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwibG9vcCIsInRpbWUiLCJkZWx0YSIsInByZXYiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJoYW5kbGVGaWxlU2VsZWN0ZWQiLCJ0cmFja0lkIiwiZmlsZSIsIm1hcCIsInRyYWNrIiwiaGFuZGxlVm9sdW1lQ2hhbmdlIiwiaGFuZGxlVHJhY2tMZXZlbENoYW5nZSIsImxldmVsIiwiaGFuZGxlVHJhY2tHZW5kZXJDaGFuZ2UiLCJtYXN0ZXJMZXZlbCIsInZhbHVlcyIsIk9iamVjdCIsImxlbmd0aCIsInByb2plY3REdXJhdGlvbiIsImFkZFRyYWNrIiwibmV4dCIsImNyeXB0byIsInJhbmRvbVVVSUQiLCJoYW5kbGVQYW5DaGFuZ2UiLCJoYW5kbGVSZW5hbWUiLCJldmVudCIsImRldGFpbCIsImhhbmRsZUR1cmF0aW9uIiwiZHVyYXRpb24iLCJoYW5kbGVTdG9wIiwiaGFuZGxlUHJldiIsImRpc3BhdGNoRXZlbnQiLCJFdmVudCIsImhhbmRsZU5leHQiLCJoYW5kbGVTZWxlY3RUcmFjayIsImhhbmRsZURlbGV0ZVRyYWNrIiwiZmlsdGVyIiwiX3JlbW92ZWQiLCJyZXN0IiwiaGFuZGxlRHVwbGljYXRlVHJhY2siLCJpbmRleCIsImZpbmRJbmRleCIsInNvdXJjZSIsImNvcHkiLCJzbGljZSIsInByb2Nlc3NUcmFja1dpdGhBSSIsIm9wdGlvbnMiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwidHJhY2tUeXBlIiwiZm9yY2VNYXN0ZXIiLCJwcmVzZXROYW1lIiwiYXBwZW5kIiwiZ2VucmVLZXkiLCJKU09OIiwic3RyaW5naWZ5IiwicHJlc2V0X292ZXJyaWRlcyIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJib2R5Iiwib2siLCJlcnJvclRleHQiLCJ0ZXh0IiwiRXJyb3IiLCJkYXRhIiwianNvbiIsInN0YXR1cyIsIm91dHB1dF9maWxlIiwib3V0cHV0VXJsIiwic3RhcnRzV2l0aCIsIm91dFJlc3AiLCJibG9iIiwicHJvY2Vzc2VkRmlsZSIsIkZpbGUiLCJ0eXBlIiwiaGFuZGxlUHJvY2Vzc0Z1bGxNaXgiLCJzb21lIiwidXBkYXRlcyIsIk1hcCIsImFueVVwZGF0ZWQiLCJwcm9jZXNzZWQiLCJzZXQiLCJzaXplIiwiaGFzIiwiZXJyb3IiLCJjb25zb2xlIiwiaGFuZGxlUHJvY2Vzc1NlbGVjdGVkVHJhY2siLCJ0YXJnZXQiLCJmaW5kIiwiaGFuZGxlUHJldmlld01peCIsImhhbmRsZVNlbmRUb01hc3RlciIsInRhcmdldElkIiwiaGFuZGxlRG93bmxvYWRNaXhPbmx5IiwicGxheWFibGVUcmFja3MiLCJmb3JFYWNoIiwidXJsIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiYW5jaG9yIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaHJlZiIsImRvd25sb2FkIiwiYXBwZW5kQ2hpbGQiLCJjbGljayIsInJlbW92ZUNoaWxkIiwicmV2b2tlT2JqZWN0VVJMIiwiaGFuZGxlUmVmZXJlbmNlRmlsZUNoYW5nZSIsImZpbGVzIiwidmFsdWUiLCJoYW5kbGVLZXlEb3duIiwiYWx0S2V5Iiwia2V5IiwiaXNNaXhNYXN0ZXJNb2RlIiwiaXNNaXhPbmx5TW9kZSIsImlzTWFzdGVyT25seU1vZGUiLCJpc0NsZWFudXBNb2RlIiwiaXNQb2RjYXN0TW9kZSIsInByaW1hcnlBY3Rpb25MYWJlbCIsImRpdiIsImNsYXNzTmFtZSIsIm9uUGxheVRvZ2dsZSIsIm9uU3RvcCIsIm9uUHJldiIsIm9uTmV4dCIsIm9uR3JpZFJlc29sdXRpb25DaGFuZ2UiLCJvbkJwbUNoYW5nZSIsIm9uU2Vzc2lvbktleUNoYW5nZSIsIm9uU2Vzc2lvblNjYWxlQ2hhbmdlIiwib25GaWxlU2VsZWN0ZWQiLCJvblZvbHVtZUNoYW5nZSIsIm9uUGFuQ2hhbmdlIiwib25MZXZlbENoYW5nZSIsIm9uR2VuZGVyQ2hhbmdlIiwiaXNTZWxlY3RlZCIsIm9uU2VsZWN0Iiwib25EZWxldGUiLCJvbkR1cGxpY2F0ZSIsIm9uUHJvY2VzcyIsInQiLCJidXR0b24iLCJvbkNsaWNrIiwic3BhbiIsImlucHV0Iiwic3RlcCIsIm9uQ2hhbmdlIiwiTnVtYmVyIiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJzZWxlY3QiLCJvcHRpb24iLCJsYWJlbCIsImFjY2VwdCIsImRpc2FibGVkIiwibHVmcyIsInRvRml4ZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/studio/page.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/studio/Timeline.tsx":
/*!****************************************!*\
  !*** ./components/studio/Timeline.tsx ***!
  \****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Timeline; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n\nfunction Timeline(param) {\n    let { zoom, gridResolution, bpm } = param;\n    const baseBarWidth = 80;\n    const resolutionFactor = {\n        \"1/2\": 0.5,\n        \"1/4\": 0.25,\n        \"1/8\": 0.125\n    };\n    const stepWidth = baseBarWidth * zoom * resolutionFactor[gridResolution];\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex h-10 items-stretch border-b border-white/10 bg-zinc-950/90 text-xs text-white/40\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-60 border-r border-white/10 bg-zinc-950/90\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\Timeline.tsx\",\n                lineNumber: 23,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"relative flex-1 overflow-hidden\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"pointer-events-none absolute inset-0 opacity-40\",\n                        style: {\n                            backgroundImage: \"linear-gradient(to right, rgba(148, 163, 184, 0.35) 1px, transparent 1px)\",\n                            backgroundSize: \"\".concat(stepWidth, \"px 100%\")\n                        }\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\Timeline.tsx\",\n                        lineNumber: 27,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"relative flex items-center justify-between px-4 text-[11px]\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex gap-8\",\n                                children: Array.from({\n                                    length: 32\n                                }).map((_, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: i + 1\n                                    }, i, false, {\n                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\Timeline.tsx\",\n                                        lineNumber: 39,\n                                        columnNumber: 15\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\Timeline.tsx\",\n                                lineNumber: 37,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"rounded-full border border-white/10 bg-black/60 px-2 py-0.5 text-[10px] text-white/60\",\n                                children: [\n                                    Math.round(bpm),\n                                    \" BPM\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\Timeline.tsx\",\n                                lineNumber: 42,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\Timeline.tsx\",\n                        lineNumber: 36,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\Timeline.tsx\",\n                lineNumber: 26,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\Timeline.tsx\",\n        lineNumber: 21,\n        columnNumber: 5\n    }, this);\n}\n_c = Timeline;\nvar _c;\n$RefreshReg$(_c, \"Timeline\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvc3R1ZGlvL1RpbWVsaW5lLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFFZSxTQUFTQSxTQUFTLEtBUWhDO1FBUmdDLEVBQy9CQyxJQUFJLEVBQ0pDLGNBQWMsRUFDZEMsR0FBRyxFQUtKLEdBUmdDO0lBUy9CLE1BQU1DLGVBQWU7SUFDckIsTUFBTUMsbUJBQW1EO1FBQ3ZELE9BQU87UUFDUCxPQUFPO1FBQ1AsT0FBTztJQUNUO0lBQ0EsTUFBTUMsWUFBWUYsZUFBZUgsT0FBT0ksZ0JBQWdCLENBQUNILGVBQWU7SUFFeEUscUJBQ0UsOERBQUNLO1FBQUlDLFdBQVU7OzBCQUViLDhEQUFDRDtnQkFBSUMsV0FBVTs7Ozs7OzBCQUdmLDhEQUFDRDtnQkFBSUMsV0FBVTs7a0NBQ2IsOERBQUNEO3dCQUNDQyxXQUFVO3dCQUNWQyxPQUFPOzRCQUNMQyxpQkFDRTs0QkFDRkMsZ0JBQWdCLEdBQWEsT0FBVkwsV0FBVTt3QkFDL0I7Ozs7OztrQ0FHRiw4REFBQ0M7d0JBQUlDLFdBQVU7OzBDQUNiLDhEQUFDRDtnQ0FBSUMsV0FBVTswQ0FDWkksTUFBTUMsSUFBSSxDQUFDO29DQUFFQyxRQUFRO2dDQUFHLEdBQUdDLEdBQUcsQ0FBQyxDQUFDQyxHQUFHQyxrQkFDbEMsOERBQUNDO2tEQUFjRCxJQUFJO3VDQUFSQTs7Ozs7Ozs7OzswQ0FHZiw4REFBQ0M7Z0NBQUtWLFdBQVU7O29DQUNiVyxLQUFLQyxLQUFLLENBQUNqQjtvQ0FBSzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU03QjtLQTlDd0JIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvc3R1ZGlvL1RpbWVsaW5lLnRzeD84ZmEyIl0sInNvdXJjZXNDb250ZW50IjpbInR5cGUgR3JpZFJlc29sdXRpb24gPSBcIjEvMlwiIHwgXCIxLzRcIiB8IFwiMS84XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBUaW1lbGluZSh7XHJcbiAgem9vbSxcclxuICBncmlkUmVzb2x1dGlvbixcclxuICBicG0sXHJcbn06IHtcclxuICB6b29tOiBudW1iZXI7XHJcbiAgZ3JpZFJlc29sdXRpb246IEdyaWRSZXNvbHV0aW9uO1xyXG4gIGJwbTogbnVtYmVyO1xyXG59KSB7XHJcbiAgY29uc3QgYmFzZUJhcldpZHRoID0gODA7XHJcbiAgY29uc3QgcmVzb2x1dGlvbkZhY3RvcjogUmVjb3JkPEdyaWRSZXNvbHV0aW9uLCBudW1iZXI+ID0ge1xyXG4gICAgXCIxLzJcIjogMC41LFxyXG4gICAgXCIxLzRcIjogMC4yNSxcclxuICAgIFwiMS84XCI6IDAuMTI1LFxyXG4gIH07XHJcbiAgY29uc3Qgc3RlcFdpZHRoID0gYmFzZUJhcldpZHRoICogem9vbSAqIHJlc29sdXRpb25GYWN0b3JbZ3JpZFJlc29sdXRpb25dO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMTAgaXRlbXMtc3RyZXRjaCBib3JkZXItYiBib3JkZXItd2hpdGUvMTAgYmctemluYy05NTAvOTAgdGV4dC14cyB0ZXh0LXdoaXRlLzQwXCI+XHJcbiAgICAgIHsvKiBTcGFjZXIgYWxpZ25lZCB3aXRoIHRyYWNrIGhlYWRlciB3aWR0aCAqL31cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTYwIGJvcmRlci1yIGJvcmRlci13aGl0ZS8xMCBiZy16aW5jLTk1MC85MFwiIC8+XHJcblxyXG4gICAgICB7LyogQmFyIGdyaWQgKyBsYWJlbHMgYWJvdmUgYXVkaW8gYXJlYSAqL31cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBmbGV4LTEgb3ZlcmZsb3ctaGlkZGVuXCI+XHJcbiAgICAgICAgPGRpdlxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwicG9pbnRlci1ldmVudHMtbm9uZSBhYnNvbHV0ZSBpbnNldC0wIG9wYWNpdHktNDBcIlxyXG4gICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOlxyXG4gICAgICAgICAgICAgIFwibGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCByZ2JhKDE0OCwgMTYzLCAxODQsIDAuMzUpIDFweCwgdHJhbnNwYXJlbnQgMXB4KVwiLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kU2l6ZTogYCR7c3RlcFdpZHRofXB4IDEwMCVgLFxyXG4gICAgICAgICAgfX1cclxuICAgICAgICAvPlxyXG5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBweC00IHRleHQtWzExcHhdXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLThcIj5cclxuICAgICAgICAgICAge0FycmF5LmZyb20oeyBsZW5ndGg6IDMyIH0pLm1hcCgoXywgaSkgPT4gKFxyXG4gICAgICAgICAgICAgIDxzcGFuIGtleT17aX0+e2kgKyAxfTwvc3Bhbj5cclxuICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInJvdW5kZWQtZnVsbCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLWJsYWNrLzYwIHB4LTIgcHktMC41IHRleHQtWzEwcHhdIHRleHQtd2hpdGUvNjBcIj5cclxuICAgICAgICAgICAge01hdGgucm91bmQoYnBtKX0gQlBNXHJcbiAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG4iXSwibmFtZXMiOlsiVGltZWxpbmUiLCJ6b29tIiwiZ3JpZFJlc29sdXRpb24iLCJicG0iLCJiYXNlQmFyV2lkdGgiLCJyZXNvbHV0aW9uRmFjdG9yIiwic3RlcFdpZHRoIiwiZGl2IiwiY2xhc3NOYW1lIiwic3R5bGUiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJiYWNrZ3JvdW5kU2l6ZSIsIkFycmF5IiwiZnJvbSIsImxlbmd0aCIsIm1hcCIsIl8iLCJpIiwic3BhbiIsIk1hdGgiLCJyb3VuZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/studio/Timeline.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/studio/TrackLane.tsx":
/*!*****************************************!*\
  !*** ./components/studio/TrackLane.tsx ***!
  \*****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ TrackLane; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var wavesurfer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! wavesurfer.js */ \"(app-pages-browser)/./node_modules/wavesurfer.js/dist/wavesurfer.esm.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\nconst ROLE_ACCENT_COLORS = {\n    beat: \"#22c55e\",\n    vocal: \"#38bdf8\",\n    background: \"#a855f7\",\n    adlib: \"#f97316\",\n    instrument: \"#eab308\"\n};\nconst ACCENT_SWATCHES = [\n    \"#ef4444\",\n    \"#22c55e\",\n    \"#38bdf8\",\n    \"#a855f7\",\n    \"#f97316\",\n    \"#eab308\"\n];\nfunction TrackLane(param) {\n    let { track, zoom, isPlaying, onFileSelected, masterVolume, onVolumeChange, onLevelChange, onGenderChange, onPanChange, isSelected, onSelect, onDelete, onDuplicate, onProcess } = param;\n    _s();\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const wavesurferRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const analyserRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const pannerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const meterRafRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const baseVolumeRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(track.volume);\n    const masterVolumeRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(masterVolume);\n    const fadeInRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(true);\n    const fadeOutRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(true);\n    var _ROLE_ACCENT_COLORS_track_role;\n    const [accentColor, setAccentColor] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((_ROLE_ACCENT_COLORS_track_role = ROLE_ACCENT_COLORS[track.role]) !== null && _ROLE_ACCENT_COLORS_track_role !== void 0 ? _ROLE_ACCENT_COLORS_track_role : \"#ef4444\");\n    const [fadeInDuration, setFadeInDuration] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0.5);\n    const [fadeOutDuration, setFadeOutDuration] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0.5);\n    const [isDragging, setIsDragging] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [level, setLevel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [isEditingName, setIsEditingName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [nameDraft, setNameDraft] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(track.name);\n    const [fadeInEnabled, setFadeInEnabled] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [fadeOutEnabled, setFadeOutEnabled] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [trackDuration, setTrackDuration] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [showColorPicker, setShowColorPicker] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isContextMenuOpen, setIsContextMenuOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [contextMenuPos, setContextMenuPos] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const fadeInDurationRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(fadeInDuration);\n    const fadeOutDurationRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(fadeOutDuration);\n    const fadeDragStateRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        baseVolumeRef.current = track.volume;\n    }, [\n        track.volume\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        masterVolumeRef.current = masterVolume;\n    }, [\n        masterVolume\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        fadeInRef.current = fadeInEnabled;\n    }, [\n        fadeInEnabled\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        fadeOutRef.current = fadeOutEnabled;\n    }, [\n        fadeOutEnabled\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        fadeInDurationRef.current = fadeInDuration;\n    }, [\n        fadeInDuration\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        fadeOutDurationRef.current = fadeOutDuration;\n    }, [\n        fadeOutDuration\n    ]);\n    // Create WaveSurfer instance when a file is present\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!track.file || !containerRef.current) {\n            return undefined;\n        }\n        const objectUrl = URL.createObjectURL(track.file);\n        const ws = wavesurfer_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].create({\n            container: containerRef.current,\n            waveColor: \"rgba(248, 250, 252, 0.3)\",\n            progressColor: \"#ef4444\",\n            cursorColor: \"#e5e7eb\",\n            barWidth: 2,\n            barRadius: 2,\n            height: 72,\n            normalize: true,\n            minPxPerSec: 60 * zoom,\n            dragToSeek: true\n        });\n        ws.load(objectUrl);\n        ws.setVolume(track.volume * masterVolume);\n        wavesurferRef.current = ws;\n        const handleAudioProcess = (currentTime)=>{\n            const duration = trackDuration || ws.getDuration() || 0;\n            let fadeFactor = 1;\n            if (fadeInRef.current && fadeInDurationRef.current > 0) {\n                const fadeDuration = fadeInDurationRef.current;\n                const t = Math.max(0, currentTime);\n                if (t < fadeDuration) {\n                    fadeFactor = Math.min(fadeFactor, t / fadeDuration);\n                }\n            }\n            if (fadeOutRef.current && fadeOutDurationRef.current > 0 && duration > 0 && currentTime > duration - fadeOutDurationRef.current) {\n                const remaining = duration - currentTime;\n                const outFactor = Math.max(0, Math.min(1, remaining / fadeOutDurationRef.current));\n                fadeFactor = Math.min(fadeFactor, outFactor);\n            }\n            const baseVolume = Math.max(0, Math.min(1, baseVolumeRef.current * masterVolumeRef.current));\n            ws.setVolume(baseVolume * fadeFactor);\n        };\n        ws.on(\"audioprocess\", handleAudioProcess);\n        const attachAnalyser = ()=>{\n            const backend = ws.backend;\n            if (!backend || typeof backend.ac === \"undefined\") return;\n            const ac = backend.ac;\n            const panner = typeof ac.createStereoPanner === \"function\" ? ac.createStereoPanner() : null;\n            const analyser = ac.createAnalyser();\n            analyser.fftSize = 2048;\n            // Prefer WaveSurfer's filter chain if available, inserting a stereo\n            // panner before the analyser so pan affects playback.\n            if (typeof backend.setFilters === \"function\") {\n                if (panner) {\n                    var _track_pan;\n                    panner.pan.value = (_track_pan = track.pan) !== null && _track_pan !== void 0 ? _track_pan : 0;\n                    backend.setFilters([\n                        panner,\n                        analyser\n                    ]);\n                    pannerRef.current = panner;\n                } else {\n                    backend.setFilters([\n                        analyser\n                    ]);\n                    pannerRef.current = null;\n                }\n            }\n            // Also tap directly from the source so the analyser always sees audio\n            const source = backend.source || backend.bufferSource;\n            if (source && typeof source.connect === \"function\") {\n                try {\n                    // Connect source â†’ analyser without routing analyser to destination,\n                    // so we only \"listen\" for metering and don't affect playback.\n                    source.connect(analyser);\n                } catch (e) {\n                // If the extra tap fails, we still have the filter-chain path.\n                }\n            }\n            analyserRef.current = analyser;\n            const buffer = new Uint8Array(analyser.frequencyBinCount);\n            const loop = ()=>{\n                if (!analyserRef.current) return;\n                analyserRef.current.getByteFrequencyData(buffer);\n                let sum = 0;\n                for(let i = 0; i < buffer.length; i += 1){\n                    sum += buffer[i] * buffer[i];\n                }\n                const rms = Math.sqrt(sum / buffer.length) / 255;\n                const clamped = Math.max(0, Math.min(1, rms));\n                setLevel(clamped);\n                onLevelChange(track.id, clamped);\n                meterRafRef.current = requestAnimationFrame(loop);\n            };\n            if (meterRafRef.current == null) {\n                meterRafRef.current = requestAnimationFrame(loop);\n            }\n        };\n        ws.on(\"ready\", ()=>{\n            attachAnalyser();\n            const duration = ws.getDuration() || 0;\n            setTrackDuration(duration);\n            window.dispatchEvent(new CustomEvent(\"mixsmvrt:track-duration\", {\n                detail: {\n                    id: track.id,\n                    duration\n                }\n            }));\n        });\n        return ()=>{\n            if (meterRafRef.current != null) {\n                cancelAnimationFrame(meterRafRef.current);\n                meterRafRef.current = null;\n            }\n            analyserRef.current = null;\n            pannerRef.current = null;\n            ws.un(\"audioprocess\", handleAudioProcess);\n            const destroyResult = ws.destroy();\n            // WaveSurfer.destroy may return void or a Promise; if it's a Promise,\n            // attach a handler so any AbortError rejection is ignored.\n            if (typeof destroyResult === \"object\" && destroyResult !== null) {\n                const maybePromise = destroyResult;\n                if (typeof maybePromise.catch === \"function\") {\n                    maybePromise.catch((error)=>{\n                        if ((error === null || error === void 0 ? void 0 : error.name) !== \"AbortError\") {\n                            // eslint-disable-next-line no-console\n                            console.debug(\"WaveSurfer destroy error (ignored)\", error);\n                        }\n                    });\n                }\n            }\n            wavesurferRef.current = null;\n            URL.revokeObjectURL(objectUrl);\n        };\n    }, [\n        track.file,\n        track.volume,\n        masterVolume,\n        zoom,\n        onLevelChange,\n        track.id\n    ]);\n    // React to zoom changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (wavesurferRef.current) {\n            wavesurferRef.current.setOptions({\n                minPxPerSec: 60 * zoom\n            });\n        }\n    }, [\n        zoom\n    ]);\n    // React to global transport state\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!wavesurferRef.current) return;\n        if (isPlaying) {\n            wavesurferRef.current.play();\n        } else {\n            wavesurferRef.current.pause();\n        }\n    }, [\n        isPlaying\n    ]);\n    // React to volume changes (track or master)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (wavesurferRef.current) {\n            wavesurferRef.current.setVolume(track.volume * masterVolume);\n        }\n    }, [\n        track.volume,\n        masterVolume\n    ]);\n    // React to pan changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (pannerRef.current) {\n            var _track_pan;\n            const next = Math.max(-1, Math.min(1, (_track_pan = track.pan) !== null && _track_pan !== void 0 ? _track_pan : 0));\n            pannerRef.current.pan.value = next;\n        }\n    }, [\n        track.pan\n    ]);\n    const handleFileChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((event)=>{\n        var _event_target_files;\n        const file = (_event_target_files = event.target.files) === null || _event_target_files === void 0 ? void 0 : _event_target_files[0];\n        if (file) {\n            onFileSelected(track.id, file);\n        }\n    }, [\n        onFileSelected,\n        track.id\n    ]);\n    const handleDrop = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((event)=>{\n        var _event_dataTransfer_files;\n        event.preventDefault();\n        setIsDragging(false);\n        const file = (_event_dataTransfer_files = event.dataTransfer.files) === null || _event_dataTransfer_files === void 0 ? void 0 : _event_dataTransfer_files[0];\n        if (file) {\n            onFileSelected(track.id, file);\n        }\n    }, [\n        onFileSelected,\n        track.id\n    ]);\n    const handleDragOver = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((event)=>{\n        event.preventDefault();\n        setIsDragging(true);\n    }, []);\n    const handleDragLeave = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((event)=>{\n        event.preventDefault();\n        setIsDragging(false);\n    }, []);\n    const handleVolumeInput = (event)=>{\n        onVolumeChange(track.id, Number(event.target.value));\n    };\n    const handleFadeMouseMove = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((event)=>{\n        const state = fadeDragStateRef.current;\n        if (!state) return;\n        const deltaX = event.clientX - state.startX;\n        const deltaSeconds = deltaX / 150; // 150px drag â‰ˆ 1s fade change\n        const raw = state.startDuration + deltaSeconds;\n        const clamped = Math.max(0, Math.min(5, raw));\n        if (state.type === \"in\") {\n            setFadeInDuration(clamped);\n        } else {\n            setFadeOutDuration(clamped);\n        }\n    }, []);\n    const handleFadeMouseUp = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (!fadeDragStateRef.current) return;\n        fadeDragStateRef.current = null;\n        window.removeEventListener(\"mousemove\", handleFadeMouseMove);\n        window.removeEventListener(\"mouseup\", handleFadeMouseUp);\n    }, [\n        handleFadeMouseMove\n    ]);\n    const startFadeDrag = (type)=>(event)=>{\n            event.preventDefault();\n            if (type === \"in\") {\n                setFadeInEnabled(true);\n            } else {\n                setFadeOutEnabled(true);\n            }\n            const startDuration = type === \"in\" ? fadeInDurationRef.current : fadeOutDurationRef.current;\n            fadeDragStateRef.current = {\n                type,\n                startX: event.clientX,\n                startDuration\n            };\n            window.addEventListener(\"mousemove\", handleFadeMouseMove);\n            window.addEventListener(\"mouseup\", handleFadeMouseUp);\n        };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        return ()=>{\n            window.removeEventListener(\"mousemove\", handleFadeMouseMove);\n            window.removeEventListener(\"mouseup\", handleFadeMouseUp);\n        };\n    }, [\n        handleFadeMouseMove,\n        handleFadeMouseUp\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleGlobalClick = ()=>{\n            if (isContextMenuOpen) {\n                setIsContextMenuOpen(false);\n                setContextMenuPos(null);\n            }\n        };\n        window.addEventListener(\"click\", handleGlobalClick);\n        return ()=>window.removeEventListener(\"click\", handleGlobalClick);\n    }, [\n        isContextMenuOpen\n    ]);\n    const commitNameChange = ()=>{\n        const trimmed = nameDraft.trim();\n        setIsEditingName(false);\n        if (!trimmed || trimmed === track.name) return;\n        // Bubble name change via a CustomEvent so the parent page can handle it\n        window.dispatchEvent(new CustomEvent(\"mixsmvrt:rename-track\", {\n            detail: {\n                id: track.id,\n                name: trimmed\n            }\n        }));\n    };\n    // Respond to global transport prev/next events to seek audio\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handlePrev = ()=>{\n            if (!wavesurferRef.current) return;\n            try {\n                wavesurferRef.current.seekTo(0);\n            } catch (e) {\n            // ignore\n            }\n        };\n        const handleNext = ()=>{\n            if (!wavesurferRef.current) return;\n            try {\n                wavesurferRef.current.seekTo(1);\n            } catch (e) {\n            // ignore\n            }\n        };\n        window.addEventListener(\"mixsmvrt:transport-prev\", handlePrev);\n        window.addEventListener(\"mixsmvrt:transport-next\", handleNext);\n        return ()=>{\n            window.removeEventListener(\"mixsmvrt:transport-prev\", handlePrev);\n            window.removeEventListener(\"mixsmvrt:transport-next\", handleNext);\n        };\n    }, []);\n    var _track_pan;\n    const panValue = (_track_pan = track.pan) !== null && _track_pan !== void 0 ? _track_pan : 0;\n    const volumePercent = Math.round(track.volume * 100);\n    const panPercent = Math.round(panValue * 100);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative flex border-b bg-black/40 transition-colors \".concat(isSelected ? \"border-red-500/70 bg-gradient-to-r from-red-950/60 via-black/60 to-zinc-950/40 shadow-[0_0_0_1px_rgba(248,113,113,0.6)]\" : \"border-white/5 hover:bg-zinc-900/40\"),\n        onClick: (event)=>{\n            const target = event.target;\n            if (target.closest(\"button, input, select, label\")) return;\n            onSelect(track.id);\n        },\n        onContextMenu: (event)=>{\n            event.preventDefault();\n            onSelect(track.id);\n            setIsContextMenuOpen(true);\n            setContextMenuPos({\n                x: event.clientX,\n                y: event.clientY\n            });\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex w-60 flex-col justify-between border-r border-white/10 bg-zinc-900/90 p-3 text-xs\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between gap-2\",\n                        children: [\n                            isEditingName ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                autoFocus: true,\n                                value: nameDraft,\n                                onChange: (event)=>setNameDraft(event.target.value),\n                                onBlur: commitNameChange,\n                                onKeyDown: (event)=>{\n                                    if (event.key === \"Enter\") commitNameChange();\n                                    if (event.key === \"Escape\") {\n                                        setIsEditingName(false);\n                                        setNameDraft(track.name);\n                                    }\n                                },\n                                className: \"max-w-[130px] rounded bg-zinc-800 px-1 py-0.5 text-sm font-medium text-white outline-none ring-1 ring-red-500/40\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                lineNumber: 476,\n                                columnNumber: 13\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                onClick: ()=>{\n                                    setNameDraft(track.name);\n                                    setIsEditingName(true);\n                                },\n                                className: \"max-w-[130px] truncate text-left text-sm font-medium text-white/90 hover:text-white\",\n                                children: track.name\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                lineNumber: 491,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-1.5\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"rounded bg-zinc-800 px-1.5 py-0.5 text-[10px] uppercase text-white/60\",\n                                        children: track.role\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                        lineNumber: 503,\n                                        columnNumber: 13\n                                    }, this),\n                                    track.role !== \"beat\" && track.role !== \"instrument\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                        className: \"rounded bg-zinc-800 px-1.5 py-0.5 text-[10px] text-white/80 outline-none\",\n                                        value: track.gender || \"male\",\n                                        onChange: (event)=>onGenderChange(track.id, event.target.value === \"female\" ? \"female\" : \"male\"),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"male\",\n                                                children: \"M\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                                lineNumber: 517,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"female\",\n                                                children: \"F\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                                lineNumber: 518,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                        lineNumber: 507,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                lineNumber: 502,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                        lineNumber: 474,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-1 flex items-center gap-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex flex-col items-center gap-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"h-12 w-2 overflow-hidden rounded bg-zinc-800\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"h-full w-full origin-bottom bg-gradient-to-t from-red-500 via-yellow-400 to-emerald-400 transition-transform\",\n                                            style: {\n                                                transform: \"scaleY(\".concat(level, \")\")\n                                            }\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                            lineNumber: 527,\n                                            columnNumber: 15\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                        lineNumber: 526,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-[10px] text-white/50\",\n                                        children: \"LVL\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                        lineNumber: 532,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                lineNumber: 525,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1 space-y-1.5\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"flex items-center gap-3 text-[10px] text-white/60\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"w-6\",\n                                                children: \"Vol\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                                lineNumber: 537,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex flex-1 items-center gap-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"range\",\n                                                        min: 0,\n                                                        max: 1,\n                                                        step: 0.01,\n                                                        value: track.volume,\n                                                        onChange: handleVolumeInput,\n                                                        className: \"h-2 w-full cursor-pointer accent-red-500\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                                        lineNumber: 539,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"w-10 text-right text-[9px] text-white/50\",\n                                                        children: [\n                                                            volumePercent,\n                                                            \"%\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                                        lineNumber: 548,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                                lineNumber: 538,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                        lineNumber: 536,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"flex items-center gap-3 text-[10px] text-white/60\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"w-6\",\n                                                children: \"Pan\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                                lineNumber: 554,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex flex-1 items-center gap-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"range\",\n                                                        min: -1,\n                                                        max: 1,\n                                                        step: 0.01,\n                                                        value: panValue,\n                                                        onChange: (event)=>onPanChange(track.id, Number(event.target.value) || 0),\n                                                        className: \"h-2 w-full cursor-pointer accent-red-500\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                                        lineNumber: 556,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"w-6 text-center text-[9px] text-white/40\",\n                                                        children: panValue && Math.abs(panValue) > 0.05 ? panValue < 0 ? \"L\" : \"R\" : \"C\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                                        lineNumber: 567,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"w-10 text-right text-[9px] text-white/50\",\n                                                        children: panPercent > 0 ? \"\".concat(panPercent, \"%\") : panPercent < 0 ? \"\".concat(panPercent, \"%\") : \"0%\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                                        lineNumber: 574,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                                lineNumber: 555,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                        lineNumber: 553,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                lineNumber: 535,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                        lineNumber: 524,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-2 flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"inline-flex cursor-pointer items-center rounded bg-zinc-800 px-2 py-1 text-[10px] font-medium\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"Upload\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                        lineNumber: 588,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"file\",\n                                        accept: \"audio/*\",\n                                        className: \"hidden\",\n                                        onChange: handleFileChange\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                        lineNumber: 589,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                lineNumber: 587,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"truncate text-[10px] text-white/40\",\n                                children: track.file ? track.file.name : \"Drop audio here\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                lineNumber: 596,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                        lineNumber: 586,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                lineNumber: 473,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"relative flex flex-1 items-center overflow-hidden border-l bg-zinc-950/95 \".concat(isDragging ? \"ring-1 ring-red-500/80\" : \"\", \" \").concat(track.file ? \"rounded-lg shadow-[0_0_0_1px_rgba(248,250,252,0.06)]\" : \"border-white/5\"),\n                style: track.file ? {\n                    borderColor: \"\".concat(accentColor, \"80\"),\n                    boxShadow: \"0 0 24px \".concat(accentColor, \"40\"),\n                    // Use 8-digit hex to add subtle alpha to the full background.\n                    // e.g. #22c55e40 for a soft green wash.\n                    backgroundColor: \"\".concat(accentColor, \"26\")\n                } : undefined,\n                onDragOver: handleDragOver,\n                onDragLeave: handleDragLeave,\n                onDrop: handleDrop,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"pointer-events-none absolute inset-0 opacity-40 z-0\",\n                        style: {\n                            backgroundImage: \"linear-gradient(to right, rgba(39,39,42,0.85) 1px, transparent 1px)\",\n                            backgroundSize: \"\".concat(80 * zoom, \"px 100%\")\n                        }\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                        lineNumber: 626,\n                        columnNumber: 9\n                    }, this),\n                    !track.file && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"pointer-events-none absolute inset-0 flex items-center justify-center text-[11px] text-white/40\",\n                        children: \"Drag & drop audio file\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                        lineNumber: 635,\n                        columnNumber: 11\n                    }, this),\n                    track.file && trackDuration > 0 && fadeInEnabled && fadeInDuration > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"pointer-events-none absolute inset-y-0 left-0 z-[1]\",\n                        style: {\n                            width: \"\".concat(Math.min(100, fadeInDuration / trackDuration * 100), \"%\"),\n                            backgroundImage: \"linear-gradient(to right, rgba(15,23,42,0.95), transparent)\"\n                        }\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                        lineNumber: 640,\n                        columnNumber: 11\n                    }, this),\n                    track.file && trackDuration > 0 && fadeOutEnabled && fadeOutDuration > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"pointer-events-none absolute inset-y-0 right-0 z-[1]\",\n                        style: {\n                            width: \"\".concat(Math.min(100, fadeOutDuration / trackDuration * 100), \"%\"),\n                            backgroundImage: \"linear-gradient(to left, rgba(15,23,42,0.95), transparent)\"\n                        }\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                        lineNumber: 650,\n                        columnNumber: 11\n                    }, this),\n                    track.file && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute bottom-2 left-2 z-20\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                onClick: ()=>setShowColorPicker((v)=>!v),\n                                className: \"flex h-6 w-6 items-center justify-center rounded border border-white/20 bg-black/60 shadow-sm hover:border-white/40\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-4 w-4 rounded-sm\",\n                                    style: {\n                                        backgroundImage: \"linear-gradient(135deg,#ef4444,#22c55e,#3b82f6,#a855f7)\"\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                    lineNumber: 666,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                lineNumber: 661,\n                                columnNumber: 13\n                            }, this),\n                            showColorPicker && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-1 rounded-md border border-white/10 bg-black/95 p-1 shadow-xl\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex gap-1\",\n                                    children: ACCENT_SWATCHES.map((color)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            type: \"button\",\n                                            onClick: ()=>{\n                                                setAccentColor(color);\n                                                setShowColorPicker(false);\n                                            },\n                                            className: \"h-5 w-5 rounded-sm border border-white/10 hover:border-white/60\",\n                                            style: {\n                                                backgroundColor: color\n                                            }\n                                        }, color, false, {\n                                            fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                            lineNumber: 678,\n                                            columnNumber: 21\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                    lineNumber: 676,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                lineNumber: 675,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                        lineNumber: 660,\n                        columnNumber: 11\n                    }, this),\n                    track.file && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                onClick: ()=>setFadeInEnabled((v)=>!v),\n                                onMouseDown: startFadeDrag(\"in\"),\n                                className: \"absolute left-2 top-2 z-10 flex h-5 w-5 items-center justify-center rounded border text-[10px] transition-colors \".concat(fadeInEnabled ? \"border-red-500/70 bg-red-500/20 text-red-200\" : \"border-zinc-600 bg-zinc-900/80 text-zinc-300\"),\n                                children: \"â—¢\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                lineNumber: 696,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                onClick: ()=>setFadeOutEnabled((v)=>!v),\n                                onMouseDown: startFadeDrag(\"out\"),\n                                className: \"absolute right-2 top-2 z-10 flex h-5 w-5 items-center justify-center rounded border text-[10px] transition-colors \".concat(fadeOutEnabled ? \"border-red-500/70 bg-red-500/20 text-red-200\" : \"border-zinc-600 bg-zinc-900/80 text-zinc-300\"),\n                                children: \"â—£\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                lineNumber: 708,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        ref: containerRef,\n                        className: \"relative z-10 h-[72px] w-full overflow-hidden\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                        lineNumber: 722,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                lineNumber: 603,\n                columnNumber: 7\n            }, this),\n            isContextMenuOpen && contextMenuPos && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed z-40 min-w-[180px] rounded-md border border-white/10 bg-zinc-900/95 py-1 text-xs shadow-xl backdrop-blur-md\",\n                style: {\n                    top: contextMenuPos.y + 2,\n                    left: contextMenuPos.x + 2\n                },\n                onClick: (event)=>{\n                    event.stopPropagation();\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"button\",\n                        className: \"flex w-full items-center justify-between px-3 py-1.5 text-left text-white hover:bg-red-600/80\",\n                        onClick: ()=>{\n                            setIsContextMenuOpen(false);\n                            setContextMenuPos(null);\n                            onProcess(track.id);\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: \"Process Track with AI\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                lineNumber: 745,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-[10px] uppercase text-white/50\",\n                                children: \"Alt+P\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                lineNumber: 746,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                        lineNumber: 736,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"my-1 h-px bg-white/10\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                        lineNumber: 748,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"button\",\n                        className: \"flex w-full items-center justify-between px-3 py-1.5 text-left text-white hover:bg-zinc-800\",\n                        onClick: ()=>{\n                            setIsContextMenuOpen(false);\n                            setContextMenuPos(null);\n                            onDuplicate(track.id);\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: \"Duplicate Track\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                lineNumber: 758,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-[10px] uppercase text-white/50\",\n                                children: \"Alt+D\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                lineNumber: 759,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                        lineNumber: 749,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"button\",\n                        className: \"flex w-full items-center justify-between px-3 py-1.5 text-left text-red-400 hover:bg-red-900/70\",\n                        onClick: ()=>{\n                            setIsContextMenuOpen(false);\n                            setContextMenuPos(null);\n                            onDelete(track.id);\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: \"Delete Track\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                lineNumber: 770,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-[10px] uppercase text-red-300/70\",\n                                children: \"Del\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                                lineNumber: 771,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                        lineNumber: 761,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n                lineNumber: 729,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TrackLane.tsx\",\n        lineNumber: 454,\n        columnNumber: 5\n    }, this);\n}\n_s(TrackLane, \"osnqxGgQND8MX1+Zwtf39ziOnpw=\");\n_c = TrackLane;\nvar _c;\n$RefreshReg$(_c, \"TrackLane\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvc3R1ZGlvL1RyYWNrTGFuZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUVpRTtBQUMxQjtBQUd2QyxNQUFNSyxxQkFBd0Q7SUFDNURDLE1BQU07SUFDTkMsT0FBTztJQUNQQyxZQUFZO0lBQ1pDLE9BQU87SUFDUEMsWUFBWTtBQUNkO0FBRUEsTUFBTUMsa0JBQWtCO0lBQ3RCO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtDQUNEO0FBbUJjLFNBQVNDLFVBQVUsS0FlakI7UUFmaUIsRUFDaENDLEtBQUssRUFDTEMsSUFBSSxFQUNKQyxTQUFTLEVBQ1RDLGNBQWMsRUFDZEMsWUFBWSxFQUNaQyxjQUFjLEVBQ2RDLGFBQWEsRUFDYkMsY0FBYyxFQUNkQyxXQUFXLEVBQ1hDLFVBQVUsRUFDVkMsUUFBUSxFQUNSQyxRQUFRLEVBQ1JDLFdBQVcsRUFDWEMsU0FBUyxFQUNNLEdBZmlCOztJQWdCaEMsTUFBTUMsZUFBZXpCLDZDQUFNQSxDQUF3QjtJQUNuRCxNQUFNMEIsZ0JBQWdCMUIsNkNBQU1BLENBQW9CO0lBQ2hELE1BQU0yQixjQUFjM0IsNkNBQU1BLENBQXNCO0lBQ2hELE1BQU00QixZQUFZNUIsNkNBQU1BLENBQTBCO0lBQ2xELE1BQU02QixjQUFjN0IsNkNBQU1BLENBQWdCO0lBQzFDLE1BQU04QixnQkFBZ0I5Qiw2Q0FBTUEsQ0FBQ1csTUFBTW9CLE1BQU07SUFDekMsTUFBTUMsa0JBQWtCaEMsNkNBQU1BLENBQUNlO0lBQy9CLE1BQU1rQixZQUFZakMsNkNBQU1BLENBQUM7SUFDekIsTUFBTWtDLGFBQWFsQyw2Q0FBTUEsQ0FBQztRQUV4Qkc7SUFERixNQUFNLENBQUNnQyxhQUFhQyxlQUFlLEdBQUduQywrQ0FBUUEsQ0FDNUNFLENBQUFBLGlDQUFBQSxrQkFBa0IsQ0FBQ1EsTUFBTTBCLElBQUksQ0FBQyxjQUE5QmxDLDRDQUFBQSxpQ0FBa0M7SUFFcEMsTUFBTSxDQUFDbUMsZ0JBQWdCQyxr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Q0xpQixXQUFVO3dCQUNWQyxTQUFTOzRCQUNQMUgscUJBQXFCOzRCQUNyQkUsa0JBQWtCOzRCQUNsQnZDLFlBQVlaLE1BQU1rSCxFQUFFO3dCQUN0Qjs7MENBRUEsOERBQUNzRTswQ0FBSzs7Ozs7OzBDQUNOLDhEQUFDQTtnQ0FBS2QsV0FBVTswQ0FBc0M7Ozs7Ozs7Ozs7OztrQ0FFeEQsOERBQUNhO3dCQUNDOUIsTUFBSzt3QkFDTGlCLFdBQVU7d0JBQ1ZDLFNBQVM7NEJBQ1AxSCxxQkFBcUI7NEJBQ3JCRSxrQkFBa0I7NEJBQ2xCeEMsU0FBU1gsTUFBTWtILEVBQUU7d0JBQ25COzswQ0FFQSw4REFBQ3NFOzBDQUFLOzs7Ozs7MENBQ04sOERBQUNBO2dDQUFLZCxXQUFVOzBDQUF3Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTXBFO0dBaHVCd0IzSztLQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9jb21wb25lbnRzL3N0dWRpby9UcmFja0xhbmUudHN4PzkxNTciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XHJcblxyXG5pbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCBXYXZlU3VyZmVyIGZyb20gXCJ3YXZlc3VyZmVyLmpzXCI7XHJcbmltcG9ydCB0eXBlIHsgVHJhY2tUeXBlIH0gZnJvbSBcIi4uLy4uL2FwcC9zdHVkaW8vcGFnZVwiO1xyXG5cclxuY29uc3QgUk9MRV9BQ0NFTlRfQ09MT1JTOiBSZWNvcmQ8VHJhY2tUeXBlW1wicm9sZVwiXSwgc3RyaW5nPiA9IHtcclxuICBiZWF0OiBcIiMyMmM1NWVcIixcclxuICB2b2NhbDogXCIjMzhiZGY4XCIsXHJcbiAgYmFja2dyb3VuZDogXCIjYTg1NWY3XCIsXHJcbiAgYWRsaWI6IFwiI2Y5NzMxNlwiLFxyXG4gIGluc3RydW1lbnQ6IFwiI2VhYjMwOFwiLFxyXG59O1xyXG5cclxuY29uc3QgQUNDRU5UX1NXQVRDSEVTID0gW1xyXG4gIFwiI2VmNDQ0NFwiLFxyXG4gIFwiIzIyYzU1ZVwiLFxyXG4gIFwiIzM4YmRmOFwiLFxyXG4gIFwiI2E4NTVmN1wiLFxyXG4gIFwiI2Y5NzMxNlwiLFxyXG4gIFwiI2VhYjMwOFwiLFxyXG5dO1xyXG5cclxudHlwZSBUcmFja0xhbmVQcm9wcyA9IHtcclxuICB0cmFjazogVHJhY2tUeXBlO1xyXG4gIHpvb206IG51bWJlcjtcclxuICBpc1BsYXlpbmc6IGJvb2xlYW47XHJcbiAgbWFzdGVyVm9sdW1lOiBudW1iZXI7XHJcbiAgb25GaWxlU2VsZWN0ZWQ6ICh0cmFja0lkOiBzdHJpbmcsIGZpbGU6IEZpbGUpID0+IHZvaWQ7XHJcbiAgb25Wb2x1bWVDaGFuZ2U6ICh0cmFja0lkOiBzdHJpbmcsIHZvbHVtZTogbnVtYmVyKSA9PiB2b2lkO1xyXG4gIG9uTGV2ZWxDaGFuZ2U6ICh0cmFja0lkOiBzdHJpbmcsIGxldmVsOiBudW1iZXIpID0+IHZvaWQ7XHJcbiAgb25HZW5kZXJDaGFuZ2U6ICh0cmFja0lkOiBzdHJpbmcsIGdlbmRlcjogXCJtYWxlXCIgfCBcImZlbWFsZVwiKSA9PiB2b2lkO1xyXG4gIG9uUGFuQ2hhbmdlOiAodHJhY2tJZDogc3RyaW5nLCBwYW46IG51bWJlcikgPT4gdm9pZDtcclxuICBpc1NlbGVjdGVkOiBib29sZWFuO1xyXG4gIG9uU2VsZWN0OiAodHJhY2tJZDogc3RyaW5nKSA9PiB2b2lkO1xyXG4gIG9uRGVsZXRlOiAodHJhY2tJZDogc3RyaW5nKSA9PiB2b2lkO1xyXG4gIG9uRHVwbGljYXRlOiAodHJhY2tJZDogc3RyaW5nKSA9PiB2b2lkO1xyXG4gIG9uUHJvY2VzczogKHRyYWNrSWQ6IHN0cmluZykgPT4gdm9pZDtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFRyYWNrTGFuZSh7XHJcbiAgdHJhY2ssXHJcbiAgem9vbSxcclxuICBpc1BsYXlpbmcsXHJcbiAgb25GaWxlU2VsZWN0ZWQsXHJcbiAgbWFzdGVyVm9sdW1lLFxyXG4gIG9uVm9sdW1lQ2hhbmdlLFxyXG4gIG9uTGV2ZWxDaGFuZ2UsXHJcbiAgb25HZW5kZXJDaGFuZ2UsXHJcbiAgb25QYW5DaGFuZ2UsXHJcbiAgaXNTZWxlY3RlZCxcclxuICBvblNlbGVjdCxcclxuICBvbkRlbGV0ZSxcclxuICBvbkR1cGxpY2F0ZSxcclxuICBvblByb2Nlc3MsXHJcbn06IFRyYWNrTGFuZVByb3BzKSB7XHJcbiAgY29uc3QgY29udGFpbmVyUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50IHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3Qgd2F2ZXN1cmZlclJlZiA9IHVzZVJlZjxXYXZlU3VyZmVyIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgYW5hbHlzZXJSZWYgPSB1c2VSZWY8QW5hbHlzZXJOb2RlIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgcGFubmVyUmVmID0gdXNlUmVmPFN0ZXJlb1Bhbm5lck5vZGUgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBtZXRlclJhZlJlZiA9IHVzZVJlZjxudW1iZXIgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBiYXNlVm9sdW1lUmVmID0gdXNlUmVmKHRyYWNrLnZvbHVtZSk7XHJcbiAgY29uc3QgbWFzdGVyVm9sdW1lUmVmID0gdXNlUmVmKG1hc3RlclZvbHVtZSk7XHJcbiAgY29uc3QgZmFkZUluUmVmID0gdXNlUmVmKHRydWUpO1xyXG4gIGNvbnN0IGZhZGVPdXRSZWYgPSB1c2VSZWYodHJ1ZSk7XHJcbiAgY29uc3QgW2FjY2VudENvbG9yLCBzZXRBY2NlbnRDb2xvcl0gPSB1c2VTdGF0ZTxzdHJpbmc+KFxyXG4gICAgUk9MRV9BQ0NFTlRfQ09MT1JTW3RyYWNrLnJvbGVdID8/IFwiI2VmNDQ0NFwiLFxyXG4gICk7XHJcbiAgY29uc3QgW2ZhZGVJbkR1cmF0aW9uLCBzZXRGYWRlSW5EdXJhdGlvbl0gPSB1c2VTdGF0ZSgwLjUpO1xyXG4gIGNvbnN0IFtmYWRlT3V0RHVyYXRpb24sIHNldEZhZGVPdXREdXJhdGlvbl0gPSB1c2VTdGF0ZSgwLjUpO1xyXG4gIGNvbnN0IFtpc0RyYWdnaW5nLCBzZXRJc0RyYWdnaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbbGV2ZWwsIHNldExldmVsXSA9IHVzZVN0YXRlKDApO1xyXG4gIGNvbnN0IFtpc0VkaXRpbmdOYW1lLCBzZXRJc0VkaXRpbmdOYW1lXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbbmFtZURyYWZ0LCBzZXROYW1lRHJhZnRdID0gdXNlU3RhdGUodHJhY2submFtZSk7XHJcbiAgY29uc3QgW2ZhZGVJbkVuYWJsZWQsIHNldEZhZGVJbkVuYWJsZWRdID0gdXNlU3RhdGUodHJ1ZSk7XHJcbiAgY29uc3QgW2ZhZGVPdXRFbmFibGVkLCBzZXRGYWRlT3V0RW5hYmxlZF0gPSB1c2VTdGF0ZSh0cnVlKTtcclxuICBjb25zdCBbdHJhY2tEdXJhdGlvbiwgc2V0VHJhY2tEdXJhdGlvbl0gPSB1c2VTdGF0ZSgwKTtcclxuICBjb25zdCBbc2hvd0NvbG9yUGlja2VyLCBzZXRTaG93Q29sb3JQaWNrZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtpc0NvbnRleHRNZW51T3Blbiwgc2V0SXNDb250ZXh0TWVudU9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtjb250ZXh0TWVudVBvcywgc2V0Q29udGV4dE1lbnVQb3NdID0gdXNlU3RhdGU8eyB4OiBudW1iZXI7IHk6IG51bWJlciB9IHwgbnVsbD4oXHJcbiAgICBudWxsLFxyXG4gICk7XHJcblxyXG4gIGNvbnN0IGZhZGVJbkR1cmF0aW9uUmVmID0gdXNlUmVmKGZhZGVJbkR1cmF0aW9uKTtcclxuICBjb25zdCBmYWRlT3V0RHVyYXRpb25SZWYgPSB1c2VSZWYoZmFkZU91dER1cmF0aW9uKTtcclxuICBjb25zdCBmYWRlRHJhZ1N0YXRlUmVmID0gdXNlUmVmPFxyXG4gICAgfCB7XHJcbiAgICAgICAgdHlwZTogXCJpblwiIHwgXCJvdXRcIjtcclxuICAgICAgICBzdGFydFg6IG51bWJlcjtcclxuICAgICAgICBzdGFydER1cmF0aW9uOiBudW1iZXI7XHJcbiAgICAgIH1cclxuICAgIHwgbnVsbFxyXG4gID4obnVsbCk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBiYXNlVm9sdW1lUmVmLmN1cnJlbnQgPSB0cmFjay52b2x1bWU7XHJcbiAgfSwgW3RyYWNrLnZvbHVtZV0pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgbWFzdGVyVm9sdW1lUmVmLmN1cnJlbnQgPSBtYXN0ZXJWb2x1bWU7XHJcbiAgfSwgW21hc3RlclZvbHVtZV0pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgZmFkZUluUmVmLmN1cnJlbnQgPSBmYWRlSW5FbmFibGVkO1xyXG4gIH0sIFtmYWRlSW5FbmFibGVkXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBmYWRlT3V0UmVmLmN1cnJlbnQgPSBmYWRlT3V0RW5hYmxlZDtcclxuICB9LCBbZmFkZU91dEVuYWJsZWRdKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGZhZGVJbkR1cmF0aW9uUmVmLmN1cnJlbnQgPSBmYWRlSW5EdXJhdGlvbjtcclxuICB9LCBbZmFkZUluRHVyYXRpb25dKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGZhZGVPdXREdXJhdGlvblJlZi5jdXJyZW50ID0gZmFkZU91dER1cmF0aW9uO1xyXG4gIH0sIFtmYWRlT3V0RHVyYXRpb25dKTtcclxuXHJcbiAgLy8gQ3JlYXRlIFdhdmVTdXJmZXIgaW5zdGFuY2Ugd2hlbiBhIGZpbGUgaXMgcHJlc2VudFxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIXRyYWNrLmZpbGUgfHwgIWNvbnRhaW5lclJlZi5jdXJyZW50KSB7XHJcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgb2JqZWN0VXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTCh0cmFjay5maWxlKTtcclxuXHJcbiAgICBjb25zdCB3cyA9IFdhdmVTdXJmZXIuY3JlYXRlKHtcclxuICAgICAgY29udGFpbmVyOiBjb250YWluZXJSZWYuY3VycmVudCxcclxuICAgICAgd2F2ZUNvbG9yOiBcInJnYmEoMjQ4LCAyNTAsIDI1MiwgMC4zKVwiLFxyXG4gICAgICBwcm9ncmVzc0NvbG9yOiBcIiNlZjQ0NDRcIixcclxuICAgICAgY3Vyc29yQ29sb3I6IFwiI2U1ZTdlYlwiLFxyXG4gICAgICBiYXJXaWR0aDogMixcclxuICAgICAgYmFyUmFkaXVzOiAyLFxyXG4gICAgICBoZWlnaHQ6IDcyLFxyXG4gICAgICBub3JtYWxpemU6IHRydWUsXHJcbiAgICAgIG1pblB4UGVyU2VjOiA2MCAqIHpvb20sXHJcbiAgICAgIGRyYWdUb1NlZWs6IHRydWUsXHJcbiAgICB9KTtcclxuXHJcbiAgICB3cy5sb2FkKG9iamVjdFVybCk7XHJcbiAgICB3cy5zZXRWb2x1bWUodHJhY2sudm9sdW1lICogbWFzdGVyVm9sdW1lKTtcclxuICAgIHdhdmVzdXJmZXJSZWYuY3VycmVudCA9IHdzO1xyXG5cclxuICAgIGNvbnN0IGhhbmRsZUF1ZGlvUHJvY2VzcyA9IChjdXJyZW50VGltZTogbnVtYmVyKSA9PiB7XHJcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gdHJhY2tEdXJhdGlvbiB8fCB3cy5nZXREdXJhdGlvbigpIHx8IDA7XHJcbiAgICAgIGxldCBmYWRlRmFjdG9yID0gMTtcclxuXHJcbiAgICAgIGlmIChmYWRlSW5SZWYuY3VycmVudCAmJiBmYWRlSW5EdXJhdGlvblJlZi5jdXJyZW50ID4gMCkge1xyXG4gICAgICAgIGNvbnN0IGZhZGVEdXJhdGlvbiA9IGZhZGVJbkR1cmF0aW9uUmVmLmN1cnJlbnQ7XHJcbiAgICAgICAgY29uc3QgdCA9IE1hdGgubWF4KDAsIGN1cnJlbnRUaW1lKTtcclxuICAgICAgICBpZiAodCA8IGZhZGVEdXJhdGlvbikge1xyXG4gICAgICAgICAgZmFkZUZhY3RvciA9IE1hdGgubWluKGZhZGVGYWN0b3IsIHQgLyBmYWRlRHVyYXRpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKFxyXG4gICAgICAgIGZhZGVPdXRSZWYuY3VycmVudCAmJlxyXG4gICAgICAgIGZhZGVPdXREdXJhdGlvblJlZi5jdXJyZW50ID4gMCAmJlxyXG4gICAgICAgIGR1cmF0aW9uID4gMCAmJlxyXG4gICAgICAgIGN1cnJlbnRUaW1lID4gZHVyYXRpb24gLSBmYWRlT3V0RHVyYXRpb25SZWYuY3VycmVudFxyXG4gICAgICApIHtcclxuICAgICAgICBjb25zdCByZW1haW5pbmcgPSBkdXJhdGlvbiAtIGN1cnJlbnRUaW1lO1xyXG4gICAgICAgIGNvbnN0IG91dEZhY3RvciA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHJlbWFpbmluZyAvIGZhZGVPdXREdXJhdGlvblJlZi5jdXJyZW50KSk7XHJcbiAgICAgICAgZmFkZUZhY3RvciA9IE1hdGgubWluKGZhZGVGYWN0b3IsIG91dEZhY3Rvcik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGJhc2VWb2x1bWUgPSBNYXRoLm1heChcclxuICAgICAgICAwLFxyXG4gICAgICAgIE1hdGgubWluKDEsIGJhc2VWb2x1bWVSZWYuY3VycmVudCAqIG1hc3RlclZvbHVtZVJlZi5jdXJyZW50KSxcclxuICAgICAgKTtcclxuICAgICAgd3Muc2V0Vm9sdW1lKGJhc2VWb2x1bWUgKiBmYWRlRmFjdG9yKTtcclxuICAgIH07XHJcblxyXG4gICAgd3Mub24oXCJhdWRpb3Byb2Nlc3NcIiwgaGFuZGxlQXVkaW9Qcm9jZXNzKTtcclxuXHJcbiAgICBjb25zdCBhdHRhY2hBbmFseXNlciA9ICgpID0+IHtcclxuICAgICAgY29uc3QgYmFja2VuZDogYW55ID0gKHdzIGFzIGFueSkuYmFja2VuZDtcclxuICAgICAgaWYgKCFiYWNrZW5kIHx8IHR5cGVvZiBiYWNrZW5kLmFjID09PSBcInVuZGVmaW5lZFwiKSByZXR1cm47XHJcblxyXG4gICAgICBjb25zdCBhYzogQXVkaW9Db250ZXh0ID0gYmFja2VuZC5hYyBhcyBBdWRpb0NvbnRleHQ7XHJcbiAgICAgIGNvbnN0IHBhbm5lcjogU3RlcmVvUGFubmVyTm9kZSB8IG51bGwgPVxyXG4gICAgICAgIHR5cGVvZiAoYWMgYXMgYW55KS5jcmVhdGVTdGVyZW9QYW5uZXIgPT09IFwiZnVuY3Rpb25cIlxyXG4gICAgICAgICAgPyAoYWMgYXMgYW55KS5jcmVhdGVTdGVyZW9QYW5uZXIoKVxyXG4gICAgICAgICAgOiBudWxsO1xyXG4gICAgICBjb25zdCBhbmFseXNlciA9IGFjLmNyZWF0ZUFuYWx5c2VyKCk7XHJcbiAgICAgIGFuYWx5c2VyLmZmdFNpemUgPSAyMDQ4O1xyXG5cclxuICAgICAgLy8gUHJlZmVyIFdhdmVTdXJmZXIncyBmaWx0ZXIgY2hhaW4gaWYgYXZhaWxhYmxlLCBpbnNlcnRpbmcgYSBzdGVyZW9cclxuICAgICAgLy8gcGFubmVyIGJlZm9yZSB0aGUgYW5hbHlzZXIgc28gcGFuIGFmZmVjdHMgcGxheWJhY2suXHJcbiAgICAgIGlmICh0eXBlb2YgYmFja2VuZC5zZXRGaWx0ZXJzID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICBpZiAocGFubmVyKSB7XHJcbiAgICAgICAgICBwYW5uZXIucGFuLnZhbHVlID0gdHJhY2sucGFuID8/IDA7XHJcbiAgICAgICAgICBiYWNrZW5kLnNldEZpbHRlcnMoW3Bhbm5lciwgYW5hbHlzZXJdKTtcclxuICAgICAgICAgIHBhbm5lclJlZi5jdXJyZW50ID0gcGFubmVyO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBiYWNrZW5kLnNldEZpbHRlcnMoW2FuYWx5c2VyXSk7XHJcbiAgICAgICAgICBwYW5uZXJSZWYuY3VycmVudCA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBBbHNvIHRhcCBkaXJlY3RseSBmcm9tIHRoZSBzb3VyY2Ugc28gdGhlIGFuYWx5c2VyIGFsd2F5cyBzZWVzIGF1ZGlvXHJcbiAgICAgIGNvbnN0IHNvdXJjZTogQXVkaW9Ob2RlIHwgdW5kZWZpbmVkID1cclxuICAgICAgICAoYmFja2VuZCBhcyBhbnkpLnNvdXJjZSB8fCAoYmFja2VuZCBhcyBhbnkpLmJ1ZmZlclNvdXJjZTtcclxuICAgICAgaWYgKHNvdXJjZSAmJiB0eXBlb2YgKHNvdXJjZSBhcyBhbnkpLmNvbm5lY3QgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAvLyBDb25uZWN0IHNvdXJjZSDihpIgYW5hbHlzZXIgd2l0aG91dCByb3V0aW5nIGFuYWx5c2VyIHRvIGRlc3RpbmF0aW9uLFxyXG4gICAgICAgICAgLy8gc28gd2Ugb25seSBcImxpc3RlblwiIGZvciBtZXRlcmluZyBhbmQgZG9uJ3QgYWZmZWN0IHBsYXliYWNrLlxyXG4gICAgICAgICAgKHNvdXJjZSBhcyBhbnkpLmNvbm5lY3QoYW5hbHlzZXIpO1xyXG4gICAgICAgIH0gY2F0Y2gge1xyXG4gICAgICAgICAgLy8gSWYgdGhlIGV4dHJhIHRhcCBmYWlscywgd2Ugc3RpbGwgaGF2ZSB0aGUgZmlsdGVyLWNoYWluIHBhdGguXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBhbmFseXNlclJlZi5jdXJyZW50ID0gYW5hbHlzZXI7XHJcblxyXG4gICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheShhbmFseXNlci5mcmVxdWVuY3lCaW5Db3VudCk7XHJcblxyXG4gICAgICBjb25zdCBsb29wID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICghYW5hbHlzZXJSZWYuY3VycmVudCkgcmV0dXJuO1xyXG4gICAgICAgIGFuYWx5c2VyUmVmLmN1cnJlbnQuZ2V0Qnl0ZUZyZXF1ZW5jeURhdGEoYnVmZmVyKTtcclxuICAgICAgICBsZXQgc3VtID0gMDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1ZmZlci5sZW5ndGg7IGkgKz0gMSkge1xyXG4gICAgICAgICAgc3VtICs9IGJ1ZmZlcltpXSAqIGJ1ZmZlcltpXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgcm1zID0gTWF0aC5zcXJ0KHN1bSAvIGJ1ZmZlci5sZW5ndGgpIC8gMjU1O1xyXG4gICAgICAgIGNvbnN0IGNsYW1wZWQgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBybXMpKTtcclxuICAgICAgICBzZXRMZXZlbChjbGFtcGVkKTtcclxuICAgICAgICBvbkxldmVsQ2hhbmdlKHRyYWNrLmlkLCBjbGFtcGVkKTtcclxuICAgICAgICBtZXRlclJhZlJlZi5jdXJyZW50ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgaWYgKG1ldGVyUmFmUmVmLmN1cnJlbnQgPT0gbnVsbCkge1xyXG4gICAgICAgIG1ldGVyUmFmUmVmLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgd3Mub24oXCJyZWFkeVwiLCAoKSA9PiB7XHJcbiAgICAgIGF0dGFjaEFuYWx5c2VyKCk7XHJcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gd3MuZ2V0RHVyYXRpb24oKSB8fCAwO1xyXG4gICAgICBzZXRUcmFja0R1cmF0aW9uKGR1cmF0aW9uKTtcclxuICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQoXHJcbiAgICAgICAgbmV3IEN1c3RvbUV2ZW50KFwibWl4c212cnQ6dHJhY2stZHVyYXRpb25cIiwge1xyXG4gICAgICAgICAgZGV0YWlsOiB7IGlkOiB0cmFjay5pZCwgZHVyYXRpb24gfSxcclxuICAgICAgICB9KSxcclxuICAgICAgKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGlmIChtZXRlclJhZlJlZi5jdXJyZW50ICE9IG51bGwpIHtcclxuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShtZXRlclJhZlJlZi5jdXJyZW50KTtcclxuICAgICAgICBtZXRlclJhZlJlZi5jdXJyZW50ID0gbnVsbDtcclxuICAgICAgfVxyXG4gICAgICBhbmFseXNlclJlZi5jdXJyZW50ID0gbnVsbDtcclxuICAgICAgcGFubmVyUmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgICB3cy51bihcImF1ZGlvcHJvY2Vzc1wiLCBoYW5kbGVBdWRpb1Byb2Nlc3MpO1xyXG5cclxuICAgICAgY29uc3QgZGVzdHJveVJlc3VsdCA9IHdzLmRlc3Ryb3koKTtcclxuICAgICAgLy8gV2F2ZVN1cmZlci5kZXN0cm95IG1heSByZXR1cm4gdm9pZCBvciBhIFByb21pc2U7IGlmIGl0J3MgYSBQcm9taXNlLFxyXG4gICAgICAvLyBhdHRhY2ggYSBoYW5kbGVyIHNvIGFueSBBYm9ydEVycm9yIHJlamVjdGlvbiBpcyBpZ25vcmVkLlxyXG4gICAgICBpZiAodHlwZW9mIGRlc3Ryb3lSZXN1bHQgPT09IFwib2JqZWN0XCIgJiYgZGVzdHJveVJlc3VsdCAhPT0gbnVsbCkge1xyXG4gICAgICAgIGNvbnN0IG1heWJlUHJvbWlzZSA9IGRlc3Ryb3lSZXN1bHQgYXMgUHJvbWlzZTx1bmtub3duPjtcclxuICAgICAgICBpZiAodHlwZW9mIChtYXliZVByb21pc2UgYXMgYW55KS5jYXRjaCA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICBtYXliZVByb21pc2UuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICgoZXJyb3IgYXMgYW55KT8ubmFtZSAhPT0gXCJBYm9ydEVycm9yXCIpIHtcclxuICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxyXG4gICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoXCJXYXZlU3VyZmVyIGRlc3Ryb3kgZXJyb3IgKGlnbm9yZWQpXCIsIGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHdhdmVzdXJmZXJSZWYuY3VycmVudCA9IG51bGw7XHJcbiAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwob2JqZWN0VXJsKTtcclxuICAgIH07XHJcbiAgfSwgW3RyYWNrLmZpbGUsIHRyYWNrLnZvbHVtZSwgbWFzdGVyVm9sdW1lLCB6b29tLCBvbkxldmVsQ2hhbmdlLCB0cmFjay5pZF0pO1xyXG5cclxuICAvLyBSZWFjdCB0byB6b29tIGNoYW5nZXNcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKHdhdmVzdXJmZXJSZWYuY3VycmVudCkge1xyXG4gICAgICB3YXZlc3VyZmVyUmVmLmN1cnJlbnQuc2V0T3B0aW9ucyh7IG1pblB4UGVyU2VjOiA2MCAqIHpvb20gfSk7XHJcbiAgICB9XHJcbiAgfSwgW3pvb21dKTtcclxuXHJcbiAgLy8gUmVhY3QgdG8gZ2xvYmFsIHRyYW5zcG9ydCBzdGF0ZVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIXdhdmVzdXJmZXJSZWYuY3VycmVudCkgcmV0dXJuO1xyXG4gICAgaWYgKGlzUGxheWluZykge1xyXG4gICAgICB3YXZlc3VyZmVyUmVmLmN1cnJlbnQucGxheSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgd2F2ZXN1cmZlclJlZi5jdXJyZW50LnBhdXNlKCk7XHJcbiAgICB9XHJcbiAgfSwgW2lzUGxheWluZ10pO1xyXG5cclxuICAvLyBSZWFjdCB0byB2b2x1bWUgY2hhbmdlcyAodHJhY2sgb3IgbWFzdGVyKVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAod2F2ZXN1cmZlclJlZi5jdXJyZW50KSB7XHJcbiAgICAgIHdhdmVzdXJmZXJSZWYuY3VycmVudC5zZXRWb2x1bWUodHJhY2sudm9sdW1lICogbWFzdGVyVm9sdW1lKTtcclxuICAgIH1cclxuICB9LCBbdHJhY2sudm9sdW1lLCBtYXN0ZXJWb2x1bWVdKTtcclxuXHJcbiAgLy8gUmVhY3QgdG8gcGFuIGNoYW5nZXNcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKHBhbm5lclJlZi5jdXJyZW50KSB7XHJcbiAgICAgIGNvbnN0IG5leHQgPSBNYXRoLm1heCgtMSwgTWF0aC5taW4oMSwgdHJhY2sucGFuID8/IDApKTtcclxuICAgICAgcGFubmVyUmVmLmN1cnJlbnQucGFuLnZhbHVlID0gbmV4dDtcclxuICAgIH1cclxuICB9LCBbdHJhY2sucGFuXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZUZpbGVDaGFuZ2UgPSB1c2VDYWxsYmFjayhcclxuICAgIChldmVudDogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcclxuICAgICAgY29uc3QgZmlsZSA9IGV2ZW50LnRhcmdldC5maWxlcz8uWzBdO1xyXG4gICAgICBpZiAoZmlsZSkge1xyXG4gICAgICAgIG9uRmlsZVNlbGVjdGVkKHRyYWNrLmlkLCBmaWxlKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIFtvbkZpbGVTZWxlY3RlZCwgdHJhY2suaWRdLFxyXG4gICk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZURyb3AgPSB1c2VDYWxsYmFjayhcclxuICAgIChldmVudDogUmVhY3QuRHJhZ0V2ZW50PEhUTUxEaXZFbGVtZW50PikgPT4ge1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBzZXRJc0RyYWdnaW5nKGZhbHNlKTtcclxuICAgICAgY29uc3QgZmlsZSA9IGV2ZW50LmRhdGFUcmFuc2Zlci5maWxlcz8uWzBdO1xyXG4gICAgICBpZiAoZmlsZSkge1xyXG4gICAgICAgIG9uRmlsZVNlbGVjdGVkKHRyYWNrLmlkLCBmaWxlKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIFtvbkZpbGVTZWxlY3RlZCwgdHJhY2suaWRdLFxyXG4gICk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZURyYWdPdmVyID0gdXNlQ2FsbGJhY2soKGV2ZW50OiBSZWFjdC5EcmFnRXZlbnQ8SFRNTERpdkVsZW1lbnQ+KSA9PiB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgc2V0SXNEcmFnZ2luZyh0cnVlKTtcclxuICB9LCBbXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZURyYWdMZWF2ZSA9IHVzZUNhbGxiYWNrKChldmVudDogUmVhY3QuRHJhZ0V2ZW50PEhUTUxEaXZFbGVtZW50PikgPT4ge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIHNldElzRHJhZ2dpbmcoZmFsc2UpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlVm9sdW1lSW5wdXQgPSAoZXZlbnQ6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XHJcbiAgICBvblZvbHVtZUNoYW5nZSh0cmFjay5pZCwgTnVtYmVyKGV2ZW50LnRhcmdldC52YWx1ZSkpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUZhZGVNb3VzZU1vdmUgPSB1c2VDYWxsYmFjaygoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgIGNvbnN0IHN0YXRlID0gZmFkZURyYWdTdGF0ZVJlZi5jdXJyZW50O1xyXG4gICAgaWYgKCFzdGF0ZSkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGRlbHRhWCA9IGV2ZW50LmNsaWVudFggLSBzdGF0ZS5zdGFydFg7XHJcbiAgICBjb25zdCBkZWx0YVNlY29uZHMgPSBkZWx0YVggLyAxNTA7IC8vIDE1MHB4IGRyYWcg4omIIDFzIGZhZGUgY2hhbmdlXHJcbiAgICBjb25zdCByYXcgPSBzdGF0ZS5zdGFydER1cmF0aW9uICsgZGVsdGFTZWNvbmRzO1xyXG4gICAgY29uc3QgY2xhbXBlZCA9IE1hdGgubWF4KDAsIE1hdGgubWluKDUsIHJhdykpO1xyXG5cclxuICAgIGlmIChzdGF0ZS50eXBlID09PSBcImluXCIpIHtcclxuICAgICAgc2V0RmFkZUluRHVyYXRpb24oY2xhbXBlZCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzZXRGYWRlT3V0RHVyYXRpb24oY2xhbXBlZCk7XHJcbiAgICB9XHJcbiAgfSwgW10pO1xyXG5cclxuICBjb25zdCBoYW5kbGVGYWRlTW91c2VVcCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIGlmICghZmFkZURyYWdTdGF0ZVJlZi5jdXJyZW50KSByZXR1cm47XHJcbiAgICBmYWRlRHJhZ1N0YXRlUmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgaGFuZGxlRmFkZU1vdXNlTW92ZSk7XHJcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgaGFuZGxlRmFkZU1vdXNlVXApO1xyXG4gIH0sIFtoYW5kbGVGYWRlTW91c2VNb3ZlXSk7XHJcblxyXG4gIGNvbnN0IHN0YXJ0RmFkZURyYWcgPSAodHlwZTogXCJpblwiIHwgXCJvdXRcIikgPT5cclxuICAgIChldmVudDogUmVhY3QuTW91c2VFdmVudDxIVE1MQnV0dG9uRWxlbWVudD4pID0+IHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgaWYgKHR5cGUgPT09IFwiaW5cIikge1xyXG4gICAgICAgIHNldEZhZGVJbkVuYWJsZWQodHJ1ZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2V0RmFkZU91dEVuYWJsZWQodHJ1ZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHN0YXJ0RHVyYXRpb24gPVxyXG4gICAgICAgIHR5cGUgPT09IFwiaW5cIiA/IGZhZGVJbkR1cmF0aW9uUmVmLmN1cnJlbnQgOiBmYWRlT3V0RHVyYXRpb25SZWYuY3VycmVudDtcclxuXHJcbiAgICAgIGZhZGVEcmFnU3RhdGVSZWYuY3VycmVudCA9IHtcclxuICAgICAgICB0eXBlLFxyXG4gICAgICAgIHN0YXJ0WDogZXZlbnQuY2xpZW50WCxcclxuICAgICAgICBzdGFydER1cmF0aW9uLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgaGFuZGxlRmFkZU1vdXNlTW92ZSk7XHJcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBoYW5kbGVGYWRlTW91c2VVcCk7XHJcbiAgICB9O1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgaGFuZGxlRmFkZU1vdXNlTW92ZSk7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBoYW5kbGVGYWRlTW91c2VVcCk7XHJcbiAgICB9O1xyXG4gIH0sIFtoYW5kbGVGYWRlTW91c2VNb3ZlLCBoYW5kbGVGYWRlTW91c2VVcF0pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgaGFuZGxlR2xvYmFsQ2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgIGlmIChpc0NvbnRleHRNZW51T3Blbikge1xyXG4gICAgICAgIHNldElzQ29udGV4dE1lbnVPcGVuKGZhbHNlKTtcclxuICAgICAgICBzZXRDb250ZXh0TWVudVBvcyhudWxsKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUdsb2JhbENsaWNrKTtcclxuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUdsb2JhbENsaWNrKTtcclxuICB9LCBbaXNDb250ZXh0TWVudU9wZW5dKTtcclxuXHJcbiAgY29uc3QgY29tbWl0TmFtZUNoYW5nZSA9ICgpID0+IHtcclxuICAgIGNvbnN0IHRyaW1tZWQgPSBuYW1lRHJhZnQudHJpbSgpO1xyXG4gICAgc2V0SXNFZGl0aW5nTmFtZShmYWxzZSk7XHJcbiAgICBpZiAoIXRyaW1tZWQgfHwgdHJpbW1lZCA9PT0gdHJhY2submFtZSkgcmV0dXJuO1xyXG4gICAgLy8gQnViYmxlIG5hbWUgY2hhbmdlIHZpYSBhIEN1c3RvbUV2ZW50IHNvIHRoZSBwYXJlbnQgcGFnZSBjYW4gaGFuZGxlIGl0XHJcbiAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChcclxuICAgICAgbmV3IEN1c3RvbUV2ZW50KFwibWl4c212cnQ6cmVuYW1lLXRyYWNrXCIsIHtcclxuICAgICAgICBkZXRhaWw6IHsgaWQ6IHRyYWNrLmlkLCBuYW1lOiB0cmltbWVkIH0sXHJcbiAgICAgIH0pLFxyXG4gICAgKTtcclxuICB9O1xyXG5cclxuICAvLyBSZXNwb25kIHRvIGdsb2JhbCB0cmFuc3BvcnQgcHJldi9uZXh0IGV2ZW50cyB0byBzZWVrIGF1ZGlvXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGhhbmRsZVByZXYgPSAoKSA9PiB7XHJcbiAgICAgIGlmICghd2F2ZXN1cmZlclJlZi5jdXJyZW50KSByZXR1cm47XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgd2F2ZXN1cmZlclJlZi5jdXJyZW50LnNlZWtUbygwKTtcclxuICAgICAgfSBjYXRjaCB7XHJcbiAgICAgICAgLy8gaWdub3JlXHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgaGFuZGxlTmV4dCA9ICgpID0+IHtcclxuICAgICAgaWYgKCF3YXZlc3VyZmVyUmVmLmN1cnJlbnQpIHJldHVybjtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICB3YXZlc3VyZmVyUmVmLmN1cnJlbnQuc2Vla1RvKDEpO1xyXG4gICAgICB9IGNhdGNoIHtcclxuICAgICAgICAvLyBpZ25vcmVcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1peHNtdnJ0OnRyYW5zcG9ydC1wcmV2XCIsIGhhbmRsZVByZXYpO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtaXhzbXZydDp0cmFuc3BvcnQtbmV4dFwiLCBoYW5kbGVOZXh0KTtcclxuXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1peHNtdnJ0OnRyYW5zcG9ydC1wcmV2XCIsIGhhbmRsZVByZXYpO1xyXG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1peHNtdnJ0OnRyYW5zcG9ydC1uZXh0XCIsIGhhbmRsZU5leHQpO1xyXG4gICAgfTtcclxuICB9LCBbXSk7XHJcblxyXG4gIGNvbnN0IHBhblZhbHVlID0gdHJhY2sucGFuID8/IDA7XHJcbiAgY29uc3Qgdm9sdW1lUGVyY2VudCA9IE1hdGgucm91bmQodHJhY2sudm9sdW1lICogMTAwKTtcclxuICBjb25zdCBwYW5QZXJjZW50ID0gTWF0aC5yb3VuZChwYW5WYWx1ZSAqIDEwMCk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2XHJcbiAgICAgIGNsYXNzTmFtZT17YHJlbGF0aXZlIGZsZXggYm9yZGVyLWIgYmctYmxhY2svNDAgdHJhbnNpdGlvbi1jb2xvcnMgJHtcclxuICAgICAgICBpc1NlbGVjdGVkXHJcbiAgICAgICAgICA/IFwiYm9yZGVyLXJlZC01MDAvNzAgYmctZ3JhZGllbnQtdG8tciBmcm9tLXJlZC05NTAvNjAgdmlhLWJsYWNrLzYwIHRvLXppbmMtOTUwLzQwIHNoYWRvdy1bMF8wXzBfMXB4X3JnYmEoMjQ4LDExMywxMTMsMC42KV1cIlxyXG4gICAgICAgICAgOiBcImJvcmRlci13aGl0ZS81IGhvdmVyOmJnLXppbmMtOTAwLzQwXCJcclxuICAgICAgfWB9XHJcbiAgICAgIG9uQ2xpY2s9eyhldmVudCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoXCJidXR0b24sIGlucHV0LCBzZWxlY3QsIGxhYmVsXCIpKSByZXR1cm47XHJcbiAgICAgICAgb25TZWxlY3QodHJhY2suaWQpO1xyXG4gICAgICB9fVxyXG4gICAgICBvbkNvbnRleHRNZW51PXsoZXZlbnQpID0+IHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIG9uU2VsZWN0KHRyYWNrLmlkKTtcclxuICAgICAgICBzZXRJc0NvbnRleHRNZW51T3Blbih0cnVlKTtcclxuICAgICAgICBzZXRDb250ZXh0TWVudVBvcyh7IHg6IGV2ZW50LmNsaWVudFgsIHk6IGV2ZW50LmNsaWVudFkgfSk7XHJcbiAgICAgIH19XHJcbiAgICA+XHJcbiAgICAgIHsvKiBUcmFjayBIZWFkZXIgKi99XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCB3LTYwIGZsZXgtY29sIGp1c3RpZnktYmV0d2VlbiBib3JkZXItciBib3JkZXItd2hpdGUvMTAgYmctemluYy05MDAvOTAgcC0zIHRleHQteHNcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtMlwiPlxyXG4gICAgICAgICAge2lzRWRpdGluZ05hbWUgPyAoXHJcbiAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgIGF1dG9Gb2N1c1xyXG4gICAgICAgICAgICAgIHZhbHVlPXtuYW1lRHJhZnR9XHJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhldmVudCkgPT4gc2V0TmFtZURyYWZ0KGV2ZW50LnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgICAgb25CbHVyPXtjb21taXROYW1lQ2hhbmdlfVxyXG4gICAgICAgICAgICAgIG9uS2V5RG93bj17KGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVudGVyXCIpIGNvbW1pdE5hbWVDaGFuZ2UoKTtcclxuICAgICAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgc2V0SXNFZGl0aW5nTmFtZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgIHNldE5hbWVEcmFmdCh0cmFjay5uYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1heC13LVsxMzBweF0gcm91bmRlZCBiZy16aW5jLTgwMCBweC0xIHB5LTAuNSB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtd2hpdGUgb3V0bGluZS1ub25lIHJpbmctMSByaW5nLXJlZC01MDAvNDBcIlxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcclxuICAgICAgICAgICAgICAgIHNldE5hbWVEcmFmdCh0cmFjay5uYW1lKTtcclxuICAgICAgICAgICAgICAgIHNldElzRWRpdGluZ05hbWUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtYXgtdy1bMTMwcHhdIHRydW5jYXRlIHRleHQtbGVmdCB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtd2hpdGUvOTAgaG92ZXI6dGV4dC13aGl0ZVwiXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICB7dHJhY2submFtZX1cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICApfVxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMS41XCI+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInJvdW5kZWQgYmctemluYy04MDAgcHgtMS41IHB5LTAuNSB0ZXh0LVsxMHB4XSB1cHBlcmNhc2UgdGV4dC13aGl0ZS82MFwiPlxyXG4gICAgICAgICAgICAgIHt0cmFjay5yb2xlfVxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgIHt0cmFjay5yb2xlICE9PSBcImJlYXRcIiAmJiB0cmFjay5yb2xlICE9PSBcImluc3RydW1lbnRcIiAmJiAoXHJcbiAgICAgICAgICAgICAgPHNlbGVjdFxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBiZy16aW5jLTgwMCBweC0xLjUgcHktMC41IHRleHQtWzEwcHhdIHRleHQtd2hpdGUvODAgb3V0bGluZS1ub25lXCJcclxuICAgICAgICAgICAgICAgIHZhbHVlPXt0cmFjay5nZW5kZXIgfHwgXCJtYWxlXCJ9XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGV2ZW50KSA9PlxyXG4gICAgICAgICAgICAgICAgICBvbkdlbmRlckNoYW5nZShcclxuICAgICAgICAgICAgICAgICAgICB0cmFjay5pZCxcclxuICAgICAgICAgICAgICAgICAgICBldmVudC50YXJnZXQudmFsdWUgPT09IFwiZmVtYWxlXCIgPyBcImZlbWFsZVwiIDogXCJtYWxlXCIsXHJcbiAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwibWFsZVwiPk08L29wdGlvbj5cclxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJmZW1hbGVcIj5GPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0xIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGdhcC0xXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC0xMiB3LTIgb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQgYmctemluYy04MDBcIj5cclxuICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLWZ1bGwgdy1mdWxsIG9yaWdpbi1ib3R0b20gYmctZ3JhZGllbnQtdG8tdCBmcm9tLXJlZC01MDAgdmlhLXllbGxvdy00MDAgdG8tZW1lcmFsZC00MDAgdHJhbnNpdGlvbi10cmFuc2Zvcm1cIlxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgdHJhbnNmb3JtOiBgc2NhbGVZKCR7bGV2ZWx9KWAgfX1cclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bMTBweF0gdGV4dC13aGl0ZS81MFwiPkxWTDwvc3Bhbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIHNwYWNlLXktMS41XCI+XHJcbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyB0ZXh0LVsxMHB4XSB0ZXh0LXdoaXRlLzYwXCI+XHJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidy02XCI+Vm9sPC9zcGFuPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LTEgaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgdHlwZT1cInJhbmdlXCJcclxuICAgICAgICAgICAgICAgICAgbWluPXswfVxyXG4gICAgICAgICAgICAgICAgICBtYXg9ezF9XHJcbiAgICAgICAgICAgICAgICAgIHN0ZXA9ezAuMDF9XHJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0cmFjay52b2x1bWV9XHJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVWb2x1bWVJbnB1dH1cclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC0yIHctZnVsbCBjdXJzb3ItcG9pbnRlciBhY2NlbnQtcmVkLTUwMFwiXHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidy0xMCB0ZXh0LXJpZ2h0IHRleHQtWzlweF0gdGV4dC13aGl0ZS81MFwiPlxyXG4gICAgICAgICAgICAgICAgICB7dm9sdW1lUGVyY2VudH0lXHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyB0ZXh0LVsxMHB4XSB0ZXh0LXdoaXRlLzYwXCI+XHJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidy02XCI+UGFuPC9zcGFuPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LTEgaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgdHlwZT1cInJhbmdlXCJcclxuICAgICAgICAgICAgICAgICAgbWluPXstMX1cclxuICAgICAgICAgICAgICAgICAgbWF4PXsxfVxyXG4gICAgICAgICAgICAgICAgICBzdGVwPXswLjAxfVxyXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17cGFuVmFsdWV9XHJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZXZlbnQpID0+XHJcbiAgICAgICAgICAgICAgICAgICAgb25QYW5DaGFuZ2UodHJhY2suaWQsIE51bWJlcihldmVudC50YXJnZXQudmFsdWUpIHx8IDApXHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC0yIHctZnVsbCBjdXJzb3ItcG9pbnRlciBhY2NlbnQtcmVkLTUwMFwiXHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidy02IHRleHQtY2VudGVyIHRleHQtWzlweF0gdGV4dC13aGl0ZS80MFwiPlxyXG4gICAgICAgICAgICAgICAgICB7cGFuVmFsdWUgJiYgTWF0aC5hYnMocGFuVmFsdWUpID4gMC4wNVxyXG4gICAgICAgICAgICAgICAgICAgID8gcGFuVmFsdWUgPCAwXHJcbiAgICAgICAgICAgICAgICAgICAgICA/IFwiTFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICA6IFwiUlwiXHJcbiAgICAgICAgICAgICAgICAgICAgOiBcIkNcIn1cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInctMTAgdGV4dC1yaWdodCB0ZXh0LVs5cHhdIHRleHQtd2hpdGUvNTBcIj5cclxuICAgICAgICAgICAgICAgICAge3BhblBlcmNlbnQgPiAwXHJcbiAgICAgICAgICAgICAgICAgICAgPyBgJHtwYW5QZXJjZW50fSVgXHJcbiAgICAgICAgICAgICAgICAgICAgOiBwYW5QZXJjZW50IDwgMFxyXG4gICAgICAgICAgICAgICAgICAgID8gYCR7cGFuUGVyY2VudH0lYFxyXG4gICAgICAgICAgICAgICAgICAgIDogXCIwJVwifVxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGN1cnNvci1wb2ludGVyIGl0ZW1zLWNlbnRlciByb3VuZGVkIGJnLXppbmMtODAwIHB4LTIgcHktMSB0ZXh0LVsxMHB4XSBmb250LW1lZGl1bVwiPlxyXG4gICAgICAgICAgICA8c3Bhbj5VcGxvYWQ8L3NwYW4+XHJcbiAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgIHR5cGU9XCJmaWxlXCJcclxuICAgICAgICAgICAgICBhY2NlcHQ9XCJhdWRpby8qXCJcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoaWRkZW5cIlxyXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVGaWxlQ2hhbmdlfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRydW5jYXRlIHRleHQtWzEwcHhdIHRleHQtd2hpdGUvNDBcIj5cclxuICAgICAgICAgICAge3RyYWNrLmZpbGUgPyB0cmFjay5maWxlLm5hbWUgOiBcIkRyb3AgYXVkaW8gaGVyZVwifVxyXG4gICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIHsvKiBXYXZlZm9ybSAvIERyb3AgYXJlYSB3aXRoIGdyaWQgKi99XHJcbiAgICAgIDxkaXZcclxuICAgICAgICBjbGFzc05hbWU9e2ByZWxhdGl2ZSBmbGV4IGZsZXgtMSBpdGVtcy1jZW50ZXIgb3ZlcmZsb3ctaGlkZGVuIGJvcmRlci1sIGJnLXppbmMtOTUwLzk1ICR7XHJcbiAgICAgICAgICBpc0RyYWdnaW5nID8gXCJyaW5nLTEgcmluZy1yZWQtNTAwLzgwXCIgOiBcIlwiXHJcbiAgICAgICAgfSAke1xyXG4gICAgICAgICAgdHJhY2suZmlsZVxyXG4gICAgICAgICAgICA/IFwicm91bmRlZC1sZyBzaGFkb3ctWzBfMF8wXzFweF9yZ2JhKDI0OCwyNTAsMjUyLDAuMDYpXVwiXHJcbiAgICAgICAgICAgIDogXCJib3JkZXItd2hpdGUvNVwiXHJcbiAgICAgICAgfWB9XHJcbiAgICAgICAgc3R5bGU9e1xyXG4gICAgICAgICAgdHJhY2suZmlsZVxyXG4gICAgICAgICAgICA/IHtcclxuICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiBgJHthY2NlbnRDb2xvcn04MGAsXHJcbiAgICAgICAgICAgICAgICBib3hTaGFkb3c6IGAwIDAgMjRweCAke2FjY2VudENvbG9yfTQwYCxcclxuICAgICAgICAgICAgICAgIC8vIFVzZSA4LWRpZ2l0IGhleCB0byBhZGQgc3VidGxlIGFscGhhIHRvIHRoZSBmdWxsIGJhY2tncm91bmQuXHJcbiAgICAgICAgICAgICAgICAvLyBlLmcuICMyMmM1NWU0MCBmb3IgYSBzb2Z0IGdyZWVuIHdhc2guXHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGAke2FjY2VudENvbG9yfTI2YCxcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIDogdW5kZWZpbmVkXHJcbiAgICAgICAgfVxyXG4gICAgICAgIG9uRHJhZ092ZXI9e2hhbmRsZURyYWdPdmVyfVxyXG4gICAgICAgIG9uRHJhZ0xlYXZlPXtoYW5kbGVEcmFnTGVhdmV9XHJcbiAgICAgICAgb25Ecm9wPXtoYW5kbGVEcm9wfVxyXG4gICAgICA+XHJcbiAgICAgICAgPGRpdlxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwicG9pbnRlci1ldmVudHMtbm9uZSBhYnNvbHV0ZSBpbnNldC0wIG9wYWNpdHktNDAgei0wXCJcclxuICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZTpcclxuICAgICAgICAgICAgICBcImxpbmVhci1ncmFkaWVudCh0byByaWdodCwgcmdiYSgzOSwzOSw0MiwwLjg1KSAxcHgsIHRyYW5zcGFyZW50IDFweClcIixcclxuICAgICAgICAgICAgYmFja2dyb3VuZFNpemU6IGAkezgwICogem9vbX1weCAxMDAlYCxcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgLz5cclxuICAgICAgICB7IXRyYWNrLmZpbGUgJiYgKFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb2ludGVyLWV2ZW50cy1ub25lIGFic29sdXRlIGluc2V0LTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC1bMTFweF0gdGV4dC13aGl0ZS80MFwiPlxyXG4gICAgICAgICAgICBEcmFnICYgZHJvcCBhdWRpbyBmaWxlXHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApfVxyXG4gICAgICAgIHt0cmFjay5maWxlICYmIHRyYWNrRHVyYXRpb24gPiAwICYmIGZhZGVJbkVuYWJsZWQgJiYgZmFkZUluRHVyYXRpb24gPiAwICYmIChcclxuICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicG9pbnRlci1ldmVudHMtbm9uZSBhYnNvbHV0ZSBpbnNldC15LTAgbGVmdC0wIHotWzFdXCJcclxuICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICB3aWR0aDogYCR7TWF0aC5taW4oMTAwLCAoZmFkZUluRHVyYXRpb24gLyB0cmFja0R1cmF0aW9uKSAqIDEwMCl9JWAsXHJcbiAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOlxyXG4gICAgICAgICAgICAgICAgXCJsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsIHJnYmEoMTUsMjMsNDIsMC45NSksIHRyYW5zcGFyZW50KVwiLFxyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICApfVxyXG4gICAgICAgIHt0cmFjay5maWxlICYmIHRyYWNrRHVyYXRpb24gPiAwICYmIGZhZGVPdXRFbmFibGVkICYmIGZhZGVPdXREdXJhdGlvbiA+IDAgJiYgKFxyXG4gICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJwb2ludGVyLWV2ZW50cy1ub25lIGFic29sdXRlIGluc2V0LXktMCByaWdodC0wIHotWzFdXCJcclxuICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICB3aWR0aDogYCR7TWF0aC5taW4oMTAwLCAoZmFkZU91dER1cmF0aW9uIC8gdHJhY2tEdXJhdGlvbikgKiAxMDApfSVgLFxyXG4gICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZTpcclxuICAgICAgICAgICAgICAgIFwibGluZWFyLWdyYWRpZW50KHRvIGxlZnQsIHJnYmEoMTUsMjMsNDIsMC45NSksIHRyYW5zcGFyZW50KVwiLFxyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICApfVxyXG4gICAgICAgIHt0cmFjay5maWxlICYmIChcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLTIgbGVmdC0yIHotMjBcIj5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dDb2xvclBpY2tlcigodikgPT4gIXYpfVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaC02IHctNiBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZCBib3JkZXIgYm9yZGVyLXdoaXRlLzIwIGJnLWJsYWNrLzYwIHNoYWRvdy1zbSBob3Zlcjpib3JkZXItd2hpdGUvNDBcIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC00IHctNCByb3VuZGVkLXNtXCJcclxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZTpcclxuICAgICAgICAgICAgICAgICAgICBcImxpbmVhci1ncmFkaWVudCgxMzVkZWcsI2VmNDQ0NCwjMjJjNTVlLCMzYjgyZjYsI2E4NTVmNylcIixcclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIHtzaG93Q29sb3JQaWNrZXIgJiYgKFxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMSByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctYmxhY2svOTUgcC0xIHNoYWRvdy14bFwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0xXCI+XHJcbiAgICAgICAgICAgICAgICAgIHtBQ0NFTlRfU1dBVENIRVMubWFwKChjb2xvcikgPT4gKFxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgIGtleT17Y29sb3J9XHJcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0QWNjZW50Q29sb3IoY29sb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTaG93Q29sb3JQaWNrZXIoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtNSB3LTUgcm91bmRlZC1zbSBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGhvdmVyOmJvcmRlci13aGl0ZS82MFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yIH19XHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICl9XHJcbiAgICAgICAge3RyYWNrLmZpbGUgJiYgKFxyXG4gICAgICAgICAgPD5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEZhZGVJbkVuYWJsZWQoKHYpID0+ICF2KX1cclxuICAgICAgICAgICAgICBvbk1vdXNlRG93bj17c3RhcnRGYWRlRHJhZyhcImluXCIpfVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YGFic29sdXRlIGxlZnQtMiB0b3AtMiB6LTEwIGZsZXggaC01IHctNSBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZCBib3JkZXIgdGV4dC1bMTBweF0gdHJhbnNpdGlvbi1jb2xvcnMgJHtcclxuICAgICAgICAgICAgICAgIGZhZGVJbkVuYWJsZWRcclxuICAgICAgICAgICAgICAgICAgPyBcImJvcmRlci1yZWQtNTAwLzcwIGJnLXJlZC01MDAvMjAgdGV4dC1yZWQtMjAwXCJcclxuICAgICAgICAgICAgICAgICAgOiBcImJvcmRlci16aW5jLTYwMCBiZy16aW5jLTkwMC84MCB0ZXh0LXppbmMtMzAwXCJcclxuICAgICAgICAgICAgICB9YH1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIOKXolxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEZhZGVPdXRFbmFibGVkKCh2KSA9PiAhdil9XHJcbiAgICAgICAgICAgICAgb25Nb3VzZURvd249e3N0YXJ0RmFkZURyYWcoXCJvdXRcIil9XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgYWJzb2x1dGUgcmlnaHQtMiB0b3AtMiB6LTEwIGZsZXggaC01IHctNSBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZCBib3JkZXIgdGV4dC1bMTBweF0gdHJhbnNpdGlvbi1jb2xvcnMgJHtcclxuICAgICAgICAgICAgICAgIGZhZGVPdXRFbmFibGVkXHJcbiAgICAgICAgICAgICAgICAgID8gXCJib3JkZXItcmVkLTUwMC83MCBiZy1yZWQtNTAwLzIwIHRleHQtcmVkLTIwMFwiXHJcbiAgICAgICAgICAgICAgICAgIDogXCJib3JkZXItemluYy02MDAgYmctemluYy05MDAvODAgdGV4dC16aW5jLTMwMFwiXHJcbiAgICAgICAgICAgICAgfWB9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICDil6NcclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8Lz5cclxuICAgICAgICApfVxyXG4gICAgICAgIDxkaXZcclxuICAgICAgICAgIHJlZj17Y29udGFpbmVyUmVmfVxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwicmVsYXRpdmUgei0xMCBoLVs3MnB4XSB3LWZ1bGwgb3ZlcmZsb3ctaGlkZGVuXCJcclxuICAgICAgICAvPlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIHtpc0NvbnRleHRNZW51T3BlbiAmJiBjb250ZXh0TWVudVBvcyAmJiAoXHJcbiAgICAgICAgPGRpdlxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwiZml4ZWQgei00MCBtaW4tdy1bMTgwcHhdIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy16aW5jLTkwMC85NSBweS0xIHRleHQteHMgc2hhZG93LXhsIGJhY2tkcm9wLWJsdXItbWRcIlxyXG4gICAgICAgICAgc3R5bGU9e3sgdG9wOiBjb250ZXh0TWVudVBvcy55ICsgMiwgbGVmdDogY29udGV4dE1lbnVQb3MueCArIDIgfX1cclxuICAgICAgICAgIG9uQ2xpY2s9eyhldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBweC0zIHB5LTEuNSB0ZXh0LWxlZnQgdGV4dC13aGl0ZSBob3ZlcjpiZy1yZWQtNjAwLzgwXCJcclxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xyXG4gICAgICAgICAgICAgIHNldElzQ29udGV4dE1lbnVPcGVuKGZhbHNlKTtcclxuICAgICAgICAgICAgICBzZXRDb250ZXh0TWVudVBvcyhudWxsKTtcclxuICAgICAgICAgICAgICBvblByb2Nlc3ModHJhY2suaWQpO1xyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8c3Bhbj5Qcm9jZXNzIFRyYWNrIHdpdGggQUk8L3NwYW4+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHVwcGVyY2FzZSB0ZXh0LXdoaXRlLzUwXCI+QWx0K1A8L3NwYW4+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXktMSBoLXB4IGJnLXdoaXRlLzEwXCIgLz5cclxuICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggdy1mdWxsIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcHgtMyBweS0xLjUgdGV4dC1sZWZ0IHRleHQtd2hpdGUgaG92ZXI6YmctemluYy04MDBcIlxyXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgc2V0SXNDb250ZXh0TWVudU9wZW4oZmFsc2UpO1xyXG4gICAgICAgICAgICAgIHNldENvbnRleHRNZW51UG9zKG51bGwpO1xyXG4gICAgICAgICAgICAgIG9uRHVwbGljYXRlKHRyYWNrLmlkKTtcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPHNwYW4+RHVwbGljYXRlIFRyYWNrPC9zcGFuPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsxMHB4XSB1cHBlcmNhc2UgdGV4dC13aGl0ZS81MFwiPkFsdCtEPC9zcGFuPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IHctZnVsbCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHB4LTMgcHktMS41IHRleHQtbGVmdCB0ZXh0LXJlZC00MDAgaG92ZXI6YmctcmVkLTkwMC83MFwiXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcclxuICAgICAgICAgICAgICBzZXRJc0NvbnRleHRNZW51T3BlbihmYWxzZSk7XHJcbiAgICAgICAgICAgICAgc2V0Q29udGV4dE1lbnVQb3MobnVsbCk7XHJcbiAgICAgICAgICAgICAgb25EZWxldGUodHJhY2suaWQpO1xyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8c3Bhbj5EZWxldGUgVHJhY2s8L3NwYW4+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHVwcGVyY2FzZSB0ZXh0LXJlZC0zMDAvNzBcIj5EZWw8L3NwYW4+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKX1cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuIl0sIm5hbWVzIjpbInVzZUNhbGxiYWNrIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJXYXZlU3VyZmVyIiwiUk9MRV9BQ0NFTlRfQ09MT1JTIiwiYmVhdCIsInZvY2FsIiwiYmFja2dyb3VuZCIsImFkbGliIiwiaW5zdHJ1bWVudCIsIkFDQ0VOVF9TV0FUQ0hFUyIsIlRyYWNrTGFuZSIsInRyYWNrIiwiem9vbSIsImlzUGxheWluZyIsIm9uRmlsZVNlbGVjdGVkIiwibWFzdGVyVm9sdW1lIiwib25Wb2x1bWVDaGFuZ2UiLCJvbkxldmVsQ2hhbmdlIiwib25HZW5kZXJDaGFuZ2UiLCJvblBhbkNoYW5nZSIsImlzU2VsZWN0ZWQiLCJvblNlbGVjdCIsIm9uRGVsZXRlIiwib25EdXBsaWNhdGUiLCJvblByb2Nlc3MiLCJjb250YWluZXJSZWYiLCJ3YXZlc3VyZmVyUmVmIiwiYW5hbHlzZXJSZWYiLCJwYW5uZXJSZWYiLCJtZXRlclJhZlJlZiIsImJhc2VWb2x1bWVSZWYiLCJ2b2x1bWUiLCJtYXN0ZXJWb2x1bWVSZWYiLCJmYWRlSW5SZWYiLCJmYWRlT3V0UmVmIiwiYWNjZW50Q29sb3IiLCJzZXRBY2NlbnRDb2xvciIsInJvbGUiLCJmYWRlSW5EdXJhdGlvbiIsInNldEZhZGVJbkR1cmF0aW9uIiwiZmFkZU91dER1cmF0aW9uIiwic2V0RmFkZU91dER1cmF0aW9uIiwiaXNEcmFnZ2luZyIsInNldElzRHJhZ2dpbmciLCJsZXZlbCIsInNldExldmVsIiwiaXNFZGl0aW5nTmFtZSIsInNldElzRWRpdGluZ05hbWUiLCJuYW1lRHJhZnQiLCJzZXROYW1lRHJhZnQiLCJuYW1lIiwiZmFkZUluRW5hYmxlZCIsInNldEZhZGVJbkVuYWJsZWQiLCJmYWRlT3V0RW5hYmxlZCIsInNldEZhZGVPdXRFbmFibGVkIiwidHJhY2tEdXJhdGlvbiIsInNldFRyYWNrRHVyYXRpb24iLCJzaG93Q29sb3JQaWNrZXIiLCJzZXRTaG93Q29sb3JQaWNrZXIiLCJpc0NvbnRleHRNZW51T3BlbiIsInNldElzQ29udGV4dE1lbnVPcGVuIiwiY29udGV4dE1lbnVQb3MiLCJzZXRDb250ZXh0TWVudVBvcyIsImZhZGVJbkR1cmF0aW9uUmVmIiwiZmFkZU91dER1cmF0aW9uUmVmIiwiZmFkZURyYWdTdGF0ZVJlZiIsImN1cnJlbnQiLCJmaWxlIiwidW5kZWZpbmVkIiwib2JqZWN0VXJsIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwid3MiLCJjcmVhdGUiLCJjb250YWluZXIiLCJ3YXZlQ29sb3IiLCJwcm9ncmVzc0NvbG9yIiwiY3Vyc29yQ29sb3IiLCJiYXJXaWR0aCIsImJhclJhZGl1cyIsImhlaWdodCIsIm5vcm1hbGl6ZSIsIm1pblB4UGVyU2VjIiwiZHJhZ1RvU2VlayIsImxvYWQiLCJzZXRWb2x1bWUiLCJoYW5kbGVBdWRpb1Byb2Nlc3MiLCJjdXJyZW50VGltZSIsImR1cmF0aW9uIiwiZ2V0RHVyYXRpb24iLCJmYWRlRmFjdG9yIiwiZmFkZUR1cmF0aW9uIiwidCIsIk1hdGgiLCJtYXgiLCJtaW4iLCJyZW1haW5pbmciLCJvdXRGYWN0b3IiLCJiYXNlVm9sdW1lIiwib24iLCJhdHRhY2hBbmFseXNlciIsImJhY2tlbmQiLCJhYyIsInBhbm5lciIsImNyZWF0ZVN0ZXJlb1Bhbm5lciIsImFuYWx5c2VyIiwiY3JlYXRlQW5hbHlzZXIiLCJmZnRTaXplIiwic2V0RmlsdGVycyIsInBhbiIsInZhbHVlIiwic291cmNlIiwiYnVmZmVyU291cmNlIiwiY29ubmVjdCIsImJ1ZmZlciIsIlVpbnQ4QXJyYXkiLCJmcmVxdWVuY3lCaW5Db3VudCIsImxvb3AiLCJnZXRCeXRlRnJlcXVlbmN5RGF0YSIsInN1bSIsImkiLCJsZW5ndGgiLCJybXMiLCJzcXJ0IiwiY2xhbXBlZCIsImlkIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwid2luZG93IiwiZGlzcGF0Y2hFdmVudCIsIkN1c3RvbUV2ZW50IiwiZGV0YWlsIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJ1biIsImRlc3Ryb3lSZXN1bHQiLCJkZXN0cm95IiwibWF5YmVQcm9taXNlIiwiY2F0Y2giLCJlcnJvciIsImNvbnNvbGUiLCJkZWJ1ZyIsInJldm9rZU9iamVjdFVSTCIsInNldE9wdGlvbnMiLCJwbGF5IiwicGF1c2UiLCJuZXh0IiwiaGFuZGxlRmlsZUNoYW5nZSIsImV2ZW50IiwidGFyZ2V0IiwiZmlsZXMiLCJoYW5kbGVEcm9wIiwicHJldmVudERlZmF1bHQiLCJkYXRhVHJhbnNmZXIiLCJoYW5kbGVEcmFnT3ZlciIsImhhbmRsZURyYWdMZWF2ZSIsImhhbmRsZVZvbHVtZUlucHV0IiwiTnVtYmVyIiwiaGFuZGxlRmFkZU1vdXNlTW92ZSIsInN0YXRlIiwiZGVsdGFYIiwiY2xpZW50WCIsInN0YXJ0WCIsImRlbHRhU2Vjb25kcyIsInJhdyIsInN0YXJ0RHVyYXRpb24iLCJ0eXBlIiwiaGFuZGxlRmFkZU1vdXNlVXAiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic3RhcnRGYWRlRHJhZyIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVHbG9iYWxDbGljayIsImNvbW1pdE5hbWVDaGFuZ2UiLCJ0cmltbWVkIiwidHJpbSIsImhhbmRsZVByZXYiLCJzZWVrVG8iLCJoYW5kbGVOZXh0IiwicGFuVmFsdWUiLCJ2b2x1bWVQZXJjZW50Iiwicm91bmQiLCJwYW5QZXJjZW50IiwiZGl2IiwiY2xhc3NOYW1lIiwib25DbGljayIsImNsb3Nlc3QiLCJvbkNvbnRleHRNZW51IiwieCIsInkiLCJjbGllbnRZIiwiaW5wdXQiLCJhdXRvRm9jdXMiLCJvbkNoYW5nZSIsIm9uQmx1ciIsIm9uS2V5RG93biIsImtleSIsImJ1dHRvbiIsInNwYW4iLCJzZWxlY3QiLCJnZW5kZXIiLCJvcHRpb24iLCJzdHlsZSIsInRyYW5zZm9ybSIsImxhYmVsIiwic3RlcCIsImFicyIsImFjY2VwdCIsImJvcmRlckNvbG9yIiwiYm94U2hhZG93IiwiYmFja2dyb3VuZENvbG9yIiwib25EcmFnT3ZlciIsIm9uRHJhZ0xlYXZlIiwib25Ecm9wIiwiYmFja2dyb3VuZEltYWdlIiwiYmFja2dyb3VuZFNpemUiLCJ3aWR0aCIsInYiLCJtYXAiLCJjb2xvciIsIm9uTW91c2VEb3duIiwicmVmIiwidG9wIiwibGVmdCIsInN0b3BQcm9wYWdhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/studio/TrackLane.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/studio/TransportBar.tsx":
/*!********************************************!*\
  !*** ./components/studio/TransportBar.tsx ***!
  \********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ TransportBar; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\nfunction formatTime(seconds) {\n    const total = Math.max(0, seconds);\n    const mins = Math.floor(total / 60);\n    const secs = Math.floor(total % 60);\n    const millis = Math.floor(total % 1 * 10); // tenths\n    const mm = String(mins).padStart(2, \"0\");\n    const ss = String(secs).padStart(2, \"0\");\n    return \"\".concat(mm, \":\").concat(ss, \".\").concat(millis);\n}\nfunction TransportBar(param) {\n    let { isPlaying, onPlayToggle, onStop, onPrev, onNext, playheadSeconds, gridResolution, onGridResolutionChange, bpm, onBpmChange, sessionKey, onSessionKeyChange, sessionScale, onSessionScaleChange } = param;\n    _s();\n    const [isFloating, setIsFloating] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [position, setPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        x: 0,\n        y: 0\n    });\n    const isDraggingRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const dragOffsetRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        x: 0,\n        y: 0\n    });\n    // Initialize default floating position once when toggled on\n    const handleToggleFloating = ()=>{\n        setIsFloating((prev)=>{\n            const next = !prev;\n            if (next && \"object\" !== \"undefined\") {\n                const width = 420;\n                const x = window.innerWidth / 2 - width / 2;\n                const y = window.innerHeight - 120;\n                setPosition({\n                    x,\n                    y\n                });\n            }\n            return next;\n        });\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleMouseMove = (event)=>{\n            if (!isDraggingRef.current || !isFloating) return;\n            if (false) {}\n            const nextX = event.clientX - dragOffsetRef.current.x;\n            const nextY = event.clientY - dragOffsetRef.current.y;\n            setPosition({\n                x: nextX,\n                y: nextY\n            });\n        };\n        const handleMouseUp = ()=>{\n            isDraggingRef.current = false;\n        };\n        window.addEventListener(\"mousemove\", handleMouseMove);\n        window.addEventListener(\"mouseup\", handleMouseUp);\n        return ()=>{\n            window.removeEventListener(\"mousemove\", handleMouseMove);\n            window.removeEventListener(\"mouseup\", handleMouseUp);\n        };\n    }, [\n        isFloating\n    ]);\n    const handleDragMouseDown = (event)=>{\n        if (!isFloating) return;\n        event.preventDefault();\n        isDraggingRef.current = true;\n        dragOffsetRef.current = {\n            x: event.clientX - position.x,\n            y: event.clientY - position.y\n        };\n    };\n    const containerStyle = isFloating ? {\n        position: \"fixed\",\n        left: position.x,\n        top: position.y\n    } : {};\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"z-30 flex h-14 items-center bg-zinc-950/95 px-4 backdrop-blur \".concat(isFloating ? \"rounded-xl border border-white/15 shadow-[0_0_30px_rgba(0,0,0,0.8)]\" : \"sticky top-0 border-b border-white/10\"),\n        style: containerStyle,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: onPrev,\n                        className: \"flex h-8 w-8 items-center justify-center rounded-full border border-white/20 bg-zinc-900 text-xs text-white/70 hover:border-red-400 hover:text-red-300\",\n                        \"aria-label\": \"Previous\",\n                        children: \"â®\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n                        lineNumber: 122,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: onPlayToggle,\n                        className: \"flex h-9 w-9 items-center justify-center rounded-full bg-red-600 text-sm font-semibold text-white shadow-[0_0_18px_rgba(248,113,113,0.7)] hover:bg-red-500\",\n                        children: isPlaying ? \"âšâš\" : \"â–¶\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n                        lineNumber: 129,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: onStop,\n                        className: \"flex h-9 w-9 items-center justify-center rounded-full border border-white/15 bg-zinc-900 text-xs text-white/80 hover:border-red-400 hover:text-red-300\",\n                        \"aria-label\": \"Stop\",\n                        children: \"â– \"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n                        lineNumber: 135,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: onNext,\n                        className: \"flex h-8 w-8 items-center justify-center rounded-full border border-white/20 bg-zinc-900 text-xs text-white/70 hover:border-red-400 hover:text-red-300\",\n                        \"aria-label\": \"Next\",\n                        children: \"â­\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n                        lineNumber: 143,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"button\",\n                        onClick: handleToggleFloating,\n                        className: \"ml-1 flex h-7 w-7 items-center justify-center rounded-full border text-[11px] \".concat(isFloating ? \"border-red-400 bg-zinc-900 text-red-300\" : \"border-white/20 bg-zinc-900 text-white/60 hover:border-red-400 hover:text-red-300\"),\n                        \"aria-label\": isFloating ? \"Dock transport\" : \"Float transport\",\n                        children: \"\\uD83D\\uDCCC\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n                        lineNumber: 152,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n                lineNumber: 121,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"ml-auto flex items-center gap-4\",\n                onMouseDown: handleDragMouseDown,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2 rounded-full border border-white/10 bg-zinc-900/90 px-3 py-1 text-[11px]\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-white/50\",\n                                children: \"BPM\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n                                lineNumber: 172,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"number\",\n                                min: 40,\n                                max: 240,\n                                value: Number.isFinite(bpm) ? bpm : 120,\n                                onChange: (event)=>{\n                                    const next = Number(event.target.value) || 0;\n                                    const clamped = Math.min(240, Math.max(40, next));\n                                    onBpmChange(clamped);\n                                },\n                                className: \"w-14 rounded bg-black/60 px-1 py-0.5 text-right font-mono text-[11px] text-white outline-none\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n                                lineNumber: 173,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n                        lineNumber: 171,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"hidden items-center gap-2 rounded-full border border-white/10 bg-zinc-900/90 px-3 py-1 text-[11px] sm:flex\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-white/50\",\n                                children: \"Key\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n                                lineNumber: 188,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                value: sessionKey,\n                                onChange: (event)=>onSessionKeyChange(event.target.value),\n                                className: \"bg-transparent text-white outline-none\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                        value: \"C\",\n                                        className: \"bg-zinc-900 text-white\",\n                                        children: \"C\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n                                        lineNumber: 194,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                        value: \"C#\",\n                                        className: \"bg-zinc-900 text-white\",\n                                        children: \"C# / Db\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n                                        lineNumber: 197,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                        value: \"D\",\n                                        className: \"bg-zinc-900 text-white\",\n                                        children: \"D\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n                                        lineNumber: 200,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                        value: \"D#\",\n                                        className: \"bg-zinc-900 text-white\",\n                                        children: \"D# / Eb\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n                                        lineNumber: 203,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                        value: \"E\",\n                                        className: \"bg-zinc-900 text-white\",\n                                        children: \"E\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n                                        lineNumber: 206,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                        value: \"F\",\n                                        className: \"bg-zinc-900 text-white\",\n                                        children: \"F\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n                                        lineNumber: 209,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                        value: \"F#\",\n                                        className: \"bg-zinc-900 text-white\",\n                                        children: \"F# / Gb\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n                                        lineNumber: 212,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                        value: \"G\",\n                                        className: \"bg-zinc-900 text-white\",\n                                        children: \"G\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n                                        lineNumber: 215,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                        value: \"G#\",\n                                        className: \"bg-zinc-900 text-white\",\n                                        children: \"G# / Ab\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n                                        lineNumber: 218,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                        value: \"A\",\n                                        className: \"bg-zinc-900 text-white\",\n                                        children: \"A\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n                                        lineNumber: 221,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                        value: \"A#\",\n                                        className: \"bg-zinc-900 text-white\",\n                                        children: \"A# / Bb\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n                                        lineNumber: 224,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                        value: \"B\",\n                                        className: \"bg-zinc-900 text-white\",\n                                        children: \"B\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n                                        lineNumber: 227,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n                                lineNumber: 189,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                value: sessionScale,\n                                onChange: (event)=>onSessionScaleChange(event.target.value),\n                                className: \"bg-transparent text-white outline-none\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                        value: \"Major\",\n                                        className: \"bg-zinc-900 text-white\",\n                                        children: \"Maj\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n                                        lineNumber: 238,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                        value: \"Minor\",\n                                        className: \"bg-zinc-900 text-white\",\n                                        children: \"Min\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n                                        lineNumber: 241,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n                                lineNumber: 231,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n                        lineNumber: 187,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-baseline gap-2 rounded-lg border border-white/10 bg-zinc-900/90 px-3 py-1.5\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-[10px] uppercase tracking-[0.16em] text-white/40\",\n                                children: \"Time\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n                                lineNumber: 248,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"font-mono text-sm text-white\",\n                                children: formatTime(playheadSeconds)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n                                lineNumber: 251,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n                        lineNumber: 247,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2 rounded-full border border-white/10 bg-zinc-900/90 px-2 py-1 text-[11px]\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-white/50\",\n                                children: \"Grid\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n                                lineNumber: 255,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                value: gridResolution,\n                                onChange: (e)=>onGridResolutionChange(e.target.value),\n                                className: \"bg-transparent text-white outline-none\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                        value: \"1/2\",\n                                        className: \"bg-zinc-900 text-white\",\n                                        children: \"1/2\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n                                        lineNumber: 261,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                        value: \"1/4\",\n                                        className: \"bg-zinc-900 text-white\",\n                                        children: \"1/4\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n                                        lineNumber: 264,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                        value: \"1/8\",\n                                        className: \"bg-zinc-900 text-white\",\n                                        children: \"1/8\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n                                        lineNumber: 267,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n                                lineNumber: 256,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n                        lineNumber: 254,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n                lineNumber: 167,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\kreat\\\\Downloads\\\\RiddimBase Studio-Full\\\\frontend\\\\components\\\\studio\\\\TransportBar.tsx\",\n        lineNumber: 112,\n        columnNumber: 5\n    }, this);\n}\n_s(TransportBar, \"HegBTDO2M9et7mz81OvF/JLqTos=\");\n_c = TransportBar;\nvar _c;\n$RefreshReg$(_c, \"TransportBar\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvc3R1ZGlvL1RyYW5zcG9ydEJhci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBRTJEO0FBcUIzRCxTQUFTSSxXQUFXQyxPQUFlO0lBQ2pDLE1BQU1DLFFBQVFDLEtBQUtDLEdBQUcsQ0FBQyxHQUFHSDtJQUMxQixNQUFNSSxPQUFPRixLQUFLRyxLQUFLLENBQUNKLFFBQVE7SUFDaEMsTUFBTUssT0FBT0osS0FBS0csS0FBSyxDQUFDSixRQUFRO0lBQ2hDLE1BQU1NLFNBQVNMLEtBQUtHLEtBQUssQ0FBQyxRQUFTLElBQUssS0FBSyxTQUFTO0lBQ3RELE1BQU1HLEtBQUtDLE9BQU9MLE1BQU1NLFFBQVEsQ0FBQyxHQUFHO0lBQ3BDLE1BQU1DLEtBQUtGLE9BQU9ILE1BQU1JLFFBQVEsQ0FBQyxHQUFHO0lBQ3BDLE9BQU8sR0FBU0MsT0FBTkgsSUFBRyxLQUFTRCxPQUFOSSxJQUFHLEtBQVUsT0FBUEo7QUFDeEI7QUFFZSxTQUFTSyxhQUFhLEtBZWpCO1FBZmlCLEVBQ25DQyxTQUFTLEVBQ1RDLFlBQVksRUFDWkMsTUFBTSxFQUNOQyxNQUFNLEVBQ05DLE1BQU0sRUFDTkMsZUFBZSxFQUNmQyxjQUFjLEVBQ2RDLHNCQUFzQixFQUN0QkMsR0FBRyxFQUNIQyxXQUFXLEVBQ1hDLFVBQVUsRUFDVkMsa0JBQWtCLEVBQ2xCQyxZQUFZLEVBQ1pDLG9CQUFvQixFQUNGLEdBZmlCOztJQWdCbkMsTUFBTSxDQUFDQyxZQUFZQyxjQUFjLEdBQUc5QiwrQ0FBUUEsQ0FBQztJQUM3QyxNQUFNLENBQUMrQixVQUFVQyxZQUFZLEdBQUdoQywrQ0FBUUEsQ0FBMkI7UUFBRWlDLEdBQUc7UUFBR0MsR0FBRztJQUFFO0lBQ2hGLE1BQU1DLGdCQUFnQnBDLDZDQUFNQSxDQUFDO0lBQzdCLE1BQU1xQyxnQkFBZ0JyQyw2Q0FBTUEsQ0FBMkI7UUFBRWtDLEdBQUc7UUFBR0MsR0FBRztJQUFFO0lBRXBFLDREQUE0RDtJQUM1RCxN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TzNDO2dDQUNQOEMsVUFBVSxDQUFDNUIsUUFDVGpCLHFCQUFxQmlCLE1BQU02QixNQUFNLENBQUNKLEtBQUs7Z0NBRXpDVixXQUFVOztrREFFViw4REFBQ2lCO3dDQUFPUCxPQUFNO3dDQUFRVixXQUFVO2tEQUF5Qjs7Ozs7O2tEQUd6RCw4REFBQ2lCO3dDQUFPUCxPQUFNO3dDQUFRVixXQUFVO2tEQUF5Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7O2tDQU03RCw4REFBQ0Q7d0JBQUlDLFdBQVU7OzBDQUNiLDhEQUFDTztnQ0FBS1AsV0FBVTswQ0FBd0Q7Ozs7OzswQ0FHeEUsOERBQUNPO2dDQUFLUCxXQUFVOzBDQUFnQzNELFdBQVdtQjs7Ozs7Ozs7Ozs7O2tDQUc3RCw4REFBQ3VDO3dCQUFJQyxXQUFVOzswQ0FDYiw4REFBQ087Z0NBQUtQLFdBQVU7MENBQWdCOzs7Ozs7MENBQ2hDLDhEQUFDZ0I7Z0NBQ0NOLE9BQU9qRDtnQ0FDUG9ELFVBQVUsQ0FBQ0ssSUFBTXhELHVCQUF1QndELEVBQUVKLE1BQU0sQ0FBQ0osS0FBSztnQ0FDdERWLFdBQVU7O2tEQUVWLDhEQUFDaUI7d0NBQU9QLE9BQU07d0NBQU1WLFdBQVU7a0RBQXlCOzs7Ozs7a0RBR3ZELDhEQUFDaUI7d0NBQU9QLE9BQU07d0NBQU1WLFdBQVU7a0RBQXlCOzs7Ozs7a0RBR3ZELDhEQUFDaUI7d0NBQU9QLE9BQU07d0NBQU1WLFdBQVU7a0RBQXlCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRbkU7R0FqUHdCOUM7S0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy9zdHVkaW8vVHJhbnNwb3J0QmFyLnRzeD9mMzc0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xyXG5cclxuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xyXG5cclxudHlwZSBHcmlkUmVzb2x1dGlvbiA9IFwiMS8yXCIgfCBcIjEvNFwiIHwgXCIxLzhcIjtcclxuXHJcbnR5cGUgVHJhbnNwb3J0QmFyUHJvcHMgPSB7XHJcbiAgaXNQbGF5aW5nOiBib29sZWFuO1xyXG4gIG9uUGxheVRvZ2dsZTogKCkgPT4gdm9pZDtcclxuICBvblN0b3A6ICgpID0+IHZvaWQ7XHJcbiAgb25QcmV2OiAoKSA9PiB2b2lkO1xyXG4gIG9uTmV4dDogKCkgPT4gdm9pZDtcclxuICBwbGF5aGVhZFNlY29uZHM6IG51bWJlcjtcclxuICBncmlkUmVzb2x1dGlvbjogR3JpZFJlc29sdXRpb247XHJcbiAgb25HcmlkUmVzb2x1dGlvbkNoYW5nZTogKHZhbHVlOiBHcmlkUmVzb2x1dGlvbikgPT4gdm9pZDtcclxuICBicG06IG51bWJlcjtcclxuICBvbkJwbUNoYW5nZTogKHZhbHVlOiBudW1iZXIpID0+IHZvaWQ7XHJcbiAgc2Vzc2lvbktleTogc3RyaW5nO1xyXG4gIG9uU2Vzc2lvbktleUNoYW5nZTogKHZhbHVlOiBzdHJpbmcpID0+IHZvaWQ7XHJcbiAgc2Vzc2lvblNjYWxlOiBcIk1ham9yXCIgfCBcIk1pbm9yXCI7XHJcbiAgb25TZXNzaW9uU2NhbGVDaGFuZ2U6ICh2YWx1ZTogXCJNYWpvclwiIHwgXCJNaW5vclwiKSA9PiB2b2lkO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gZm9ybWF0VGltZShzZWNvbmRzOiBudW1iZXIpOiBzdHJpbmcge1xyXG4gIGNvbnN0IHRvdGFsID0gTWF0aC5tYXgoMCwgc2Vjb25kcyk7XHJcbiAgY29uc3QgbWlucyA9IE1hdGguZmxvb3IodG90YWwgLyA2MCk7XHJcbiAgY29uc3Qgc2VjcyA9IE1hdGguZmxvb3IodG90YWwgJSA2MCk7XHJcbiAgY29uc3QgbWlsbGlzID0gTWF0aC5mbG9vcigodG90YWwgJSAxKSAqIDEwKTsgLy8gdGVudGhzXHJcbiAgY29uc3QgbW0gPSBTdHJpbmcobWlucykucGFkU3RhcnQoMiwgXCIwXCIpO1xyXG4gIGNvbnN0IHNzID0gU3RyaW5nKHNlY3MpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcclxuICByZXR1cm4gYCR7bW19OiR7c3N9LiR7bWlsbGlzfWA7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFRyYW5zcG9ydEJhcih7XHJcbiAgaXNQbGF5aW5nLFxyXG4gIG9uUGxheVRvZ2dsZSxcclxuICBvblN0b3AsXHJcbiAgb25QcmV2LFxyXG4gIG9uTmV4dCxcclxuICBwbGF5aGVhZFNlY29uZHMsXHJcbiAgZ3JpZFJlc29sdXRpb24sXHJcbiAgb25HcmlkUmVzb2x1dGlvbkNoYW5nZSxcclxuICBicG0sXHJcbiAgb25CcG1DaGFuZ2UsXHJcbiAgc2Vzc2lvbktleSxcclxuICBvblNlc3Npb25LZXlDaGFuZ2UsXHJcbiAgc2Vzc2lvblNjYWxlLFxyXG4gIG9uU2Vzc2lvblNjYWxlQ2hhbmdlLFxyXG59OiBUcmFuc3BvcnRCYXJQcm9wcykge1xyXG4gIGNvbnN0IFtpc0Zsb2F0aW5nLCBzZXRJc0Zsb2F0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbcG9zaXRpb24sIHNldFBvc2l0aW9uXSA9IHVzZVN0YXRlPHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfT4oeyB4OiAwLCB5OiAwIH0pO1xyXG4gIGNvbnN0IGlzRHJhZ2dpbmdSZWYgPSB1c2VSZWYoZmFsc2UpO1xyXG4gIGNvbnN0IGRyYWdPZmZzZXRSZWYgPSB1c2VSZWY8eyB4OiBudW1iZXI7IHk6IG51bWJlciB9Pih7IHg6IDAsIHk6IDAgfSk7XHJcblxyXG4gIC8vIEluaXRpYWxpemUgZGVmYXVsdCBmbG9hdGluZyBwb3NpdGlvbiBvbmNlIHdoZW4gdG9nZ2xlZCBvblxyXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZUZsb2F0aW5nID0gKCkgPT4ge1xyXG4gICAgc2V0SXNGbG9hdGluZygocHJldikgPT4ge1xyXG4gICAgICBjb25zdCBuZXh0ID0gIXByZXY7XHJcbiAgICAgIGlmIChuZXh0ICYmIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICBjb25zdCB3aWR0aCA9IDQyMDtcclxuICAgICAgICBjb25zdCB4ID0gd2luZG93LmlubmVyV2lkdGggLyAyIC0gd2lkdGggLyAyO1xyXG4gICAgICAgIGNvbnN0IHkgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLSAxMjA7XHJcbiAgICAgICAgc2V0UG9zaXRpb24oeyB4LCB5IH0pO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBuZXh0O1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGhhbmRsZU1vdXNlTW92ZSA9IChldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICBpZiAoIWlzRHJhZ2dpbmdSZWYuY3VycmVudCB8fCAhaXNGbG9hdGluZykgcmV0dXJuO1xyXG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuO1xyXG5cclxuICAgICAgY29uc3QgbmV4dFggPSBldmVudC5jbGllbnRYIC0gZHJhZ09mZnNldFJlZi5jdXJyZW50Lng7XHJcbiAgICAgIGNvbnN0IG5leHRZID0gZXZlbnQuY2xpZW50WSAtIGRyYWdPZmZzZXRSZWYuY3VycmVudC55O1xyXG5cclxuICAgICAgc2V0UG9zaXRpb24oeyB4OiBuZXh0WCwgeTogbmV4dFkgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGhhbmRsZU1vdXNlVXAgPSAoKSA9PiB7XHJcbiAgICAgIGlzRHJhZ2dpbmdSZWYuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgfTtcclxuXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBoYW5kbGVNb3VzZU1vdmUpO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIGhhbmRsZU1vdXNlVXApO1xyXG5cclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIGhhbmRsZU1vdXNlTW92ZSk7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBoYW5kbGVNb3VzZVVwKTtcclxuICAgIH07XHJcbiAgfSwgW2lzRmxvYXRpbmddKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlRHJhZ01vdXNlRG93biA9IChldmVudDogUmVhY3QuTW91c2VFdmVudDxIVE1MRGl2RWxlbWVudD4pID0+IHtcclxuICAgIGlmICghaXNGbG9hdGluZykgcmV0dXJuO1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIGlzRHJhZ2dpbmdSZWYuY3VycmVudCA9IHRydWU7XHJcbiAgICBkcmFnT2Zmc2V0UmVmLmN1cnJlbnQgPSB7XHJcbiAgICAgIHg6IGV2ZW50LmNsaWVudFggLSBwb3NpdGlvbi54LFxyXG4gICAgICB5OiBldmVudC5jbGllbnRZIC0gcG9zaXRpb24ueSxcclxuICAgIH07XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgY29udGFpbmVyU3R5bGU6IFJlYWN0LkNTU1Byb3BlcnRpZXMgPSBpc0Zsb2F0aW5nXHJcbiAgICA/IHtcclxuICAgICAgICBwb3NpdGlvbjogXCJmaXhlZFwiLFxyXG4gICAgICAgIGxlZnQ6IHBvc2l0aW9uLngsXHJcbiAgICAgICAgdG9wOiBwb3NpdGlvbi55LFxyXG4gICAgICB9XHJcbiAgICA6IHt9O1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdlxyXG4gICAgICBjbGFzc05hbWU9e2B6LTMwIGZsZXggaC0xNCBpdGVtcy1jZW50ZXIgYmctemluYy05NTAvOTUgcHgtNCBiYWNrZHJvcC1ibHVyICR7XHJcbiAgICAgICAgaXNGbG9hdGluZ1xyXG4gICAgICAgICAgPyBcInJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xNSBzaGFkb3ctWzBfMF8zMHB4X3JnYmEoMCwwLDAsMC44KV1cIlxyXG4gICAgICAgICAgOiBcInN0aWNreSB0b3AtMCBib3JkZXItYiBib3JkZXItd2hpdGUvMTBcIlxyXG4gICAgICB9YH1cclxuICAgICAgc3R5bGU9e2NvbnRhaW5lclN0eWxlfVxyXG4gICAgPlxyXG4gICAgICB7LyogTGVmdDogY29yZSB0cmFuc3BvcnQgY29udHJvbHMgKi99XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cclxuICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICBvbkNsaWNrPXtvblByZXZ9XHJcbiAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGgtOCB3LTggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtZnVsbCBib3JkZXIgYm9yZGVyLXdoaXRlLzIwIGJnLXppbmMtOTAwIHRleHQteHMgdGV4dC13aGl0ZS83MCBob3Zlcjpib3JkZXItcmVkLTQwMCBob3Zlcjp0ZXh0LXJlZC0zMDBcIlxyXG4gICAgICAgICAgYXJpYS1sYWJlbD1cIlByZXZpb3VzXCJcclxuICAgICAgICA+XHJcbiAgICAgICAgICDij65cclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICBvbkNsaWNrPXtvblBsYXlUb2dnbGV9XHJcbiAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGgtOSB3LTkgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtZnVsbCBiZy1yZWQtNjAwIHRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlIHNoYWRvdy1bMF8wXzE4cHhfcmdiYSgyNDgsMTEzLDExMywwLjcpXSBob3ZlcjpiZy1yZWQtNTAwXCJcclxuICAgICAgICA+XHJcbiAgICAgICAgICB7aXNQbGF5aW5nID8gXCLinZrinZpcIiA6IFwi4pa2XCJ9XHJcbiAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgb25DbGljaz17b25TdG9wfVxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBoLTkgdy05IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWZ1bGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xNSBiZy16aW5jLTkwMCB0ZXh0LXhzIHRleHQtd2hpdGUvODAgaG92ZXI6Ym9yZGVyLXJlZC00MDAgaG92ZXI6dGV4dC1yZWQtMzAwXCJcclxuICAgICAgICAgIGFyaWEtbGFiZWw9XCJTdG9wXCJcclxuICAgICAgICA+XHJcbiAgICAgICAgICDilqBcclxuICAgICAgICA8L2J1dHRvbj5cclxuXHJcbiAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgb25DbGljaz17b25OZXh0fVxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBoLTggdy04IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWZ1bGwgYm9yZGVyIGJvcmRlci13aGl0ZS8yMCBiZy16aW5jLTkwMCB0ZXh0LXhzIHRleHQtd2hpdGUvNzAgaG92ZXI6Ym9yZGVyLXJlZC00MDAgaG92ZXI6dGV4dC1yZWQtMzAwXCJcclxuICAgICAgICAgIGFyaWEtbGFiZWw9XCJOZXh0XCJcclxuICAgICAgICA+XHJcbiAgICAgICAgICDij61cclxuICAgICAgICA8L2J1dHRvbj5cclxuXHJcbiAgICAgICAgey8qIFBpbiB0b2dnbGUgKi99XHJcbiAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXHJcbiAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVUb2dnbGVGbG9hdGluZ31cclxuICAgICAgICAgIGNsYXNzTmFtZT17YG1sLTEgZmxleCBoLTcgdy03IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWZ1bGwgYm9yZGVyIHRleHQtWzExcHhdICR7XHJcbiAgICAgICAgICAgIGlzRmxvYXRpbmdcclxuICAgICAgICAgICAgICA/IFwiYm9yZGVyLXJlZC00MDAgYmctemluYy05MDAgdGV4dC1yZWQtMzAwXCJcclxuICAgICAgICAgICAgICA6IFwiYm9yZGVyLXdoaXRlLzIwIGJnLXppbmMtOTAwIHRleHQtd2hpdGUvNjAgaG92ZXI6Ym9yZGVyLXJlZC00MDAgaG92ZXI6dGV4dC1yZWQtMzAwXCJcclxuICAgICAgICAgIH1gfVxyXG4gICAgICAgICAgYXJpYS1sYWJlbD17aXNGbG9hdGluZyA/IFwiRG9jayB0cmFuc3BvcnRcIiA6IFwiRmxvYXQgdHJhbnNwb3J0XCJ9XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAg8J+TjFxyXG4gICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIHsvKiBSaWdodDogdGVtcG8gLyBrZXkgLyB0aW1lIC8gZ3JpZCByZXNvbHV0aW9uICovfVxyXG4gICAgICA8ZGl2XHJcbiAgICAgICAgY2xhc3NOYW1lPVwibWwtYXV0byBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNFwiXHJcbiAgICAgICAgb25Nb3VzZURvd249e2hhbmRsZURyYWdNb3VzZURvd259XHJcbiAgICAgID5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHJvdW5kZWQtZnVsbCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXppbmMtOTAwLzkwIHB4LTMgcHktMSB0ZXh0LVsxMXB4XVwiPlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC13aGl0ZS81MFwiPkJQTTwvc3Bhbj5cclxuICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcclxuICAgICAgICAgICAgbWluPXs0MH1cclxuICAgICAgICAgICAgbWF4PXsyNDB9XHJcbiAgICAgICAgICAgIHZhbHVlPXtOdW1iZXIuaXNGaW5pdGUoYnBtKSA/IGJwbSA6IDEyMH1cclxuICAgICAgICAgICAgb25DaGFuZ2U9eyhldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBOdW1iZXIoZXZlbnQudGFyZ2V0LnZhbHVlKSB8fCAwO1xyXG4gICAgICAgICAgICAgIGNvbnN0IGNsYW1wZWQgPSBNYXRoLm1pbigyNDAsIE1hdGgubWF4KDQwLCBuZXh0KSk7XHJcbiAgICAgICAgICAgICAgb25CcG1DaGFuZ2UoY2xhbXBlZCk7XHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMTQgcm91bmRlZCBiZy1ibGFjay82MCBweC0xIHB5LTAuNSB0ZXh0LXJpZ2h0IGZvbnQtbW9ubyB0ZXh0LVsxMXB4XSB0ZXh0LXdoaXRlIG91dGxpbmUtbm9uZVwiXHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhpZGRlbiBpdGVtcy1jZW50ZXIgZ2FwLTIgcm91bmRlZC1mdWxsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctemluYy05MDAvOTAgcHgtMyBweS0xIHRleHQtWzExcHhdIHNtOmZsZXhcIj5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtd2hpdGUvNTBcIj5LZXk8L3NwYW4+XHJcbiAgICAgICAgICA8c2VsZWN0XHJcbiAgICAgICAgICAgIHZhbHVlPXtzZXNzaW9uS2V5fVxyXG4gICAgICAgICAgICBvbkNoYW5nZT17KGV2ZW50KSA9PiBvblNlc3Npb25LZXlDaGFuZ2UoZXZlbnQudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctdHJhbnNwYXJlbnQgdGV4dC13aGl0ZSBvdXRsaW5lLW5vbmVcIlxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiQ1wiIGNsYXNzTmFtZT1cImJnLXppbmMtOTAwIHRleHQtd2hpdGVcIj5cclxuICAgICAgICAgICAgICBDXHJcbiAgICAgICAgICAgIDwvb3B0aW9uPlxyXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiQyNcIiBjbGFzc05hbWU9XCJiZy16aW5jLTkwMCB0ZXh0LXdoaXRlXCI+XHJcbiAgICAgICAgICAgICAgQyMgLyBEYlxyXG4gICAgICAgICAgICA8L29wdGlvbj5cclxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkRcIiBjbGFzc05hbWU9XCJiZy16aW5jLTkwMCB0ZXh0LXdoaXRlXCI+XHJcbiAgICAgICAgICAgICAgRFxyXG4gICAgICAgICAgICA8L29wdGlvbj5cclxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkQjXCIgY2xhc3NOYW1lPVwiYmctemluYy05MDAgdGV4dC13aGl0ZVwiPlxyXG4gICAgICAgICAgICAgIEQjIC8gRWJcclxuICAgICAgICAgICAgPC9vcHRpb24+XHJcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJFXCIgY2xhc3NOYW1lPVwiYmctemluYy05MDAgdGV4dC13aGl0ZVwiPlxyXG4gICAgICAgICAgICAgIEVcclxuICAgICAgICAgICAgPC9vcHRpb24+XHJcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJGXCIgY2xhc3NOYW1lPVwiYmctemluYy05MDAgdGV4dC13aGl0ZVwiPlxyXG4gICAgICAgICAgICAgIEZcclxuICAgICAgICAgICAgPC9vcHRpb24+XHJcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJGI1wiIGNsYXNzTmFtZT1cImJnLXppbmMtOTAwIHRleHQtd2hpdGVcIj5cclxuICAgICAgICAgICAgICBGIyAvIEdiXHJcbiAgICAgICAgICAgIDwvb3B0aW9uPlxyXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiR1wiIGNsYXNzTmFtZT1cImJnLXppbmMtOTAwIHRleHQtd2hpdGVcIj5cclxuICAgICAgICAgICAgICBHXHJcbiAgICAgICAgICAgIDwvb3B0aW9uPlxyXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiRyNcIiBjbGFzc05hbWU9XCJiZy16aW5jLTkwMCB0ZXh0LXdoaXRlXCI+XHJcbiAgICAgICAgICAgICAgRyMgLyBBYlxyXG4gICAgICAgICAgICA8L29wdGlvbj5cclxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkFcIiBjbGFzc05hbWU9XCJiZy16aW5jLTkwMCB0ZXh0LXdoaXRlXCI+XHJcbiAgICAgICAgICAgICAgQVxyXG4gICAgICAgICAgICA8L29wdGlvbj5cclxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkEjXCIgY2xhc3NOYW1lPVwiYmctemluYy05MDAgdGV4dC13aGl0ZVwiPlxyXG4gICAgICAgICAgICAgIEEjIC8gQmJcclxuICAgICAgICAgICAgPC9vcHRpb24+XHJcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJCXCIgY2xhc3NOYW1lPVwiYmctemluYy05MDAgdGV4dC13aGl0ZVwiPlxyXG4gICAgICAgICAgICAgIEJcclxuICAgICAgICAgICAgPC9vcHRpb24+XHJcbiAgICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICAgIDxzZWxlY3RcclxuICAgICAgICAgICAgdmFsdWU9e3Nlc3Npb25TY2FsZX1cclxuICAgICAgICAgICAgb25DaGFuZ2U9eyhldmVudCkgPT5cclxuICAgICAgICAgICAgICBvblNlc3Npb25TY2FsZUNoYW5nZShldmVudC50YXJnZXQudmFsdWUgYXMgXCJNYWpvclwiIHwgXCJNaW5vclwiKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLXRyYW5zcGFyZW50IHRleHQtd2hpdGUgb3V0bGluZS1ub25lXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIk1ham9yXCIgY2xhc3NOYW1lPVwiYmctemluYy05MDAgdGV4dC13aGl0ZVwiPlxyXG4gICAgICAgICAgICAgIE1halxyXG4gICAgICAgICAgICA8L29wdGlvbj5cclxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIk1pbm9yXCIgY2xhc3NOYW1lPVwiYmctemluYy05MDAgdGV4dC13aGl0ZVwiPlxyXG4gICAgICAgICAgICAgIE1pblxyXG4gICAgICAgICAgICA8L29wdGlvbj5cclxuICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtYmFzZWxpbmUgZ2FwLTIgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXppbmMtOTAwLzkwIHB4LTMgcHktMS41XCI+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsxMHB4XSB1cHBlcmNhc2UgdHJhY2tpbmctWzAuMTZlbV0gdGV4dC13aGl0ZS80MFwiPlxyXG4gICAgICAgICAgICBUaW1lXHJcbiAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1vbm8gdGV4dC1zbSB0ZXh0LXdoaXRlXCI+e2Zvcm1hdFRpbWUocGxheWhlYWRTZWNvbmRzKX08L3NwYW4+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcm91bmRlZC1mdWxsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctemluYy05MDAvOTAgcHgtMiBweS0xIHRleHQtWzExcHhdXCI+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlLzUwXCI+R3JpZDwvc3Bhbj5cclxuICAgICAgICAgIDxzZWxlY3RcclxuICAgICAgICAgICAgdmFsdWU9e2dyaWRSZXNvbHV0aW9ufVxyXG4gICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IG9uR3JpZFJlc29sdXRpb25DaGFuZ2UoZS50YXJnZXQudmFsdWUgYXMgR3JpZFJlc29sdXRpb24pfVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJiZy10cmFuc3BhcmVudCB0ZXh0LXdoaXRlIG91dGxpbmUtbm9uZVwiXHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCIxLzJcIiBjbGFzc05hbWU9XCJiZy16aW5jLTkwMCB0ZXh0LXdoaXRlXCI+XHJcbiAgICAgICAgICAgICAgMS8yXHJcbiAgICAgICAgICAgIDwvb3B0aW9uPlxyXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiMS80XCIgY2xhc3NOYW1lPVwiYmctemluYy05MDAgdGV4dC13aGl0ZVwiPlxyXG4gICAgICAgICAgICAgIDEvNFxyXG4gICAgICAgICAgICA8L29wdGlvbj5cclxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIjEvOFwiIGNsYXNzTmFtZT1cImJnLXppbmMtOTAwIHRleHQtd2hpdGVcIj5cclxuICAgICAgICAgICAgICAxLzhcclxuICAgICAgICAgICAgPC9vcHRpb24+XHJcbiAgICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwiZm9ybWF0VGltZSIsInNlY29uZHMiLCJ0b3RhbCIsIk1hdGgiLCJtYXgiLCJtaW5zIiwiZmxvb3IiLCJzZWNzIiwibWlsbGlzIiwibW0iLCJTdHJpbmciLCJwYWRTdGFydCIsInNzIiwiVHJhbnNwb3J0QmFyIiwiaXNQbGF5aW5nIiwib25QbGF5VG9nZ2xlIiwib25TdG9wIiwib25QcmV2Iiwib25OZXh0IiwicGxheWhlYWRTZWNvbmRzIiwiZ3JpZFJlc29sdXRpb24iLCJvbkdyaWRSZXNvbHV0aW9uQ2hhbmdlIiwiYnBtIiwib25CcG1DaGFuZ2UiLCJzZXNzaW9uS2V5Iiwib25TZXNzaW9uS2V5Q2hhbmdlIiwic2Vzc2lvblNjYWxlIiwib25TZXNzaW9uU2NhbGVDaGFuZ2UiLCJpc0Zsb2F0aW5nIiwic2V0SXNGbG9hdGluZyIsInBvc2l0aW9uIiwic2V0UG9zaXRpb24iLCJ4IiwieSIsImlzRHJhZ2dpbmdSZWYiLCJkcmFnT2Zmc2V0UmVmIiwiaGFuZGxlVG9nZ2xlRmxvYXRpbmciLCJwcmV2IiwibmV4dCIsIndpZHRoIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiaGFuZGxlTW91c2VNb3ZlIiwiZXZlbnQiLCJjdXJyZW50IiwibmV4dFgiLCJjbGllbnRYIiwibmV4dFkiLCJjbGllbnRZIiwiaGFuZGxlTW91c2VVcCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGFuZGxlRHJhZ01vdXNlRG93biIsInByZXZlbnREZWZhdWx0IiwiY29udGFpbmVyU3R5bGUiLCJsZWZ0IiwidG9wIiwiZGl2IiwiY2xhc3NOYW1lIiwic3R5bGUiLCJidXR0b24iLCJvbkNsaWNrIiwiYXJpYS1sYWJlbCIsInR5cGUiLCJvbk1vdXNlRG93biIsInNwYW4iLCJpbnB1dCIsIm1pbiIsInZhbHVlIiwiTnVtYmVyIiwiaXNGaW5pdGUiLCJvbkNoYW5nZSIsInRhcmdldCIsImNsYW1wZWQiLCJzZWxlY3QiLCJvcHRpb24iLCJlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/studio/TransportBar.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/**\n * @license React\n * react-jsx-dev-runtime.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nif (true) {\n  (function() {\n'use strict';\n\nvar React = __webpack_require__(/*! next/dist/compiled/react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n// The Symbol used to tag the ReactElement-like types.\nvar REACT_ELEMENT_TYPE = Symbol.for('react.element');\nvar REACT_PORTAL_TYPE = Symbol.for('react.portal');\nvar REACT_FRAGMENT_TYPE = Symbol.for('react.fragment');\nvar REACT_STRICT_MODE_TYPE = Symbol.for('react.strict_mode');\nvar REACT_PROFILER_TYPE = Symbol.for('react.profiler');\nvar REACT_PROVIDER_TYPE = Symbol.for('react.provider'); // TODO: Delete with enableRenderableContext\n\nvar REACT_CONSUMER_TYPE = Symbol.for('react.consumer');\nvar REACT_CONTEXT_TYPE = Symbol.for('react.context');\nvar REACT_FORWARD_REF_TYPE = Symbol.for('react.forward_ref');\nvar REACT_SUSPENSE_TYPE = Symbol.for('react.suspense');\nvar REACT_SUSPENSE_LIST_TYPE = Symbol.for('react.suspense_list');\nvar REACT_MEMO_TYPE = Symbol.for('react.memo');\nvar REACT_LAZY_TYPE = Symbol.for('react.lazy');\nvar REACT_OFFSCREEN_TYPE = Symbol.for('react.offscreen');\nvar REACT_CACHE_TYPE = Symbol.for('react.cache');\nvar MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator';\nfunction getIteratorFn(maybeIterable) {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n\n  var maybeIterator = MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL];\n\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n\n  return null;\n}\n\nvar ReactSharedInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nfunction error(format) {\n  {\n    {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      printWarning('error', format, args);\n    }\n  }\n}\n\nfunction printWarning(level, format, args) {\n  // When changing this logic, you might want to also\n  // update consoleWithStackDev.www.js as well.\n  {\n    var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n    var stack = ReactDebugCurrentFrame.getStackAddendum();\n\n    if (stack !== '') {\n      format += '%s';\n      args = args.concat([stack]);\n    } // eslint-disable-next-line react-internal/safe-string-coercion\n\n\n    var argsWithFormat = args.map(function (item) {\n      return String(item);\n    }); // Careful: RN currently depends on this prefix\n\n    argsWithFormat.unshift('Warning: ' + format); // We intentionally don't use spread (or .apply) directly because it\n    // breaks IE9: https://github.com/facebook/react/issues/13610\n    // eslint-disable-next-line react-internal/no-production-logging\n\n    Function.prototype.apply.call(console[level], console, argsWithFormat);\n  }\n}\n\n// -----------------------------------------------------------------------------\n\nvar enableScopeAPI = false; // Experimental Create Event Handle API.\nvar enableCacheElement = false;\nvar enableTransitionTracing = false; // No known bugs, but needs performance testing\n\nvar enableLegacyHidden = false; // Enables unstable_avoidThisFallback feature in Fiber\nvar enableRenderableContext = false;\n// stuff. Intended to enable React core members to more easily debug scheduling\n// issues in DEV builds.\n\nvar enableDebugTracing = false;\n\nfunction getWrappedName(outerType, innerType, wrapperName) {\n  var displayName = outerType.displayName;\n\n  if (displayName) {\n    return displayName;\n  }\n\n  var functionName = innerType.displayName || innerType.name || '';\n  return functionName !== '' ? wrapperName + \"(\" + functionName + \")\" : wrapperName;\n} // Keep in sync with react-reconciler/getComponentNameFromFiber\n\n\nfunction getContextName(type) {\n  return type.displayName || 'Context';\n}\n\nvar REACT_CLIENT_REFERENCE$2 = Symbol.for('react.client.reference'); // Note that the reconciler package should generally prefer to use getComponentNameFromFiber() instead.\n\nfunction getComponentNameFromType(type) {\n  if (type == null) {\n    // Host root, text node or just invalid type.\n    return null;\n  }\n\n  if (typeof type === 'function') {\n    if (type.$$typeof === REACT_CLIENT_REFERENCE$2) {\n      // TODO: Create a convention for naming client references with debug info.\n      return null;\n    }\n\n    return type.displayName || type.name || null;\n  }\n\n  if (typeof type === 'string') {\n    return type;\n  }\n\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return 'Fragment';\n\n    case REACT_PORTAL_TYPE:\n      return 'Portal';\n\n    case REACT_PROFILER_TYPE:\n      return 'Profiler';\n\n    case REACT_STRICT_MODE_TYPE:\n      return 'StrictMode';\n\n    case REACT_SUSPENSE_TYPE:\n      return 'Suspense';\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return 'SuspenseList';\n\n    case REACT_CACHE_TYPE:\n      {\n        return 'Cache';\n      }\n\n  }\n\n  if (typeof type === 'object') {\n    {\n      if (typeof type.tag === 'number') {\n        error('Received an unexpected object in getComponentNameFromType(). ' + 'This is likely a bug in React. Please file an issue.');\n      }\n    }\n\n    switch (type.$$typeof) {\n      case REACT_PROVIDER_TYPE:\n        {\n          var provider = type;\n          return getContextName(provider._context) + '.Provider';\n        }\n\n      case REACT_CONTEXT_TYPE:\n        var context = type;\n\n        {\n          return getContextName(context) + '.Consumer';\n        }\n\n      case REACT_CONSUMER_TYPE:\n        {\n          return null;\n        }\n\n      case REACT_FORWARD_REF_TYPE:\n        return getWrappedName(type, type.render, 'ForwardRef');\n\n      case REACT_MEMO_TYPE:\n        var outerName = type.displayName || null;\n\n        if (outerName !== null) {\n          return outerName;\n        }\n\n        return getComponentNameFromType(type.type) || 'Memo';\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            return getComponentNameFromType(init(payload));\n          } catch (x) {\n            return null;\n          }\n        }\n    }\n  }\n\n  return null;\n}\n\n// $FlowFixMe[method-unbinding]\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar assign = Object.assign;\n\n/*\n * The `'' + value` pattern (used in perf-sensitive code) throws for Symbol\n * and Temporal.* types. See https://github.com/facebook/react/pull/22064.\n *\n * The functions in this module will throw an easier-to-understand,\n * easier-to-debug exception with a clear errors message message explaining the\n * problem. (Instead of a confusing exception thrown inside the implementation\n * of the `value` object).\n */\n// $FlowFixMe[incompatible-return] only called in DEV, so void return is not possible.\nfunction typeName(value) {\n  {\n    // toStringTag is needed for namespaced types like Temporal.Instant\n    var hasToStringTag = typeof Symbol === 'function' && Symbol.toStringTag;\n    var type = hasToStringTag && value[Symbol.toStringTag] || value.constructor.name || 'Object'; // $FlowFixMe[incompatible-return]\n\n    return type;\n  }\n} // $FlowFixMe[incompatible-return] only called in DEV, so void return is not possible.\n\n\nfunction willCoercionThrow(value) {\n  {\n    try {\n      testStringCoercion(value);\n      return false;\n    } catch (e) {\n      return true;\n    }\n  }\n}\n\nfunction testStringCoercion(value) {\n  // If you ended up here by following an exception call stack, here's what's\n  // happened: you supplied an object or symbol value to React (as a prop, key,\n  // DOM attribute, CSS property, string ref, etc.) and when React tried to\n  // coerce it to a string using `'' + value`, an exception was thrown.\n  //\n  // The most common types that will cause this exception are `Symbol` instances\n  // and Temporal objects like `Temporal.Instant`. But any object that has a\n  // `valueOf` or `[Symbol.toPrimitive]` method that throws will also cause this\n  // exception. (Library authors do this to prevent users from using built-in\n  // numeric operators like `+` or comparison operators like `>=` because custom\n  // methods are needed to perform accurate arithmetic or comparison.)\n  //\n  // To fix the problem, coerce this object or symbol value to a string before\n  // passing it to React. The most reliable way is usually `String(value)`.\n  //\n  // To find which value is throwing, check the browser or debugger console.\n  // Before this exception was thrown, there should be `console.error` output\n  // that shows the type (Symbol, Temporal.PlainDate, etc.) that caused the\n  // problem and how that type was used: key, atrribute, input value prop, etc.\n  // In most cases, this console output also shows the component and its\n  // ancestor components where the exception happened.\n  //\n  // eslint-disable-next-line react-internal/safe-string-coercion\n  return '' + value;\n}\nfunction checkKeyStringCoercion(value) {\n  {\n    if (willCoercionThrow(value)) {\n      error('The provided key is an unsupported type %s.' + ' This value must be coerced to a string before using it here.', typeName(value));\n\n      return testStringCoercion(value); // throw (to help callers find troubleshooting comments)\n    }\n  }\n}\n\nvar REACT_CLIENT_REFERENCE$1 = Symbol.for('react.client.reference');\nfunction isValidElementType(type) {\n  if (typeof type === 'string' || typeof type === 'function') {\n    return true;\n  } // Note: typeof might be other than 'symbol' or 'number' (e.g. if it's a polyfill).\n\n\n  if (type === REACT_FRAGMENT_TYPE || type === REACT_PROFILER_TYPE || enableDebugTracing  || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || enableLegacyHidden  || type === REACT_OFFSCREEN_TYPE || enableScopeAPI  || enableCacheElement  || enableTransitionTracing ) {\n    return true;\n  }\n\n  if (typeof type === 'object' && type !== null) {\n    if (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || enableRenderableContext  || type.$$typeof === REACT_FORWARD_REF_TYPE || // This needs to include all possible module reference object\n    // types supported by any Flight configuration anywhere since\n    // we don't know which Flight build this will end up being used\n    // with.\n    type.$$typeof === REACT_CLIENT_REFERENCE$1 || type.getModuleId !== undefined) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nvar isArrayImpl = Array.isArray; // eslint-disable-next-line no-redeclare\n\nfunction isArray(a) {\n  return isArrayImpl(a);\n}\n\n// Helpers to patch console.logs to avoid logging during side-effect free\n// replaying on render function. This currently only patches the object\n// lazily which won't cover if the log function was extracted eagerly.\n// We could also eagerly patch the method.\nvar disabledDepth = 0;\nvar prevLog;\nvar prevInfo;\nvar prevWarn;\nvar prevError;\nvar prevGroup;\nvar prevGroupCollapsed;\nvar prevGroupEnd;\n\nfunction disabledLog() {}\n\ndisabledLog.__reactDisabledLog = true;\nfunction disableLogs() {\n  {\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      prevLog = console.log;\n      prevInfo = console.info;\n      prevWarn = console.warn;\n      prevError = console.error;\n      prevGroup = console.group;\n      prevGroupCollapsed = console.groupCollapsed;\n      prevGroupEnd = console.groupEnd; // https://github.com/facebook/react/issues/19099\n\n      var props = {\n        configurable: true,\n        enumerable: true,\n        value: disabledLog,\n        writable: true\n      }; // $FlowFixMe[cannot-write] Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        info: props,\n        log: props,\n        warn: props,\n        error: props,\n        group: props,\n        groupCollapsed: props,\n        groupEnd: props\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    disabledDepth++;\n  }\n}\nfunction reenableLogs() {\n  {\n    disabledDepth--;\n\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      var props = {\n        configurable: true,\n        enumerable: true,\n        writable: true\n      }; // $FlowFixMe[cannot-write] Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        log: assign({}, props, {\n          value: prevLog\n        }),\n        info: assign({}, props, {\n          value: prevInfo\n        }),\n        warn: assign({}, props, {\n          value: prevWarn\n        }),\n        error: assign({}, props, {\n          value: prevError\n        }),\n        group: assign({}, props, {\n          value: prevGroup\n        }),\n        groupCollapsed: assign({}, props, {\n          value: prevGroupCollapsed\n        }),\n        groupEnd: assign({}, props, {\n          value: prevGroupEnd\n        })\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    if (disabledDepth < 0) {\n      error('disabledDepth fell below zero. ' + 'This is a bug in React. Please file an issue.');\n    }\n  }\n}\n\nvar ReactCurrentDispatcher = ReactSharedInternals.ReactCurrentDispatcher;\nvar prefix;\nfunction describeBuiltInComponentFrame(name, ownerFn) {\n  {\n    if (prefix === undefined) {\n      // Extract the VM specific prefix used by each line.\n      try {\n        throw Error();\n      } catch (x) {\n        var match = x.stack.trim().match(/\\n( *(at )?)/);\n        prefix = match && match[1] || '';\n      }\n    } // We use the prefix to ensure our stacks line up with native stack frames.\n\n\n    return '\\n' + prefix + name;\n  }\n}\nvar reentry = false;\nvar componentFrameCache;\n\n{\n  var PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n  componentFrameCache = new PossiblyWeakMap();\n}\n/**\n * Leverages native browser/VM stack frames to get proper details (e.g.\n * filename, line + col number) for a single component in a component stack. We\n * do this by:\n *   (1) throwing and catching an error in the function - this will be our\n *       control error.\n *   (2) calling the component which will eventually throw an error that we'll\n *       catch - this will be our sample error.\n *   (3) diffing the control and sample error stacks to find the stack frame\n *       which represents our component.\n */\n\n\nfunction describeNativeComponentFrame(fn, construct) {\n  // If something asked for a stack inside a fake render, it should get ignored.\n  if (!fn || reentry) {\n    return '';\n  }\n\n  {\n    var frame = componentFrameCache.get(fn);\n\n    if (frame !== undefined) {\n      return frame;\n    }\n  }\n\n  reentry = true;\n  var previousPrepareStackTrace = Error.prepareStackTrace; // $FlowFixMe[incompatible-type] It does accept undefined.\n\n  Error.prepareStackTrace = undefined;\n  var previousDispatcher;\n\n  {\n    previousDispatcher = ReactCurrentDispatcher.current; // Set the dispatcher in DEV because this might be call in the render function\n    // for warnings.\n\n    ReactCurrentDispatcher.current = null;\n    disableLogs();\n  }\n  /**\n   * Finding a common stack frame between sample and control errors can be\n   * tricky given the different types and levels of stack trace truncation from\n   * different JS VMs. So instead we'll attempt to control what that common\n   * frame should be through this object method:\n   * Having both the sample and control errors be in the function under the\n   * `DescribeNativeComponentFrameRoot` property, + setting the `name` and\n   * `displayName` properties of the function ensures that a stack\n   * frame exists that has the method name `DescribeNativeComponentFrameRoot` in\n   * it for both control and sample stacks.\n   */\n\n\n  var RunInRootFrame = {\n    DetermineComponentFrameRoot: function () {\n      var control;\n\n      try {\n        // This should throw.\n        if (construct) {\n          // Something should be setting the props in the constructor.\n          var Fake = function () {\n            throw Error();\n          }; // $FlowFixMe[prop-missing]\n\n\n          Object.defineProperty(Fake.prototype, 'props', {\n            set: function () {\n              // We use a throwing setter instead of frozen or non-writable props\n              // because that won't throw in a non-strict mode function.\n              throw Error();\n            }\n          });\n\n          if (typeof Reflect === 'object' && Reflect.construct) {\n            // We construct a different control for this case to include any extra\n            // frames added by the construct call.\n            try {\n              Reflect.construct(Fake, []);\n            } catch (x) {\n              control = x;\n            }\n\n            Reflect.construct(fn, [], Fake);\n          } else {\n            try {\n              Fake.call();\n            } catch (x) {\n              control = x;\n            } // $FlowFixMe[prop-missing] found when upgrading Flow\n\n\n            fn.call(Fake.prototype);\n          }\n        } else {\n          try {\n            throw Error();\n          } catch (x) {\n            control = x;\n          } // TODO(luna): This will currently only throw if the function component\n          // tries to access React/ReactDOM/props. We should probably make this throw\n          // in simple components too\n\n\n          var maybePromise = fn(); // If the function component returns a promise, it's likely an async\n          // component, which we don't yet support. Attach a noop catch handler to\n          // silence the error.\n          // TODO: Implement component stacks for async client components?\n\n          if (maybePromise && typeof maybePromise.catch === 'function') {\n            maybePromise.catch(function () {});\n          }\n        }\n      } catch (sample) {\n        // This is inlined manually because closure doesn't do it for us.\n        if (sample && control && typeof sample.stack === 'string') {\n          return [sample.stack, control.stack];\n        }\n      }\n\n      return [null, null];\n    }\n  }; // $FlowFixMe[prop-missing]\n\n  RunInRootFrame.DetermineComponentFrameRoot.displayName = 'DetermineComponentFrameRoot';\n  var namePropDescriptor = Object.getOwnPropertyDescriptor(RunInRootFrame.DetermineComponentFrameRoot, 'name'); // Before ES6, the `name` property was not configurable.\n\n  if (namePropDescriptor && namePropDescriptor.configurable) {\n    // V8 utilizes a function's `name` property when generating a stack trace.\n    Object.defineProperty(RunInRootFrame.DetermineComponentFrameRoot, // Configurable properties can be updated even if its writable descriptor\n    // is set to `false`.\n    // $FlowFixMe[cannot-write]\n    'name', {\n      value: 'DetermineComponentFrameRoot'\n    });\n  }\n\n  try {\n    var _RunInRootFrame$Deter = RunInRootFrame.DetermineComponentFrameRoot(),\n        sampleStack = _RunInRootFrame$Deter[0],\n        controlStack = _RunInRootFrame$Deter[1];\n\n    if (sampleStack && controlStack) {\n      // This extracts the first frame from the sample that isn't also in the control.\n      // Skipping one frame that we assume is the frame that calls the two.\n      var sampleLines = sampleStack.split('\\n');\n      var controlLines = controlStack.split('\\n');\n      var s = 0;\n      var c = 0;\n\n      while (s < sampleLines.length && !sampleLines[s].includes('DetermineComponentFrameRoot')) {\n        s++;\n      }\n\n      while (c < controlLines.length && !controlLines[c].includes('DetermineComponentFrameRoot')) {\n        c++;\n      } // We couldn't find our intentionally injected common root frame, attempt\n      // to find another common root frame by search from the bottom of the\n      // control stack...\n\n\n      if (s === sampleLines.length || c === controlLines.length) {\n        s = sampleLines.length - 1;\n        c = controlLines.length - 1;\n\n        while (s >= 1 && c >= 0 && sampleLines[s] !== controlLines[c]) {\n          // We expect at least one stack frame to be shared.\n          // Typically this will be the root most one. However, stack frames may be\n          // cut off due to maximum stack limits. In this case, one maybe cut off\n          // earlier than the other. We assume that the sample is longer or the same\n          // and there for cut off earlier. So we should find the root most frame in\n          // the sample somewhere in the control.\n          c--;\n        }\n      }\n\n      for (; s >= 1 && c >= 0; s--, c--) {\n        // Next we find the first one that isn't the same which should be the\n        // frame that called our sample function and the control.\n        if (sampleLines[s] !== controlLines[c]) {\n          // In V8, the first line is describing the message but other VMs don't.\n          // If we're about to return the first line, and the control is also on the same\n          // line, that's a pretty good indicator that our sample threw at same line as\n          // the control. I.e. before we entered the sample frame. So we ignore this result.\n          // This can happen if you passed a class to function component, or non-function.\n          if (s !== 1 || c !== 1) {\n            do {\n              s--;\n              c--; // We may still have similar intermediate frames from the construct call.\n              // The next one that isn't the same should be our match though.\n\n              if (c < 0 || sampleLines[s] !== controlLines[c]) {\n                // V8 adds a \"new\" prefix for native classes. Let's remove it to make it prettier.\n                var _frame = '\\n' + sampleLines[s].replace(' at new ', ' at '); // If our component frame is labeled \"<anonymous>\"\n                // but we have a user-provided \"displayName\"\n                // splice it in to make the stack more readable.\n\n\n                if (fn.displayName && _frame.includes('<anonymous>')) {\n                  _frame = _frame.replace('<anonymous>', fn.displayName);\n                }\n\n                if (true) {\n                  if (typeof fn === 'function') {\n                    componentFrameCache.set(fn, _frame);\n                  }\n                } // Return the line we found.\n\n\n                return _frame;\n              }\n            } while (s >= 1 && c >= 0);\n          }\n\n          break;\n        }\n      }\n    }\n  } finally {\n    reentry = false;\n\n    {\n      ReactCurrentDispatcher.current = previousDispatcher;\n      reenableLogs();\n    }\n\n    Error.prepareStackTrace = previousPrepareStackTrace;\n  } // Fallback to just using the name if we couldn't make it throw.\n\n\n  var name = fn ? fn.displayName || fn.name : '';\n  var syntheticFrame = name ? describeBuiltInComponentFrame(name) : '';\n\n  {\n    if (typeof fn === 'function') {\n      componentFrameCache.set(fn, syntheticFrame);\n    }\n  }\n\n  return syntheticFrame;\n}\nfunction describeFunctionComponentFrame(fn, ownerFn) {\n  {\n    return describeNativeComponentFrame(fn, false);\n  }\n}\n\nfunction shouldConstruct(Component) {\n  var prototype = Component.prototype;\n  return !!(prototype && prototype.isReactComponent);\n}\n\nfunction describeUnknownElementTypeFrameInDEV(type, ownerFn) {\n\n  if (type == null) {\n    return '';\n  }\n\n  if (typeof type === 'function') {\n    {\n      return describeNativeComponentFrame(type, shouldConstruct(type));\n    }\n  }\n\n  if (typeof type === 'string') {\n    return describeBuiltInComponentFrame(type);\n  }\n\n  switch (type) {\n    case REACT_SUSPENSE_TYPE:\n      return describeBuiltInComponentFrame('Suspense');\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return describeBuiltInComponentFrame('SuspenseList');\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_FORWARD_REF_TYPE:\n        return describeFunctionComponentFrame(type.render);\n\n      case REACT_MEMO_TYPE:\n        // Memo may contain any component type so we recursively resolve it.\n        return describeUnknownElementTypeFrameInDEV(type.type, ownerFn);\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            // Lazy may contain any component type so we recursively resolve it.\n            return describeUnknownElementTypeFrameInDEV(init(payload), ownerFn);\n          } catch (x) {}\n        }\n    }\n  }\n\n  return '';\n}\n\nvar ReactCurrentOwner = ReactSharedInternals.ReactCurrentOwner;\nvar ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\nvar REACT_CLIENT_REFERENCE = Symbol.for('react.client.reference');\nvar specialPropKeyWarningShown;\nvar specialPropRefWarningShown;\nvar didWarnAboutStringRefs;\n\n{\n  didWarnAboutStringRefs = {};\n}\n\nfunction hasValidRef(config) {\n  {\n    if (hasOwnProperty.call(config, 'ref')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'ref').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.ref !== undefined;\n}\n\nfunction hasValidKey(config) {\n  {\n    if (hasOwnProperty.call(config, 'key')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'key').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.key !== undefined;\n}\n\nfunction warnIfStringRefCannotBeAutoConverted(config, self) {\n  {\n    if (typeof config.ref === 'string' && ReactCurrentOwner.current && self && ReactCurrentOwner.current.stateNode !== self) {\n      var componentName = getComponentNameFromType(ReactCurrentOwner.current.type);\n\n      if (!didWarnAboutStringRefs[componentName]) {\n        error('Component \"%s\" contains the string ref \"%s\". ' + 'Support for string refs will be removed in a future major release. ' + 'This case cannot be automatically converted to an arrow function. ' + 'We ask you to manually fix this case by using useRef() or createRef() instead. ' + 'Learn more about using refs safely here: ' + 'https://reactjs.org/link/strict-mode-string-ref', getComponentNameFromType(ReactCurrentOwner.current.type), config.ref);\n\n        didWarnAboutStringRefs[componentName] = true;\n      }\n    }\n  }\n}\n\nfunction defineKeyPropWarningGetter(props, displayName) {\n  {\n    var warnAboutAccessingKey = function () {\n      if (!specialPropKeyWarningShown) {\n        specialPropKeyWarningShown = true;\n\n        error('%s: `key` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    };\n\n    warnAboutAccessingKey.isReactWarning = true;\n    Object.defineProperty(props, 'key', {\n      get: warnAboutAccessingKey,\n      configurable: true\n    });\n  }\n}\n\nfunction defineRefPropWarningGetter(props, displayName) {\n  {\n    {\n      var warnAboutAccessingRef = function () {\n        if (!specialPropRefWarningShown) {\n          specialPropRefWarningShown = true;\n\n          error('%s: `ref` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n        }\n      };\n\n      warnAboutAccessingRef.isReactWarning = true;\n      Object.defineProperty(props, 'ref', {\n        get: warnAboutAccessingRef,\n        configurable: true\n      });\n    }\n  }\n}\n/**\n * Factory method to create a new React element. This no longer adheres to\n * the class pattern, so do not use new to call it. Also, instanceof check\n * will not work. Instead test $$typeof field against Symbol.for('react.element') to check\n * if something is a React Element.\n *\n * @param {*} type\n * @param {*} props\n * @param {*} key\n * @param {string|object} ref\n * @param {*} owner\n * @param {*} self A *temporary* helper to detect places where `this` is\n * different from the `owner` when React.createElement is called, so that we\n * can warn. We want to get rid of owner and replace string `ref`s with arrow\n * functions, and as long as `this` and owner are the same, there will be no\n * change in behavior.\n * @param {*} source An annotation object (added by a transpiler or otherwise)\n * indicating filename, line number, and/or other information.\n * @internal\n */\n\n\nfunction ReactElement(type, key, _ref, self, source, owner, props) {\n  var ref;\n\n  {\n    ref = _ref;\n  }\n\n  var element;\n\n  {\n    // In prod, `ref` is a regular property. It will be removed in a\n    // future release.\n    element = {\n      // This tag allows us to uniquely identify this as a React Element\n      $$typeof: REACT_ELEMENT_TYPE,\n      // Built-in properties that belong on the element\n      type: type,\n      key: key,\n      ref: ref,\n      props: props,\n      // Record the component responsible for creating this element.\n      _owner: owner\n    };\n  }\n\n  {\n    // The validation flag is currently mutative. We put it on\n    // an external backing store so that we can freeze the whole object.\n    // This can be replaced with a WeakMap once they are implemented in\n    // commonly used development environments.\n    element._store = {}; // To make comparing ReactElements easier for testing purposes, we make\n    // the validation flag non-enumerable (where possible, which should\n    // include every environment we run tests in), so the test framework\n    // ignores it.\n\n    Object.defineProperty(element._store, 'validated', {\n      configurable: false,\n      enumerable: false,\n      writable: true,\n      value: false\n    }); // debugInfo contains Server Component debug information.\n\n    Object.defineProperty(element, '_debugInfo', {\n      configurable: false,\n      enumerable: false,\n      writable: true,\n      value: null\n    });\n\n    if (Object.freeze) {\n      Object.freeze(element.props);\n      Object.freeze(element);\n    }\n  }\n\n  return element;\n}\nvar didWarnAboutKeySpread = {};\n/**\n * https://github.com/reactjs/rfcs/pull/107\n * @param {*} type\n * @param {object} props\n * @param {string} key\n */\n\nfunction jsxDEV$1(type, config, maybeKey, isStaticChildren, source, self) {\n  {\n    if (!isValidElementType(type)) {\n      // This is an invalid element type.\n      //\n      // We warn in this case but don't throw. We expect the element creation to\n      // succeed and there will likely be errors in render.\n      var info = '';\n\n      if (type === undefined || typeof type === 'object' && type !== null && Object.keys(type).length === 0) {\n        info += ' You likely forgot to export your component from the file ' + \"it's defined in, or you might have mixed up default and named imports.\";\n      }\n\n      var typeString;\n\n      if (type === null) {\n        typeString = 'null';\n      } else if (isArray(type)) {\n        typeString = 'array';\n      } else if (type !== undefined && type.$$typeof === REACT_ELEMENT_TYPE) {\n        typeString = \"<\" + (getComponentNameFromType(type.type) || 'Unknown') + \" />\";\n        info = ' Did you accidentally export a JSX literal instead of a component?';\n      } else {\n        typeString = typeof type;\n      }\n\n      error('React.jsx: type is invalid -- expected a string (for ' + 'built-in components) or a class/function (for composite ' + 'components) but got: %s.%s', typeString, info);\n    } else {\n      // This is a valid element type.\n      // Skip key warning if the type isn't valid since our key validation logic\n      // doesn't expect a non-string/function type and can throw confusing\n      // errors. We don't want exception behavior to differ between dev and\n      // prod. (Rendering will throw with a helpful message and as soon as the\n      // type is fixed, the key warnings will appear.)\n      var children = config.children;\n\n      if (children !== undefined) {\n        if (isStaticChildren) {\n          if (isArray(children)) {\n            for (var i = 0; i < children.length; i++) {\n              validateChildKeys(children[i], type);\n            }\n\n            if (Object.freeze) {\n              Object.freeze(children);\n            }\n          } else {\n            error('React.jsx: Static children should always be an array. ' + 'You are likely explicitly calling React.jsxs or React.jsxDEV. ' + 'Use the Babel transform instead.');\n          }\n        } else {\n          validateChildKeys(children, type);\n        }\n      }\n    } // Warn about key spread regardless of whether the type is valid.\n\n\n    if (hasOwnProperty.call(config, 'key')) {\n      var componentName = getComponentNameFromType(type);\n      var keys = Object.keys(config).filter(function (k) {\n        return k !== 'key';\n      });\n      var beforeExample = keys.length > 0 ? '{key: someKey, ' + keys.join(': ..., ') + ': ...}' : '{key: someKey}';\n\n      if (!didWarnAboutKeySpread[componentName + beforeExample]) {\n        var afterExample = keys.length > 0 ? '{' + keys.join(': ..., ') + ': ...}' : '{}';\n\n        error('A props object containing a \"key\" prop is being spread into JSX:\\n' + '  let props = %s;\\n' + '  <%s {...props} />\\n' + 'React keys must be passed directly to JSX without using spread:\\n' + '  let props = %s;\\n' + '  <%s key={someKey} {...props} />', beforeExample, componentName, afterExample, componentName);\n\n        didWarnAboutKeySpread[componentName + beforeExample] = true;\n      }\n    }\n\n    var propName; // Reserved names are extracted\n\n    var props = {};\n    var key = null;\n    var ref = null; // Currently, key can be spread in as a prop. This causes a potential\n    // issue if key is also explicitly declared (ie. <div {...props} key=\"Hi\" />\n    // or <div key=\"Hi\" {...props} /> ). We want to deprecate key spread,\n    // but as an intermediary step, we will use jsxDEV for everything except\n    // <div {...props} key=\"Hi\" />, because we aren't currently able to tell if\n    // key is explicitly declared to be undefined or not.\n\n    if (maybeKey !== undefined) {\n      {\n        checkKeyStringCoercion(maybeKey);\n      }\n\n      key = '' + maybeKey;\n    }\n\n    if (hasValidKey(config)) {\n      {\n        checkKeyStringCoercion(config.key);\n      }\n\n      key = '' + config.key;\n    }\n\n    if (hasValidRef(config)) {\n      {\n        ref = config.ref;\n      }\n\n      warnIfStringRefCannotBeAutoConverted(config, self);\n    } // Remaining properties are added to a new props object\n\n\n    for (propName in config) {\n      if (hasOwnProperty.call(config, propName) && // Skip over reserved prop names\n      propName !== 'key' && (propName !== 'ref')) {\n        props[propName] = config[propName];\n      }\n    } // Resolve default props\n\n\n    if (type && type.defaultProps) {\n      var defaultProps = type.defaultProps;\n\n      for (propName in defaultProps) {\n        if (props[propName] === undefined) {\n          props[propName] = defaultProps[propName];\n        }\n      }\n    }\n\n    if (key || ref) {\n      var displayName = typeof type === 'function' ? type.displayName || type.name || 'Unknown' : type;\n\n      if (key) {\n        defineKeyPropWarningGetter(props, displayName);\n      }\n\n      if (ref) {\n        defineRefPropWarningGetter(props, displayName);\n      }\n    }\n\n    var element = ReactElement(type, key, ref, self, source, ReactCurrentOwner.current, props);\n\n    if (type === REACT_FRAGMENT_TYPE) {\n      validateFragmentProps(element);\n    }\n\n    return element;\n  }\n}\n\nfunction getDeclarationErrorAddendum() {\n  {\n    if (ReactCurrentOwner.current) {\n      var name = getComponentNameFromType(ReactCurrentOwner.current.type);\n\n      if (name) {\n        return '\\n\\nCheck the render method of `' + name + '`.';\n      }\n    }\n\n    return '';\n  }\n}\n/**\n * Ensure that every element either is passed in a static location, in an\n * array with an explicit keys property defined, or in an object literal\n * with valid key property.\n *\n * @internal\n * @param {ReactNode} node Statically passed child of any type.\n * @param {*} parentType node's parent's type.\n */\n\n\nfunction validateChildKeys(node, parentType) {\n  {\n    if (typeof node !== 'object' || !node) {\n      return;\n    }\n\n    if (node.$$typeof === REACT_CLIENT_REFERENCE) ; else if (isArray(node)) {\n      for (var i = 0; i < node.length; i++) {\n        var child = node[i];\n\n        if (isValidElement(child)) {\n          validateExplicitKey(child, parentType);\n        }\n      }\n    } else if (isValidElement(node)) {\n      // This element was passed in a valid location.\n      if (node._store) {\n        node._store.validated = true;\n      }\n    } else {\n      var iteratorFn = getIteratorFn(node);\n\n      if (typeof iteratorFn === 'function') {\n        // Entry iterators used to provide implicit keys,\n        // but now we print a separate warning for them later.\n        if (iteratorFn !== node.entries) {\n          var iterator = iteratorFn.call(node);\n          var step;\n\n          while (!(step = iterator.next()).done) {\n            if (isValidElement(step.value)) {\n              validateExplicitKey(step.value, parentType);\n            }\n          }\n        }\n      }\n    }\n  }\n}\n/**\n * Verifies the object is a ReactElement.\n * See https://reactjs.org/docs/react-api.html#isvalidelement\n * @param {?object} object\n * @return {boolean} True if `object` is a ReactElement.\n * @final\n */\n\n\nfunction isValidElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nvar ownerHasKeyUseWarning = {};\n/**\n * Warn if the element doesn't have an explicit key assigned to it.\n * This element is in an array. The array could grow and shrink or be\n * reordered. All children that haven't already been validated are required to\n * have a \"key\" property assigned to it. Error statuses are cached so a warning\n * will only be shown once.\n *\n * @internal\n * @param {ReactElement} element Element that requires a key.\n * @param {*} parentType element's parent's type.\n */\n\nfunction validateExplicitKey(element, parentType) {\n  {\n    if (!element._store || element._store.validated || element.key != null) {\n      return;\n    }\n\n    element._store.validated = true;\n    var currentComponentErrorInfo = getCurrentComponentErrorInfo(parentType);\n\n    if (ownerHasKeyUseWarning[currentComponentErrorInfo]) {\n      return;\n    }\n\n    ownerHasKeyUseWarning[currentComponentErrorInfo] = true; // Usually the current owner is the offender, but if it accepts children as a\n    // property, it may be the creator of the child that's responsible for\n    // assigning it a key.\n\n    var childOwner = '';\n\n    if (element && element._owner && element._owner !== ReactCurrentOwner.current) {\n      // Give the component that originally created this child.\n      childOwner = \" It was passed a child from \" + getComponentNameFromType(element._owner.type) + \".\";\n    }\n\n    setCurrentlyValidatingElement(element);\n\n    error('Each child in a list should have a unique \"key\" prop.' + '%s%s See https://reactjs.org/link/warning-keys for more information.', currentComponentErrorInfo, childOwner);\n\n    setCurrentlyValidatingElement(null);\n  }\n}\n\nfunction setCurrentlyValidatingElement(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, owner ? owner.type : null);\n      ReactDebugCurrentFrame.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame.setExtraStackFrame(null);\n    }\n  }\n}\n\nfunction getCurrentComponentErrorInfo(parentType) {\n  {\n    var info = getDeclarationErrorAddendum();\n\n    if (!info) {\n      var parentName = getComponentNameFromType(parentType);\n\n      if (parentName) {\n        info = \"\\n\\nCheck the top-level render call using <\" + parentName + \">.\";\n      }\n    }\n\n    return info;\n  }\n}\n/**\n * Given a fragment, validate that it can only be provided with fragment props\n * @param {ReactElement} fragment\n */\n\n\nfunction validateFragmentProps(fragment) {\n  // TODO: Move this to render phase instead of at element creation.\n  {\n    var keys = Object.keys(fragment.props);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n\n      if (key !== 'children' && key !== 'key') {\n        setCurrentlyValidatingElement(fragment);\n\n        error('Invalid prop `%s` supplied to `React.Fragment`. ' + 'React.Fragment can only have `key` and `children` props.', key);\n\n        setCurrentlyValidatingElement(null);\n        break;\n      }\n    }\n\n    if (fragment.ref !== null) {\n      setCurrentlyValidatingElement(fragment);\n\n      error('Invalid attribute `ref` supplied to `React.Fragment`.');\n\n      setCurrentlyValidatingElement(null);\n    }\n  }\n}\n\nvar jsxDEV = jsxDEV$1 ;\n\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsxDEV = jsxDEV;\n  })();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWIsSUFBSSxJQUFxQztBQUN6QztBQUNBOztBQUVBLFlBQVksbUJBQU8sQ0FBQyxzR0FBMEI7O0FBRTlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RDs7QUFFeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlHQUFpRyxlQUFlO0FBQ2hIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07OztBQUdOO0FBQ0E7QUFDQSxLQUFLLEdBQUc7O0FBRVIsa0RBQWtEO0FBQ2xEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBLDRCQUE0QjtBQUM1QjtBQUNBLHFDQUFxQzs7QUFFckMsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7O0FBR0Y7QUFDQTtBQUNBOztBQUVBLHFFQUFxRTs7QUFFckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0dBQWtHOztBQUVsRztBQUNBO0FBQ0EsRUFBRTs7O0FBR0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7OztBQUdKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxpQ0FBaUM7O0FBRWpDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1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O0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxXQUFXLEdBQUc7QUFDZCxXQUFXLEdBQUc7QUFDZCxXQUFXLGVBQWU7QUFDMUIsV0FBVyxHQUFHO0FBQ2QsV0FBVyxHQUFHO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZDtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtB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QUFXLGNBQWM7QUFDekI7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9CQUFvQixpQkFBaUI7QUFDckM7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLGdCQUFnQjtBQUNoQixjQUFjO0FBQ2QsR0FBRztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcz80MGU1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2UgUmVhY3RcbiAqIHJlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIChmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0ID0gcmVxdWlyZShcIm5leHQvZGlzdC9jb21waWxlZC9yZWFjdFwiKTtcblxuLy8gQVRURU5USU9OXG4vLyBXaGVuIGFkZGluZyBuZXcgc3ltYm9scyB0byB0aGlzIGZpbGUsXG4vLyBQbGVhc2UgY29uc2lkZXIgYWxzbyBhZGRpbmcgdG8gJ3JlYWN0LWRldnRvb2xzLXNoYXJlZC9zcmMvYmFja2VuZC9SZWFjdFN5bWJvbHMnXG4vLyBUaGUgU3ltYm9sIHVzZWQgdG8gdGFnIHRoZSBSZWFjdEVsZW1lbnQtbGlrZSB0eXBlcy5cbnZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50Jyk7XG52YXIgUkVBQ1RfUE9SVEFMX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5wb3J0YWwnKTtcbnZhciBSRUFDVF9GUkFHTUVOVF9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QuZnJhZ21lbnQnKTtcbnZhciBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFID0gU3ltYm9sLmZvcigncmVhY3Quc3RyaWN0X21vZGUnKTtcbnZhciBSRUFDVF9QUk9GSUxFUl9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QucHJvZmlsZXInKTtcbnZhciBSRUFDVF9QUk9WSURFUl9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QucHJvdmlkZXInKTsgLy8gVE9ETzogRGVsZXRlIHdpdGggZW5hYmxlUmVuZGVyYWJsZUNvbnRleHRcblxudmFyIFJFQUNUX0NPTlNVTUVSX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5jb25zdW1lcicpO1xudmFyIFJFQUNUX0NPTlRFWFRfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LmNvbnRleHQnKTtcbnZhciBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QuZm9yd2FyZF9yZWYnKTtcbnZhciBSRUFDVF9TVVNQRU5TRV9UWVBFID0gU3ltYm9sLmZvcigncmVhY3Quc3VzcGVuc2UnKTtcbnZhciBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5zdXNwZW5zZV9saXN0Jyk7XG52YXIgUkVBQ1RfTUVNT19UWVBFID0gU3ltYm9sLmZvcigncmVhY3QubWVtbycpO1xudmFyIFJFQUNUX0xBWllfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LmxhenknKTtcbnZhciBSRUFDVF9PRkZTQ1JFRU5fVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0Lm9mZnNjcmVlbicpO1xudmFyIFJFQUNUX0NBQ0hFX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5jYWNoZScpO1xudmFyIE1BWUJFX0lURVJBVE9SX1NZTUJPTCA9IFN5bWJvbC5pdGVyYXRvcjtcbnZhciBGQVVYX0lURVJBVE9SX1NZTUJPTCA9ICdAQGl0ZXJhdG9yJztcbmZ1bmN0aW9uIGdldEl0ZXJhdG9yRm4obWF5YmVJdGVyYWJsZSkge1xuICBpZiAobWF5YmVJdGVyYWJsZSA9PT0gbnVsbCB8fCB0eXBlb2YgbWF5YmVJdGVyYWJsZSAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBtYXliZUl0ZXJhdG9yID0gTUFZQkVfSVRFUkFUT1JfU1lNQk9MICYmIG1heWJlSXRlcmFibGVbTUFZQkVfSVRFUkFUT1JfU1lNQk9MXSB8fCBtYXliZUl0ZXJhYmxlW0ZBVVhfSVRFUkFUT1JfU1lNQk9MXTtcblxuICBpZiAodHlwZW9mIG1heWJlSXRlcmF0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gbWF5YmVJdGVyYXRvcjtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG52YXIgUmVhY3RTaGFyZWRJbnRlcm5hbHMgPSBSZWFjdC5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRDtcblxuZnVuY3Rpb24gZXJyb3IoZm9ybWF0KSB7XG4gIHtcbiAgICB7XG4gICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBhcmdzW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICBwcmludFdhcm5pbmcoJ2Vycm9yJywgZm9ybWF0LCBhcmdzKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJpbnRXYXJuaW5nKGxldmVsLCBmb3JtYXQsIGFyZ3MpIHtcbiAgLy8gV2hlbiBjaGFuZ2luZyB0aGlzIGxvZ2ljLCB5b3UgbWlnaHQgd2FudCB0byBhbHNvXG4gIC8vIHVwZGF0ZSBjb25zb2xlV2l0aFN0YWNrRGV2Lnd3dy5qcyBhcyB3ZWxsLlxuICB7XG4gICAgdmFyIFJlYWN0RGVidWdDdXJyZW50RnJhbWUgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdERlYnVnQ3VycmVudEZyYW1lO1xuICAgIHZhciBzdGFjayA9IFJlYWN0RGVidWdDdXJyZW50RnJhbWUuZ2V0U3RhY2tBZGRlbmR1bSgpO1xuXG4gICAgaWYgKHN0YWNrICE9PSAnJykge1xuICAgICAgZm9ybWF0ICs9ICclcyc7XG4gICAgICBhcmdzID0gYXJncy5jb25jYXQoW3N0YWNrXSk7XG4gICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaW50ZXJuYWwvc2FmZS1zdHJpbmctY29lcmNpb25cblxuXG4gICAgdmFyIGFyZ3NXaXRoRm9ybWF0ID0gYXJncy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiBTdHJpbmcoaXRlbSk7XG4gICAgfSk7IC8vIENhcmVmdWw6IFJOIGN1cnJlbnRseSBkZXBlbmRzIG9uIHRoaXMgcHJlZml4XG5cbiAgICBhcmdzV2l0aEZvcm1hdC51bnNoaWZ0KCdXYXJuaW5nOiAnICsgZm9ybWF0KTsgLy8gV2UgaW50ZW50aW9uYWxseSBkb24ndCB1c2Ugc3ByZWFkIChvciAuYXBwbHkpIGRpcmVjdGx5IGJlY2F1c2UgaXRcbiAgICAvLyBicmVha3MgSUU5OiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzEzNjEwXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZ1xuXG4gICAgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoY29uc29sZVtsZXZlbF0sIGNvbnNvbGUsIGFyZ3NXaXRoRm9ybWF0KTtcbiAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG52YXIgZW5hYmxlU2NvcGVBUEkgPSBmYWxzZTsgLy8gRXhwZXJpbWVudGFsIENyZWF0ZSBFdmVudCBIYW5kbGUgQVBJLlxudmFyIGVuYWJsZUNhY2hlRWxlbWVudCA9IGZhbHNlO1xudmFyIGVuYWJsZVRyYW5zaXRpb25UcmFjaW5nID0gZmFsc2U7IC8vIE5vIGtub3duIGJ1Z3MsIGJ1dCBuZWVkcyBwZXJmb3JtYW5jZSB0ZXN0aW5nXG5cbnZhciBlbmFibGVMZWdhY3lIaWRkZW4gPSBmYWxzZTsgLy8gRW5hYmxlcyB1bnN0YWJsZV9hdm9pZFRoaXNGYWxsYmFjayBmZWF0dXJlIGluIEZpYmVyXG52YXIgZW5hYmxlUmVuZGVyYWJsZUNvbnRleHQgPSBmYWxzZTtcbi8vIHN0dWZmLiBJbnRlbmRlZCB0byBlbmFibGUgUmVhY3QgY29yZSBtZW1iZXJzIHRvIG1vcmUgZWFzaWx5IGRlYnVnIHNjaGVkdWxpbmdcbi8vIGlzc3VlcyBpbiBERVYgYnVpbGRzLlxuXG52YXIgZW5hYmxlRGVidWdUcmFjaW5nID0gZmFsc2U7XG5cbmZ1bmN0aW9uIGdldFdyYXBwZWROYW1lKG91dGVyVHlwZSwgaW5uZXJUeXBlLCB3cmFwcGVyTmFtZSkge1xuICB2YXIgZGlzcGxheU5hbWUgPSBvdXRlclR5cGUuZGlzcGxheU5hbWU7XG5cbiAgaWYgKGRpc3BsYXlOYW1lKSB7XG4gICAgcmV0dXJuIGRpc3BsYXlOYW1lO1xuICB9XG5cbiAgdmFyIGZ1bmN0aW9uTmFtZSA9IGlubmVyVHlwZS5kaXNwbGF5TmFtZSB8fCBpbm5lclR5cGUubmFtZSB8fCAnJztcbiAgcmV0dXJuIGZ1bmN0aW9uTmFtZSAhPT0gJycgPyB3cmFwcGVyTmFtZSArIFwiKFwiICsgZnVuY3Rpb25OYW1lICsgXCIpXCIgOiB3cmFwcGVyTmFtZTtcbn0gLy8gS2VlcCBpbiBzeW5jIHdpdGggcmVhY3QtcmVjb25jaWxlci9nZXRDb21wb25lbnROYW1lRnJvbUZpYmVyXG5cblxuZnVuY3Rpb24gZ2V0Q29udGV4dE5hbWUodHlwZSkge1xuICByZXR1cm4gdHlwZS5kaXNwbGF5TmFtZSB8fCAnQ29udGV4dCc7XG59XG5cbnZhciBSRUFDVF9DTElFTlRfUkVGRVJFTkNFJDIgPSBTeW1ib2wuZm9yKCdyZWFjdC5jbGllbnQucmVmZXJlbmNlJyk7IC8vIE5vdGUgdGhhdCB0aGUgcmVjb25jaWxlciBwYWNrYWdlIHNob3VsZCBnZW5lcmFsbHkgcHJlZmVyIHRvIHVzZSBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKCkgaW5zdGVhZC5cblxuZnVuY3Rpb24gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpIHtcbiAgaWYgKHR5cGUgPT0gbnVsbCkge1xuICAgIC8vIEhvc3Qgcm9vdCwgdGV4dCBub2RlIG9yIGp1c3QgaW52YWxpZCB0eXBlLlxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UkMikge1xuICAgICAgLy8gVE9ETzogQ3JlYXRlIGEgY29udmVudGlvbiBmb3IgbmFtaW5nIGNsaWVudCByZWZlcmVuY2VzIHdpdGggZGVidWcgaW5mby5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCBudWxsO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB0eXBlO1xuICB9XG5cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuICAgICAgcmV0dXJuICdGcmFnbWVudCc7XG5cbiAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgcmV0dXJuICdQb3J0YWwnO1xuXG4gICAgY2FzZSBSRUFDVF9QUk9GSUxFUl9UWVBFOlxuICAgICAgcmV0dXJuICdQcm9maWxlcic7XG5cbiAgICBjYXNlIFJFQUNUX1NUUklDVF9NT0RFX1RZUEU6XG4gICAgICByZXR1cm4gJ1N0cmljdE1vZGUnO1xuXG4gICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxuICAgICAgcmV0dXJuICdTdXNwZW5zZSc7XG5cbiAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRTpcbiAgICAgIHJldHVybiAnU3VzcGVuc2VMaXN0JztcblxuICAgIGNhc2UgUkVBQ1RfQ0FDSEVfVFlQRTpcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuICdDYWNoZSc7XG4gICAgICB9XG5cbiAgfVxuXG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICB7XG4gICAgICBpZiAodHlwZW9mIHR5cGUudGFnID09PSAnbnVtYmVyJykge1xuICAgICAgICBlcnJvcignUmVjZWl2ZWQgYW4gdW5leHBlY3RlZCBvYmplY3QgaW4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKCkuICcgKyAnVGhpcyBpcyBsaWtlbHkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHN3aXRjaCAodHlwZS4kJHR5cGVvZikge1xuICAgICAgY2FzZSBSRUFDVF9QUk9WSURFUl9UWVBFOlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIHByb3ZpZGVyID0gdHlwZTtcbiAgICAgICAgICByZXR1cm4gZ2V0Q29udGV4dE5hbWUocHJvdmlkZXIuX2NvbnRleHQpICsgJy5Qcm92aWRlcic7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBSRUFDVF9DT05URVhUX1RZUEU6XG4gICAgICAgIHZhciBjb250ZXh0ID0gdHlwZTtcblxuICAgICAgICB7XG4gICAgICAgICAgcmV0dXJuIGdldENvbnRleHROYW1lKGNvbnRleHQpICsgJy5Db25zdW1lcic7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBSRUFDVF9DT05TVU1FUl9UWVBFOlxuICAgICAgICB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICByZXR1cm4gZ2V0V3JhcHBlZE5hbWUodHlwZSwgdHlwZS5yZW5kZXIsICdGb3J3YXJkUmVmJyk7XG5cbiAgICAgIGNhc2UgUkVBQ1RfTUVNT19UWVBFOlxuICAgICAgICB2YXIgb3V0ZXJOYW1lID0gdHlwZS5kaXNwbGF5TmFtZSB8fCBudWxsO1xuXG4gICAgICAgIGlmIChvdXRlck5hbWUgIT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gb3V0ZXJOYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8ICdNZW1vJztcblxuICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgbGF6eUNvbXBvbmVudCA9IHR5cGU7XG4gICAgICAgICAgdmFyIHBheWxvYWQgPSBsYXp5Q29tcG9uZW50Ll9wYXlsb2FkO1xuICAgICAgICAgIHZhciBpbml0ID0gbGF6eUNvbXBvbmVudC5faW5pdDtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKGluaXQocGF5bG9hZCkpO1xuICAgICAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG4vLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG52YXIgYXNzaWduID0gT2JqZWN0LmFzc2lnbjtcblxuLypcbiAqIFRoZSBgJycgKyB2YWx1ZWAgcGF0dGVybiAodXNlZCBpbiBwZXJmLXNlbnNpdGl2ZSBjb2RlKSB0aHJvd3MgZm9yIFN5bWJvbFxuICogYW5kIFRlbXBvcmFsLiogdHlwZXMuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvcHVsbC8yMjA2NC5cbiAqXG4gKiBUaGUgZnVuY3Rpb25zIGluIHRoaXMgbW9kdWxlIHdpbGwgdGhyb3cgYW4gZWFzaWVyLXRvLXVuZGVyc3RhbmQsXG4gKiBlYXNpZXItdG8tZGVidWcgZXhjZXB0aW9uIHdpdGggYSBjbGVhciBlcnJvcnMgbWVzc2FnZSBtZXNzYWdlIGV4cGxhaW5pbmcgdGhlXG4gKiBwcm9ibGVtLiAoSW5zdGVhZCBvZiBhIGNvbmZ1c2luZyBleGNlcHRpb24gdGhyb3duIGluc2lkZSB0aGUgaW1wbGVtZW50YXRpb25cbiAqIG9mIHRoZSBgdmFsdWVgIG9iamVjdCkuXG4gKi9cbi8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXJldHVybl0gb25seSBjYWxsZWQgaW4gREVWLCBzbyB2b2lkIHJldHVybiBpcyBub3QgcG9zc2libGUuXG5mdW5jdGlvbiB0eXBlTmFtZSh2YWx1ZSkge1xuICB7XG4gICAgLy8gdG9TdHJpbmdUYWcgaXMgbmVlZGVkIGZvciBuYW1lc3BhY2VkIHR5cGVzIGxpa2UgVGVtcG9yYWwuSW5zdGFudFxuICAgIHZhciBoYXNUb1N0cmluZ1RhZyA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLnRvU3RyaW5nVGFnO1xuICAgIHZhciB0eXBlID0gaGFzVG9TdHJpbmdUYWcgJiYgdmFsdWVbU3ltYm9sLnRvU3RyaW5nVGFnXSB8fCB2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lIHx8ICdPYmplY3QnOyAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1yZXR1cm5dXG5cbiAgICByZXR1cm4gdHlwZTtcbiAgfVxufSAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1yZXR1cm5dIG9ubHkgY2FsbGVkIGluIERFViwgc28gdm9pZCByZXR1cm4gaXMgbm90IHBvc3NpYmxlLlxuXG5cbmZ1bmN0aW9uIHdpbGxDb2VyY2lvblRocm93KHZhbHVlKSB7XG4gIHtcbiAgICB0cnkge1xuICAgICAgdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKSB7XG4gIC8vIElmIHlvdSBlbmRlZCB1cCBoZXJlIGJ5IGZvbGxvd2luZyBhbiBleGNlcHRpb24gY2FsbCBzdGFjaywgaGVyZSdzIHdoYXQnc1xuICAvLyBoYXBwZW5lZDogeW91IHN1cHBsaWVkIGFuIG9iamVjdCBvciBzeW1ib2wgdmFsdWUgdG8gUmVhY3QgKGFzIGEgcHJvcCwga2V5LFxuICAvLyBET00gYXR0cmlidXRlLCBDU1MgcHJvcGVydHksIHN0cmluZyByZWYsIGV0Yy4pIGFuZCB3aGVuIFJlYWN0IHRyaWVkIHRvXG4gIC8vIGNvZXJjZSBpdCB0byBhIHN0cmluZyB1c2luZyBgJycgKyB2YWx1ZWAsIGFuIGV4Y2VwdGlvbiB3YXMgdGhyb3duLlxuICAvL1xuICAvLyBUaGUgbW9zdCBjb21tb24gdHlwZXMgdGhhdCB3aWxsIGNhdXNlIHRoaXMgZXhjZXB0aW9uIGFyZSBgU3ltYm9sYCBpbnN0YW5jZXNcbiAgLy8gYW5kIFRlbXBvcmFsIG9iamVjdHMgbGlrZSBgVGVtcG9yYWwuSW5zdGFudGAuIEJ1dCBhbnkgb2JqZWN0IHRoYXQgaGFzIGFcbiAgLy8gYHZhbHVlT2ZgIG9yIGBbU3ltYm9sLnRvUHJpbWl0aXZlXWAgbWV0aG9kIHRoYXQgdGhyb3dzIHdpbGwgYWxzbyBjYXVzZSB0aGlzXG4gIC8vIGV4Y2VwdGlvbi4gKExpYnJhcnkgYXV0aG9ycyBkbyB0aGlzIHRvIHByZXZlbnQgdXNlcnMgZnJvbSB1c2luZyBidWlsdC1pblxuICAvLyBudW1lcmljIG9wZXJhdG9ycyBsaWtlIGArYCBvciBjb21wYXJpc29uIG9wZXJhdG9ycyBsaWtlIGA+PWAgYmVjYXVzZSBjdXN0b21cbiAgLy8gbWV0aG9kcyBhcmUgbmVlZGVkIHRvIHBlcmZvcm0gYWNjdXJhdGUgYXJpdGhtZXRpYyBvciBjb21wYXJpc29uLilcbiAgLy9cbiAgLy8gVG8gZml4IHRoZSBwcm9ibGVtLCBjb2VyY2UgdGhpcyBvYmplY3Qgb3Igc3ltYm9sIHZhbHVlIHRvIGEgc3RyaW5nIGJlZm9yZVxuICAvLyBwYXNzaW5nIGl0IHRvIFJlYWN0LiBUaGUgbW9zdCByZWxpYWJsZSB3YXkgaXMgdXN1YWxseSBgU3RyaW5nKHZhbHVlKWAuXG4gIC8vXG4gIC8vIFRvIGZpbmQgd2hpY2ggdmFsdWUgaXMgdGhyb3dpbmcsIGNoZWNrIHRoZSBicm93c2VyIG9yIGRlYnVnZ2VyIGNvbnNvbGUuXG4gIC8vIEJlZm9yZSB0aGlzIGV4Y2VwdGlvbiB3YXMgdGhyb3duLCB0aGVyZSBzaG91bGQgYmUgYGNvbnNvbGUuZXJyb3JgIG91dHB1dFxuICAvLyB0aGF0IHNob3dzIHRoZSB0eXBlIChTeW1ib2wsIFRlbXBvcmFsLlBsYWluRGF0ZSwgZXRjLikgdGhhdCBjYXVzZWQgdGhlXG4gIC8vIHByb2JsZW0gYW5kIGhvdyB0aGF0IHR5cGUgd2FzIHVzZWQ6IGtleSwgYXRycmlidXRlLCBpbnB1dCB2YWx1ZSBwcm9wLCBldGMuXG4gIC8vIEluIG1vc3QgY2FzZXMsIHRoaXMgY29uc29sZSBvdXRwdXQgYWxzbyBzaG93cyB0aGUgY29tcG9uZW50IGFuZCBpdHNcbiAgLy8gYW5jZXN0b3IgY29tcG9uZW50cyB3aGVyZSB0aGUgZXhjZXB0aW9uIGhhcHBlbmVkLlxuICAvL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaW50ZXJuYWwvc2FmZS1zdHJpbmctY29lcmNpb25cbiAgcmV0dXJuICcnICsgdmFsdWU7XG59XG5mdW5jdGlvbiBjaGVja0tleVN0cmluZ0NvZXJjaW9uKHZhbHVlKSB7XG4gIHtcbiAgICBpZiAod2lsbENvZXJjaW9uVGhyb3codmFsdWUpKSB7XG4gICAgICBlcnJvcignVGhlIHByb3ZpZGVkIGtleSBpcyBhbiB1bnN1cHBvcnRlZCB0eXBlICVzLicgKyAnIFRoaXMgdmFsdWUgbXVzdCBiZSBjb2VyY2VkIHRvIGEgc3RyaW5nIGJlZm9yZSB1c2luZyBpdCBoZXJlLicsIHR5cGVOYW1lKHZhbHVlKSk7XG5cbiAgICAgIHJldHVybiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpOyAvLyB0aHJvdyAodG8gaGVscCBjYWxsZXJzIGZpbmQgdHJvdWJsZXNob290aW5nIGNvbW1lbnRzKVxuICAgIH1cbiAgfVxufVxuXG52YXIgUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRSQxID0gU3ltYm9sLmZvcigncmVhY3QuY2xpZW50LnJlZmVyZW5jZScpO1xuZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpIHtcbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9IC8vIE5vdGU6IHR5cGVvZiBtaWdodCBiZSBvdGhlciB0aGFuICdzeW1ib2wnIG9yICdudW1iZXInIChlLmcuIGlmIGl0J3MgYSBwb2x5ZmlsbCkuXG5cblxuICBpZiAodHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9QUk9GSUxFUl9UWVBFIHx8IGVuYWJsZURlYnVnVHJhY2luZyAgfHwgdHlwZSA9PT0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9TVVNQRU5TRV9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSB8fCBlbmFibGVMZWdhY3lIaWRkZW4gIHx8IHR5cGUgPT09IFJFQUNUX09GRlNDUkVFTl9UWVBFIHx8IGVuYWJsZVNjb3BlQVBJICB8fCBlbmFibGVDYWNoZUVsZW1lbnQgIHx8IGVuYWJsZVRyYW5zaXRpb25UcmFjaW5nICkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiB0eXBlICE9PSBudWxsKSB7XG4gICAgaWYgKHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0xBWllfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9NRU1PX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OVEVYVF9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX1BST1ZJREVSX1RZUEUgfHwgZW5hYmxlUmVuZGVyYWJsZUNvbnRleHQgIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgfHwgLy8gVGhpcyBuZWVkcyB0byBpbmNsdWRlIGFsbCBwb3NzaWJsZSBtb2R1bGUgcmVmZXJlbmNlIG9iamVjdFxuICAgIC8vIHR5cGVzIHN1cHBvcnRlZCBieSBhbnkgRmxpZ2h0IGNvbmZpZ3VyYXRpb24gYW55d2hlcmUgc2luY2VcbiAgICAvLyB3ZSBkb24ndCBrbm93IHdoaWNoIEZsaWdodCBidWlsZCB0aGlzIHdpbGwgZW5kIHVwIGJlaW5nIHVzZWRcbiAgICAvLyB3aXRoLlxuICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UkMSB8fCB0eXBlLmdldE1vZHVsZUlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxudmFyIGlzQXJyYXlJbXBsID0gQXJyYXkuaXNBcnJheTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlZGVjbGFyZVxuXG5mdW5jdGlvbiBpc0FycmF5KGEpIHtcbiAgcmV0dXJuIGlzQXJyYXlJbXBsKGEpO1xufVxuXG4vLyBIZWxwZXJzIHRvIHBhdGNoIGNvbnNvbGUubG9ncyB0byBhdm9pZCBsb2dnaW5nIGR1cmluZyBzaWRlLWVmZmVjdCBmcmVlXG4vLyByZXBsYXlpbmcgb24gcmVuZGVyIGZ1bmN0aW9uLiBUaGlzIGN1cnJlbnRseSBvbmx5IHBhdGNoZXMgdGhlIG9iamVjdFxuLy8gbGF6aWx5IHdoaWNoIHdvbid0IGNvdmVyIGlmIHRoZSBsb2cgZnVuY3Rpb24gd2FzIGV4dHJhY3RlZCBlYWdlcmx5LlxuLy8gV2UgY291bGQgYWxzbyBlYWdlcmx5IHBhdGNoIHRoZSBtZXRob2QuXG52YXIgZGlzYWJsZWREZXB0aCA9IDA7XG52YXIgcHJldkxvZztcbnZhciBwcmV2SW5mbztcbnZhciBwcmV2V2FybjtcbnZhciBwcmV2RXJyb3I7XG52YXIgcHJldkdyb3VwO1xudmFyIHByZXZHcm91cENvbGxhcHNlZDtcbnZhciBwcmV2R3JvdXBFbmQ7XG5cbmZ1bmN0aW9uIGRpc2FibGVkTG9nKCkge31cblxuZGlzYWJsZWRMb2cuX19yZWFjdERpc2FibGVkTG9nID0gdHJ1ZTtcbmZ1bmN0aW9uIGRpc2FibGVMb2dzKCkge1xuICB7XG4gICAgaWYgKGRpc2FibGVkRGVwdGggPT09IDApIHtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgICAgcHJldkxvZyA9IGNvbnNvbGUubG9nO1xuICAgICAgcHJldkluZm8gPSBjb25zb2xlLmluZm87XG4gICAgICBwcmV2V2FybiA9IGNvbnNvbGUud2FybjtcbiAgICAgIHByZXZFcnJvciA9IGNvbnNvbGUuZXJyb3I7XG4gICAgICBwcmV2R3JvdXAgPSBjb25zb2xlLmdyb3VwO1xuICAgICAgcHJldkdyb3VwQ29sbGFwc2VkID0gY29uc29sZS5ncm91cENvbGxhcHNlZDtcbiAgICAgIHByZXZHcm91cEVuZCA9IGNvbnNvbGUuZ3JvdXBFbmQ7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTkwOTlcblxuICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBkaXNhYmxlZExvZyxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH07IC8vICRGbG93Rml4TWVbY2Fubm90LXdyaXRlXSBGbG93IHRoaW5rcyBjb25zb2xlIGlzIGltbXV0YWJsZS5cblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY29uc29sZSwge1xuICAgICAgICBpbmZvOiBwcm9wcyxcbiAgICAgICAgbG9nOiBwcm9wcyxcbiAgICAgICAgd2FybjogcHJvcHMsXG4gICAgICAgIGVycm9yOiBwcm9wcyxcbiAgICAgICAgZ3JvdXA6IHByb3BzLFxuICAgICAgICBncm91cENvbGxhcHNlZDogcHJvcHMsXG4gICAgICAgIGdyb3VwRW5kOiBwcm9wc1xuICAgICAgfSk7XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgIH1cblxuICAgIGRpc2FibGVkRGVwdGgrKztcbiAgfVxufVxuZnVuY3Rpb24gcmVlbmFibGVMb2dzKCkge1xuICB7XG4gICAgZGlzYWJsZWREZXB0aC0tO1xuXG4gICAgaWYgKGRpc2FibGVkRGVwdGggPT09IDApIHtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9OyAvLyAkRmxvd0ZpeE1lW2Nhbm5vdC13cml0ZV0gRmxvdyB0aGlua3MgY29uc29sZSBpcyBpbW11dGFibGUuXG5cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNvbnNvbGUsIHtcbiAgICAgICAgbG9nOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZMb2dcbiAgICAgICAgfSksXG4gICAgICAgIGluZm86IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB2YWx1ZTogcHJldkluZm9cbiAgICAgICAgfSksXG4gICAgICAgIHdhcm46IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB2YWx1ZTogcHJldldhcm5cbiAgICAgICAgfSksXG4gICAgICAgIGVycm9yOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZFcnJvclxuICAgICAgICB9KSxcbiAgICAgICAgZ3JvdXA6IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB2YWx1ZTogcHJldkdyb3VwXG4gICAgICAgIH0pLFxuICAgICAgICBncm91cENvbGxhcHNlZDogYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICAgIHZhbHVlOiBwcmV2R3JvdXBDb2xsYXBzZWRcbiAgICAgICAgfSksXG4gICAgICAgIGdyb3VwRW5kOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZHcm91cEVuZFxuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgIH1cblxuICAgIGlmIChkaXNhYmxlZERlcHRoIDwgMCkge1xuICAgICAgZXJyb3IoJ2Rpc2FibGVkRGVwdGggZmVsbCBiZWxvdyB6ZXJvLiAnICsgJ1RoaXMgaXMgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICAgIH1cbiAgfVxufVxuXG52YXIgUmVhY3RDdXJyZW50RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlJlYWN0Q3VycmVudERpc3BhdGNoZXI7XG52YXIgcHJlZml4O1xuZnVuY3Rpb24gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUobmFtZSwgb3duZXJGbikge1xuICB7XG4gICAgaWYgKHByZWZpeCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBFeHRyYWN0IHRoZSBWTSBzcGVjaWZpYyBwcmVmaXggdXNlZCBieSBlYWNoIGxpbmUuXG4gICAgICB0cnkge1xuICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICB2YXIgbWF0Y2ggPSB4LnN0YWNrLnRyaW0oKS5tYXRjaCgvXFxuKCAqKGF0ICk/KS8pO1xuICAgICAgICBwcmVmaXggPSBtYXRjaCAmJiBtYXRjaFsxXSB8fCAnJztcbiAgICAgIH1cbiAgICB9IC8vIFdlIHVzZSB0aGUgcHJlZml4IHRvIGVuc3VyZSBvdXIgc3RhY2tzIGxpbmUgdXAgd2l0aCBuYXRpdmUgc3RhY2sgZnJhbWVzLlxuXG5cbiAgICByZXR1cm4gJ1xcbicgKyBwcmVmaXggKyBuYW1lO1xuICB9XG59XG52YXIgcmVlbnRyeSA9IGZhbHNlO1xudmFyIGNvbXBvbmVudEZyYW1lQ2FjaGU7XG5cbntcbiAgdmFyIFBvc3NpYmx5V2Vha01hcCA9IHR5cGVvZiBXZWFrTWFwID09PSAnZnVuY3Rpb24nID8gV2Vha01hcCA6IE1hcDtcbiAgY29tcG9uZW50RnJhbWVDYWNoZSA9IG5ldyBQb3NzaWJseVdlYWtNYXAoKTtcbn1cbi8qKlxuICogTGV2ZXJhZ2VzIG5hdGl2ZSBicm93c2VyL1ZNIHN0YWNrIGZyYW1lcyB0byBnZXQgcHJvcGVyIGRldGFpbHMgKGUuZy5cbiAqIGZpbGVuYW1lLCBsaW5lICsgY29sIG51bWJlcikgZm9yIGEgc2luZ2xlIGNvbXBvbmVudCBpbiBhIGNvbXBvbmVudCBzdGFjay4gV2VcbiAqIGRvIHRoaXMgYnk6XG4gKiAgICgxKSB0aHJvd2luZyBhbmQgY2F0Y2hpbmcgYW4gZXJyb3IgaW4gdGhlIGZ1bmN0aW9uIC0gdGhpcyB3aWxsIGJlIG91clxuICogICAgICAgY29udHJvbCBlcnJvci5cbiAqICAgKDIpIGNhbGxpbmcgdGhlIGNvbXBvbmVudCB3aGljaCB3aWxsIGV2ZW50dWFsbHkgdGhyb3cgYW4gZXJyb3IgdGhhdCB3ZSdsbFxuICogICAgICAgY2F0Y2ggLSB0aGlzIHdpbGwgYmUgb3VyIHNhbXBsZSBlcnJvci5cbiAqICAgKDMpIGRpZmZpbmcgdGhlIGNvbnRyb2wgYW5kIHNhbXBsZSBlcnJvciBzdGFja3MgdG8gZmluZCB0aGUgc3RhY2sgZnJhbWVcbiAqICAgICAgIHdoaWNoIHJlcHJlc2VudHMgb3VyIGNvbXBvbmVudC5cbiAqL1xuXG5cbmZ1bmN0aW9uIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUoZm4sIGNvbnN0cnVjdCkge1xuICAvLyBJZiBzb21ldGhpbmcgYXNrZWQgZm9yIGEgc3RhY2sgaW5zaWRlIGEgZmFrZSByZW5kZXIsIGl0IHNob3VsZCBnZXQgaWdub3JlZC5cbiAgaWYgKCFmbiB8fCByZWVudHJ5KSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAge1xuICAgIHZhciBmcmFtZSA9IGNvbXBvbmVudEZyYW1lQ2FjaGUuZ2V0KGZuKTtcblxuICAgIGlmIChmcmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZnJhbWU7XG4gICAgfVxuICB9XG5cbiAgcmVlbnRyeSA9IHRydWU7XG4gIHZhciBwcmV2aW91c1ByZXBhcmVTdGFja1RyYWNlID0gRXJyb3IucHJlcGFyZVN0YWNrVHJhY2U7IC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGVdIEl0IGRvZXMgYWNjZXB0IHVuZGVmaW5lZC5cblxuICBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZSA9IHVuZGVmaW5lZDtcbiAgdmFyIHByZXZpb3VzRGlzcGF0Y2hlcjtcblxuICB7XG4gICAgcHJldmlvdXNEaXNwYXRjaGVyID0gUmVhY3RDdXJyZW50RGlzcGF0Y2hlci5jdXJyZW50OyAvLyBTZXQgdGhlIGRpc3BhdGNoZXIgaW4gREVWIGJlY2F1c2UgdGhpcyBtaWdodCBiZSBjYWxsIGluIHRoZSByZW5kZXIgZnVuY3Rpb25cbiAgICAvLyBmb3Igd2FybmluZ3MuXG5cbiAgICBSZWFjdEN1cnJlbnREaXNwYXRjaGVyLmN1cnJlbnQgPSBudWxsO1xuICAgIGRpc2FibGVMb2dzKCk7XG4gIH1cbiAgLyoqXG4gICAqIEZpbmRpbmcgYSBjb21tb24gc3RhY2sgZnJhbWUgYmV0d2VlbiBzYW1wbGUgYW5kIGNvbnRyb2wgZXJyb3JzIGNhbiBiZVxuICAgKiB0cmlja3kgZ2l2ZW4gdGhlIGRpZmZlcmVudCB0eXBlcyBhbmQgbGV2ZWxzIG9mIHN0YWNrIHRyYWNlIHRydW5jYXRpb24gZnJvbVxuICAgKiBkaWZmZXJlbnQgSlMgVk1zLiBTbyBpbnN0ZWFkIHdlJ2xsIGF0dGVtcHQgdG8gY29udHJvbCB3aGF0IHRoYXQgY29tbW9uXG4gICAqIGZyYW1lIHNob3VsZCBiZSB0aHJvdWdoIHRoaXMgb2JqZWN0IG1ldGhvZDpcbiAgICogSGF2aW5nIGJvdGggdGhlIHNhbXBsZSBhbmQgY29udHJvbCBlcnJvcnMgYmUgaW4gdGhlIGZ1bmN0aW9uIHVuZGVyIHRoZVxuICAgKiBgRGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZVJvb3RgIHByb3BlcnR5LCArIHNldHRpbmcgdGhlIGBuYW1lYCBhbmRcbiAgICogYGRpc3BsYXlOYW1lYCBwcm9wZXJ0aWVzIG9mIHRoZSBmdW5jdGlvbiBlbnN1cmVzIHRoYXQgYSBzdGFja1xuICAgKiBmcmFtZSBleGlzdHMgdGhhdCBoYXMgdGhlIG1ldGhvZCBuYW1lIGBEZXNjcmliZU5hdGl2ZUNvbXBvbmVudEZyYW1lUm9vdGAgaW5cbiAgICogaXQgZm9yIGJvdGggY29udHJvbCBhbmQgc2FtcGxlIHN0YWNrcy5cbiAgICovXG5cblxuICB2YXIgUnVuSW5Sb290RnJhbWUgPSB7XG4gICAgRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290OiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgY29udHJvbDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyBzaG91bGQgdGhyb3cuXG4gICAgICAgIGlmIChjb25zdHJ1Y3QpIHtcbiAgICAgICAgICAvLyBTb21ldGhpbmcgc2hvdWxkIGJlIHNldHRpbmcgdGhlIHByb3BzIGluIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICB2YXIgRmFrZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgICAgfTsgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddXG5cblxuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGYWtlLnByb3RvdHlwZSwgJ3Byb3BzJywge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIC8vIFdlIHVzZSBhIHRocm93aW5nIHNldHRlciBpbnN0ZWFkIG9mIGZyb3plbiBvciBub24td3JpdGFibGUgcHJvcHNcbiAgICAgICAgICAgICAgLy8gYmVjYXVzZSB0aGF0IHdvbid0IHRocm93IGluIGEgbm9uLXN0cmljdCBtb2RlIGZ1bmN0aW9uLlxuICAgICAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAnb2JqZWN0JyAmJiBSZWZsZWN0LmNvbnN0cnVjdCkge1xuICAgICAgICAgICAgLy8gV2UgY29uc3RydWN0IGEgZGlmZmVyZW50IGNvbnRyb2wgZm9yIHRoaXMgY2FzZSB0byBpbmNsdWRlIGFueSBleHRyYVxuICAgICAgICAgICAgLy8gZnJhbWVzIGFkZGVkIGJ5IHRoZSBjb25zdHJ1Y3QgY2FsbC5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIFJlZmxlY3QuY29uc3RydWN0KEZha2UsIFtdKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgICAgICAgY29udHJvbCA9IHg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFJlZmxlY3QuY29uc3RydWN0KGZuLCBbXSwgRmFrZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIEZha2UuY2FsbCgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAgICAgICBjb250cm9sID0geDtcbiAgICAgICAgICAgIH0gLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddIGZvdW5kIHdoZW4gdXBncmFkaW5nIEZsb3dcblxuXG4gICAgICAgICAgICBmbi5jYWxsKEZha2UucHJvdG90eXBlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAgICAgY29udHJvbCA9IHg7XG4gICAgICAgICAgfSAvLyBUT0RPKGx1bmEpOiBUaGlzIHdpbGwgY3VycmVudGx5IG9ubHkgdGhyb3cgaWYgdGhlIGZ1bmN0aW9uIGNvbXBvbmVudFxuICAgICAgICAgIC8vIHRyaWVzIHRvIGFjY2VzcyBSZWFjdC9SZWFjdERPTS9wcm9wcy4gV2Ugc2hvdWxkIHByb2JhYmx5IG1ha2UgdGhpcyB0aHJvd1xuICAgICAgICAgIC8vIGluIHNpbXBsZSBjb21wb25lbnRzIHRvb1xuXG5cbiAgICAgICAgICB2YXIgbWF5YmVQcm9taXNlID0gZm4oKTsgLy8gSWYgdGhlIGZ1bmN0aW9uIGNvbXBvbmVudCByZXR1cm5zIGEgcHJvbWlzZSwgaXQncyBsaWtlbHkgYW4gYXN5bmNcbiAgICAgICAgICAvLyBjb21wb25lbnQsIHdoaWNoIHdlIGRvbid0IHlldCBzdXBwb3J0LiBBdHRhY2ggYSBub29wIGNhdGNoIGhhbmRsZXIgdG9cbiAgICAgICAgICAvLyBzaWxlbmNlIHRoZSBlcnJvci5cbiAgICAgICAgICAvLyBUT0RPOiBJbXBsZW1lbnQgY29tcG9uZW50IHN0YWNrcyBmb3IgYXN5bmMgY2xpZW50IGNvbXBvbmVudHM/XG5cbiAgICAgICAgICBpZiAobWF5YmVQcm9taXNlICYmIHR5cGVvZiBtYXliZVByb21pc2UuY2F0Y2ggPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIG1heWJlUHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChzYW1wbGUpIHtcbiAgICAgICAgLy8gVGhpcyBpcyBpbmxpbmVkIG1hbnVhbGx5IGJlY2F1c2UgY2xvc3VyZSBkb2Vzbid0IGRvIGl0IGZvciB1cy5cbiAgICAgICAgaWYgKHNhbXBsZSAmJiBjb250cm9sICYmIHR5cGVvZiBzYW1wbGUuc3RhY2sgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgcmV0dXJuIFtzYW1wbGUuc3RhY2ssIGNvbnRyb2wuc3RhY2tdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBbbnVsbCwgbnVsbF07XG4gICAgfVxuICB9OyAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ11cblxuICBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QuZGlzcGxheU5hbWUgPSAnRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290JztcbiAgdmFyIG5hbWVQcm9wRGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUnVuSW5Sb290RnJhbWUuRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290LCAnbmFtZScpOyAvLyBCZWZvcmUgRVM2LCB0aGUgYG5hbWVgIHByb3BlcnR5IHdhcyBub3QgY29uZmlndXJhYmxlLlxuXG4gIGlmIChuYW1lUHJvcERlc2NyaXB0b3IgJiYgbmFtZVByb3BEZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSkge1xuICAgIC8vIFY4IHV0aWxpemVzIGEgZnVuY3Rpb24ncyBgbmFtZWAgcHJvcGVydHkgd2hlbiBnZW5lcmF0aW5nIGEgc3RhY2sgdHJhY2UuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJ1bkluUm9vdEZyYW1lLkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCwgLy8gQ29uZmlndXJhYmxlIHByb3BlcnRpZXMgY2FuIGJlIHVwZGF0ZWQgZXZlbiBpZiBpdHMgd3JpdGFibGUgZGVzY3JpcHRvclxuICAgIC8vIGlzIHNldCB0byBgZmFsc2VgLlxuICAgIC8vICRGbG93Rml4TWVbY2Fubm90LXdyaXRlXVxuICAgICduYW1lJywge1xuICAgICAgdmFsdWU6ICdEZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QnXG4gICAgfSk7XG4gIH1cblxuICB0cnkge1xuICAgIHZhciBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgPSBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QoKSxcbiAgICAgICAgc2FtcGxlU3RhY2sgPSBfUnVuSW5Sb290RnJhbWUkRGV0ZXJbMF0sXG4gICAgICAgIGNvbnRyb2xTdGFjayA9IF9SdW5JblJvb3RGcmFtZSREZXRlclsxXTtcblxuICAgIGlmIChzYW1wbGVTdGFjayAmJiBjb250cm9sU3RhY2spIHtcbiAgICAgIC8vIFRoaXMgZXh0cmFjdHMgdGhlIGZpcnN0IGZyYW1lIGZyb20gdGhlIHNhbXBsZSB0aGF0IGlzbid0IGFsc28gaW4gdGhlIGNvbnRyb2wuXG4gICAgICAvLyBTa2lwcGluZyBvbmUgZnJhbWUgdGhhdCB3ZSBhc3N1bWUgaXMgdGhlIGZyYW1lIHRoYXQgY2FsbHMgdGhlIHR3by5cbiAgICAgIHZhciBzYW1wbGVMaW5lcyA9IHNhbXBsZVN0YWNrLnNwbGl0KCdcXG4nKTtcbiAgICAgIHZhciBjb250cm9sTGluZXMgPSBjb250cm9sU3RhY2suc3BsaXQoJ1xcbicpO1xuICAgICAgdmFyIHMgPSAwO1xuICAgICAgdmFyIGMgPSAwO1xuXG4gICAgICB3aGlsZSAocyA8IHNhbXBsZUxpbmVzLmxlbmd0aCAmJiAhc2FtcGxlTGluZXNbc10uaW5jbHVkZXMoJ0RldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCcpKSB7XG4gICAgICAgIHMrKztcbiAgICAgIH1cblxuICAgICAgd2hpbGUgKGMgPCBjb250cm9sTGluZXMubGVuZ3RoICYmICFjb250cm9sTGluZXNbY10uaW5jbHVkZXMoJ0RldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCcpKSB7XG4gICAgICAgIGMrKztcbiAgICAgIH0gLy8gV2UgY291bGRuJ3QgZmluZCBvdXIgaW50ZW50aW9uYWxseSBpbmplY3RlZCBjb21tb24gcm9vdCBmcmFtZSwgYXR0ZW1wdFxuICAgICAgLy8gdG8gZmluZCBhbm90aGVyIGNvbW1vbiByb290IGZyYW1lIGJ5IHNlYXJjaCBmcm9tIHRoZSBib3R0b20gb2YgdGhlXG4gICAgICAvLyBjb250cm9sIHN0YWNrLi4uXG5cblxuICAgICAgaWYgKHMgPT09IHNhbXBsZUxpbmVzLmxlbmd0aCB8fCBjID09PSBjb250cm9sTGluZXMubGVuZ3RoKSB7XG4gICAgICAgIHMgPSBzYW1wbGVMaW5lcy5sZW5ndGggLSAxO1xuICAgICAgICBjID0gY29udHJvbExpbmVzLmxlbmd0aCAtIDE7XG5cbiAgICAgICAgd2hpbGUgKHMgPj0gMSAmJiBjID49IDAgJiYgc2FtcGxlTGluZXNbc10gIT09IGNvbnRyb2xMaW5lc1tjXSkge1xuICAgICAgICAgIC8vIFdlIGV4cGVjdCBhdCBsZWFzdCBvbmUgc3RhY2sgZnJhbWUgdG8gYmUgc2hhcmVkLlxuICAgICAgICAgIC8vIFR5cGljYWxseSB0aGlzIHdpbGwgYmUgdGhlIHJvb3QgbW9zdCBvbmUuIEhvd2V2ZXIsIHN0YWNrIGZyYW1lcyBtYXkgYmVcbiAgICAgICAgICAvLyBjdXQgb2ZmIGR1ZSB0byBtYXhpbXVtIHN0YWNrIGxpbWl0cy4gSW4gdGhpcyBjYXNlLCBvbmUgbWF5YmUgY3V0IG9mZlxuICAgICAgICAgIC8vIGVhcmxpZXIgdGhhbiB0aGUgb3RoZXIuIFdlIGFzc3VtZSB0aGF0IHRoZSBzYW1wbGUgaXMgbG9uZ2VyIG9yIHRoZSBzYW1lXG4gICAgICAgICAgLy8gYW5kIHRoZXJlIGZvciBjdXQgb2ZmIGVhcmxpZXIuIFNvIHdlIHNob3VsZCBmaW5kIHRoZSByb290IG1vc3QgZnJhbWUgaW5cbiAgICAgICAgICAvLyB0aGUgc2FtcGxlIHNvbWV3aGVyZSBpbiB0aGUgY29udHJvbC5cbiAgICAgICAgICBjLS07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yICg7IHMgPj0gMSAmJiBjID49IDA7IHMtLSwgYy0tKSB7XG4gICAgICAgIC8vIE5leHQgd2UgZmluZCB0aGUgZmlyc3Qgb25lIHRoYXQgaXNuJ3QgdGhlIHNhbWUgd2hpY2ggc2hvdWxkIGJlIHRoZVxuICAgICAgICAvLyBmcmFtZSB0aGF0IGNhbGxlZCBvdXIgc2FtcGxlIGZ1bmN0aW9uIGFuZCB0aGUgY29udHJvbC5cbiAgICAgICAgaWYgKHNhbXBsZUxpbmVzW3NdICE9PSBjb250cm9sTGluZXNbY10pIHtcbiAgICAgICAgICAvLyBJbiBWOCwgdGhlIGZpcnN0IGxpbmUgaXMgZGVzY3JpYmluZyB0aGUgbWVzc2FnZSBidXQgb3RoZXIgVk1zIGRvbid0LlxuICAgICAgICAgIC8vIElmIHdlJ3JlIGFib3V0IHRvIHJldHVybiB0aGUgZmlyc3QgbGluZSwgYW5kIHRoZSBjb250cm9sIGlzIGFsc28gb24gdGhlIHNhbWVcbiAgICAgICAgICAvLyBsaW5lLCB0aGF0J3MgYSBwcmV0dHkgZ29vZCBpbmRpY2F0b3IgdGhhdCBvdXIgc2FtcGxlIHRocmV3IGF0IHNhbWUgbGluZSBhc1xuICAgICAgICAgIC8vIHRoZSBjb250cm9sLiBJLmUuIGJlZm9yZSB3ZSBlbnRlcmVkIHRoZSBzYW1wbGUgZnJhbWUuIFNvIHdlIGlnbm9yZSB0aGlzIHJlc3VsdC5cbiAgICAgICAgICAvLyBUaGlzIGNhbiBoYXBwZW4gaWYgeW91IHBhc3NlZCBhIGNsYXNzIHRvIGZ1bmN0aW9uIGNvbXBvbmVudCwgb3Igbm9uLWZ1bmN0aW9uLlxuICAgICAgICAgIGlmIChzICE9PSAxIHx8IGMgIT09IDEpIHtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgcy0tO1xuICAgICAgICAgICAgICBjLS07IC8vIFdlIG1heSBzdGlsbCBoYXZlIHNpbWlsYXIgaW50ZXJtZWRpYXRlIGZyYW1lcyBmcm9tIHRoZSBjb25zdHJ1Y3QgY2FsbC5cbiAgICAgICAgICAgICAgLy8gVGhlIG5leHQgb25lIHRoYXQgaXNuJ3QgdGhlIHNhbWUgc2hvdWxkIGJlIG91ciBtYXRjaCB0aG91Z2guXG5cbiAgICAgICAgICAgICAgaWYgKGMgPCAwIHx8IHNhbXBsZUxpbmVzW3NdICE9PSBjb250cm9sTGluZXNbY10pIHtcbiAgICAgICAgICAgICAgICAvLyBWOCBhZGRzIGEgXCJuZXdcIiBwcmVmaXggZm9yIG5hdGl2ZSBjbGFzc2VzLiBMZXQncyByZW1vdmUgaXQgdG8gbWFrZSBpdCBwcmV0dGllci5cbiAgICAgICAgICAgICAgICB2YXIgX2ZyYW1lID0gJ1xcbicgKyBzYW1wbGVMaW5lc1tzXS5yZXBsYWNlKCcgYXQgbmV3ICcsICcgYXQgJyk7IC8vIElmIG91ciBjb21wb25lbnQgZnJhbWUgaXMgbGFiZWxlZCBcIjxhbm9ueW1vdXM+XCJcbiAgICAgICAgICAgICAgICAvLyBidXQgd2UgaGF2ZSBhIHVzZXItcHJvdmlkZWQgXCJkaXNwbGF5TmFtZVwiXG4gICAgICAgICAgICAgICAgLy8gc3BsaWNlIGl0IGluIHRvIG1ha2UgdGhlIHN0YWNrIG1vcmUgcmVhZGFibGUuXG5cblxuICAgICAgICAgICAgICAgIGlmIChmbi5kaXNwbGF5TmFtZSAmJiBfZnJhbWUuaW5jbHVkZXMoJzxhbm9ueW1vdXM+JykpIHtcbiAgICAgICAgICAgICAgICAgIF9mcmFtZSA9IF9mcmFtZS5yZXBsYWNlKCc8YW5vbnltb3VzPicsIGZuLmRpc3BsYXlOYW1lKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRGcmFtZUNhY2hlLnNldChmbiwgX2ZyYW1lKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IC8vIFJldHVybiB0aGUgbGluZSB3ZSBmb3VuZC5cblxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9mcmFtZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSB3aGlsZSAocyA+PSAxICYmIGMgPj0gMCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZmluYWxseSB7XG4gICAgcmVlbnRyeSA9IGZhbHNlO1xuXG4gICAge1xuICAgICAgUmVhY3RDdXJyZW50RGlzcGF0Y2hlci5jdXJyZW50ID0gcHJldmlvdXNEaXNwYXRjaGVyO1xuICAgICAgcmVlbmFibGVMb2dzKCk7XG4gICAgfVxuXG4gICAgRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSBwcmV2aW91c1ByZXBhcmVTdGFja1RyYWNlO1xuICB9IC8vIEZhbGxiYWNrIHRvIGp1c3QgdXNpbmcgdGhlIG5hbWUgaWYgd2UgY291bGRuJ3QgbWFrZSBpdCB0aHJvdy5cblxuXG4gIHZhciBuYW1lID0gZm4gPyBmbi5kaXNwbGF5TmFtZSB8fCBmbi5uYW1lIDogJyc7XG4gIHZhciBzeW50aGV0aWNGcmFtZSA9IG5hbWUgPyBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShuYW1lKSA6ICcnO1xuXG4gIHtcbiAgICBpZiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjb21wb25lbnRGcmFtZUNhY2hlLnNldChmbiwgc3ludGhldGljRnJhbWUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzeW50aGV0aWNGcmFtZTtcbn1cbmZ1bmN0aW9uIGRlc2NyaWJlRnVuY3Rpb25Db21wb25lbnRGcmFtZShmbiwgb3duZXJGbikge1xuICB7XG4gICAgcmV0dXJuIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUoZm4sIGZhbHNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzaG91bGRDb25zdHJ1Y3QoQ29tcG9uZW50KSB7XG4gIHZhciBwcm90b3R5cGUgPSBDb21wb25lbnQucHJvdG90eXBlO1xuICByZXR1cm4gISEocHJvdG90eXBlICYmIHByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50KTtcbn1cblxuZnVuY3Rpb24gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKHR5cGUsIG93bmVyRm4pIHtcblxuICBpZiAodHlwZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAge1xuICAgICAgcmV0dXJuIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUodHlwZSwgc2hvdWxkQ29uc3RydWN0KHR5cGUpKTtcbiAgICB9XG4gIH1cblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKHR5cGUpO1xuICB9XG5cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxuICAgICAgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKCdTdXNwZW5zZScpO1xuXG4gICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU6XG4gICAgICByZXR1cm4gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUoJ1N1c3BlbnNlTGlzdCcpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0Jykge1xuICAgIHN3aXRjaCAodHlwZS4kJHR5cGVvZikge1xuICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICByZXR1cm4gZGVzY3JpYmVGdW5jdGlvbkNvbXBvbmVudEZyYW1lKHR5cGUucmVuZGVyKTtcblxuICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgIC8vIE1lbW8gbWF5IGNvbnRhaW4gYW55IGNvbXBvbmVudCB0eXBlIHNvIHdlIHJlY3Vyc2l2ZWx5IHJlc29sdmUgaXQuXG4gICAgICAgIHJldHVybiBkZXNjcmliZVVua25vd25FbGVtZW50VHlwZUZyYW1lSW5ERVYodHlwZS50eXBlLCBvd25lckZuKTtcblxuICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgbGF6eUNvbXBvbmVudCA9IHR5cGU7XG4gICAgICAgICAgdmFyIHBheWxvYWQgPSBsYXp5Q29tcG9uZW50Ll9wYXlsb2FkO1xuICAgICAgICAgIHZhciBpbml0ID0gbGF6eUNvbXBvbmVudC5faW5pdDtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBMYXp5IG1heSBjb250YWluIGFueSBjb21wb25lbnQgdHlwZSBzbyB3ZSByZWN1cnNpdmVseSByZXNvbHZlIGl0LlxuICAgICAgICAgICAgcmV0dXJuIGRlc2NyaWJlVW5rbm93bkVsZW1lbnRUeXBlRnJhbWVJbkRFVihpbml0KHBheWxvYWQpLCBvd25lckZuKTtcbiAgICAgICAgICB9IGNhdGNoICh4KSB7fVxuICAgICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuICcnO1xufVxuXG52YXIgUmVhY3RDdXJyZW50T3duZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdEN1cnJlbnRPd25lcjtcbnZhciBSZWFjdERlYnVnQ3VycmVudEZyYW1lID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZTtcbnZhciBSRUFDVF9DTElFTlRfUkVGRVJFTkNFID0gU3ltYm9sLmZvcigncmVhY3QuY2xpZW50LnJlZmVyZW5jZScpO1xudmFyIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duO1xudmFyIHNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duO1xudmFyIGRpZFdhcm5BYm91dFN0cmluZ1JlZnM7XG5cbntcbiAgZGlkV2FybkFib3V0U3RyaW5nUmVmcyA9IHt9O1xufVxuXG5mdW5jdGlvbiBoYXNWYWxpZFJlZihjb25maWcpIHtcbiAge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgJ3JlZicpKSB7XG4gICAgICB2YXIgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsICdyZWYnKS5nZXQ7XG5cbiAgICAgIGlmIChnZXR0ZXIgJiYgZ2V0dGVyLmlzUmVhY3RXYXJuaW5nKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29uZmlnLnJlZiAhPT0gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBoYXNWYWxpZEtleShjb25maWcpIHtcbiAge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgJ2tleScpKSB7XG4gICAgICB2YXIgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsICdrZXknKS5nZXQ7XG5cbiAgICAgIGlmIChnZXR0ZXIgJiYgZ2V0dGVyLmlzUmVhY3RXYXJuaW5nKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29uZmlnLmtleSAhPT0gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiB3YXJuSWZTdHJpbmdSZWZDYW5ub3RCZUF1dG9Db252ZXJ0ZWQoY29uZmlnLCBzZWxmKSB7XG4gIHtcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5yZWYgPT09ICdzdHJpbmcnICYmIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgJiYgc2VsZiAmJiBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LnN0YXRlTm9kZSAhPT0gc2VsZikge1xuICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudC50eXBlKTtcblxuICAgICAgaWYgKCFkaWRXYXJuQWJvdXRTdHJpbmdSZWZzW2NvbXBvbmVudE5hbWVdKSB7XG4gICAgICAgIGVycm9yKCdDb21wb25lbnQgXCIlc1wiIGNvbnRhaW5zIHRoZSBzdHJpbmcgcmVmIFwiJXNcIi4gJyArICdTdXBwb3J0IGZvciBzdHJpbmcgcmVmcyB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgbWFqb3IgcmVsZWFzZS4gJyArICdUaGlzIGNhc2UgY2Fubm90IGJlIGF1dG9tYXRpY2FsbHkgY29udmVydGVkIHRvIGFuIGFycm93IGZ1bmN0aW9uLiAnICsgJ1dlIGFzayB5b3UgdG8gbWFudWFsbHkgZml4IHRoaXMgY2FzZSBieSB1c2luZyB1c2VSZWYoKSBvciBjcmVhdGVSZWYoKSBpbnN0ZWFkLiAnICsgJ0xlYXJuIG1vcmUgYWJvdXQgdXNpbmcgcmVmcyBzYWZlbHkgaGVyZTogJyArICdodHRwczovL3JlYWN0anMub3JnL2xpbmsvc3RyaWN0LW1vZGUtc3RyaW5nLXJlZicsIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LnR5cGUpLCBjb25maWcucmVmKTtcblxuICAgICAgICBkaWRXYXJuQWJvdXRTdHJpbmdSZWZzW2NvbXBvbmVudE5hbWVdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKSB7XG4gIHtcbiAgICB2YXIgd2FybkFib3V0QWNjZXNzaW5nS2V5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93bikge1xuICAgICAgICBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biA9IHRydWU7XG5cbiAgICAgICAgZXJyb3IoJyVzOiBga2V5YCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0ICcgKyAnaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSAnICsgJ3ZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgJyArICdwcm9wLiAoaHR0cHM6Ly9yZWFjdGpzLm9yZy9saW5rL3NwZWNpYWwtcHJvcHMpJywgZGlzcGxheU5hbWUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkuaXNSZWFjdFdhcm5pbmcgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wcywgJ2tleScsIHtcbiAgICAgIGdldDogd2FybkFib3V0QWNjZXNzaW5nS2V5LFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVmaW5lUmVmUHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKSB7XG4gIHtcbiAgICB7XG4gICAgICB2YXIgd2FybkFib3V0QWNjZXNzaW5nUmVmID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duKSB7XG4gICAgICAgICAgc3BlY2lhbFByb3BSZWZXYXJuaW5nU2hvd24gPSB0cnVlO1xuXG4gICAgICAgICAgZXJyb3IoJyVzOiBgcmVmYCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0ICcgKyAnaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSAnICsgJ3ZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgJyArICdwcm9wLiAoaHR0cHM6Ly9yZWFjdGpzLm9yZy9saW5rL3NwZWNpYWwtcHJvcHMpJywgZGlzcGxheU5hbWUpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB3YXJuQWJvdXRBY2Nlc3NpbmdSZWYuaXNSZWFjdFdhcm5pbmcgPSB0cnVlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BzLCAncmVmJywge1xuICAgICAgICBnZXQ6IHdhcm5BYm91dEFjY2Vzc2luZ1JlZixcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cbi8qKlxuICogRmFjdG9yeSBtZXRob2QgdG8gY3JlYXRlIGEgbmV3IFJlYWN0IGVsZW1lbnQuIFRoaXMgbm8gbG9uZ2VyIGFkaGVyZXMgdG9cbiAqIHRoZSBjbGFzcyBwYXR0ZXJuLCBzbyBkbyBub3QgdXNlIG5ldyB0byBjYWxsIGl0LiBBbHNvLCBpbnN0YW5jZW9mIGNoZWNrXG4gKiB3aWxsIG5vdCB3b3JrLiBJbnN0ZWFkIHRlc3QgJCR0eXBlb2YgZmllbGQgYWdhaW5zdCBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JykgdG8gY2hlY2tcbiAqIGlmIHNvbWV0aGluZyBpcyBhIFJlYWN0IEVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHsqfSB0eXBlXG4gKiBAcGFyYW0geyp9IHByb3BzXG4gKiBAcGFyYW0geyp9IGtleVxuICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSByZWZcbiAqIEBwYXJhbSB7Kn0gb3duZXJcbiAqIEBwYXJhbSB7Kn0gc2VsZiBBICp0ZW1wb3JhcnkqIGhlbHBlciB0byBkZXRlY3QgcGxhY2VzIHdoZXJlIGB0aGlzYCBpc1xuICogZGlmZmVyZW50IGZyb20gdGhlIGBvd25lcmAgd2hlbiBSZWFjdC5jcmVhdGVFbGVtZW50IGlzIGNhbGxlZCwgc28gdGhhdCB3ZVxuICogY2FuIHdhcm4uIFdlIHdhbnQgdG8gZ2V0IHJpZCBvZiBvd25lciBhbmQgcmVwbGFjZSBzdHJpbmcgYHJlZmBzIHdpdGggYXJyb3dcbiAqIGZ1bmN0aW9ucywgYW5kIGFzIGxvbmcgYXMgYHRoaXNgIGFuZCBvd25lciBhcmUgdGhlIHNhbWUsIHRoZXJlIHdpbGwgYmUgbm9cbiAqIGNoYW5nZSBpbiBiZWhhdmlvci5cbiAqIEBwYXJhbSB7Kn0gc291cmNlIEFuIGFubm90YXRpb24gb2JqZWN0IChhZGRlZCBieSBhIHRyYW5zcGlsZXIgb3Igb3RoZXJ3aXNlKVxuICogaW5kaWNhdGluZyBmaWxlbmFtZSwgbGluZSBudW1iZXIsIGFuZC9vciBvdGhlciBpbmZvcm1hdGlvbi5cbiAqIEBpbnRlcm5hbFxuICovXG5cblxuZnVuY3Rpb24gUmVhY3RFbGVtZW50KHR5cGUsIGtleSwgX3JlZiwgc2VsZiwgc291cmNlLCBvd25lciwgcHJvcHMpIHtcbiAgdmFyIHJlZjtcblxuICB7XG4gICAgcmVmID0gX3JlZjtcbiAgfVxuXG4gIHZhciBlbGVtZW50O1xuXG4gIHtcbiAgICAvLyBJbiBwcm9kLCBgcmVmYCBpcyBhIHJlZ3VsYXIgcHJvcGVydHkuIEl0IHdpbGwgYmUgcmVtb3ZlZCBpbiBhXG4gICAgLy8gZnV0dXJlIHJlbGVhc2UuXG4gICAgZWxlbWVudCA9IHtcbiAgICAgIC8vIFRoaXMgdGFnIGFsbG93cyB1cyB0byB1bmlxdWVseSBpZGVudGlmeSB0aGlzIGFzIGEgUmVhY3QgRWxlbWVudFxuICAgICAgJCR0eXBlb2Y6IFJFQUNUX0VMRU1FTlRfVFlQRSxcbiAgICAgIC8vIEJ1aWx0LWluIHByb3BlcnRpZXMgdGhhdCBiZWxvbmcgb24gdGhlIGVsZW1lbnRcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICBrZXk6IGtleSxcbiAgICAgIHJlZjogcmVmLFxuICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgLy8gUmVjb3JkIHRoZSBjb21wb25lbnQgcmVzcG9uc2libGUgZm9yIGNyZWF0aW5nIHRoaXMgZWxlbWVudC5cbiAgICAgIF9vd25lcjogb3duZXJcbiAgICB9O1xuICB9XG5cbiAge1xuICAgIC8vIFRoZSB2YWxpZGF0aW9uIGZsYWcgaXMgY3VycmVudGx5IG11dGF0aXZlLiBXZSBwdXQgaXQgb25cbiAgICAvLyBhbiBleHRlcm5hbCBiYWNraW5nIHN0b3JlIHNvIHRoYXQgd2UgY2FuIGZyZWV6ZSB0aGUgd2hvbGUgb2JqZWN0LlxuICAgIC8vIFRoaXMgY2FuIGJlIHJlcGxhY2VkIHdpdGggYSBXZWFrTWFwIG9uY2UgdGhleSBhcmUgaW1wbGVtZW50ZWQgaW5cbiAgICAvLyBjb21tb25seSB1c2VkIGRldmVsb3BtZW50IGVudmlyb25tZW50cy5cbiAgICBlbGVtZW50Ll9zdG9yZSA9IHt9OyAvLyBUbyBtYWtlIGNvbXBhcmluZyBSZWFjdEVsZW1lbnRzIGVhc2llciBmb3IgdGVzdGluZyBwdXJwb3Nlcywgd2UgbWFrZVxuICAgIC8vIHRoZSB2YWxpZGF0aW9uIGZsYWcgbm9uLWVudW1lcmFibGUgKHdoZXJlIHBvc3NpYmxlLCB3aGljaCBzaG91bGRcbiAgICAvLyBpbmNsdWRlIGV2ZXJ5IGVudmlyb25tZW50IHdlIHJ1biB0ZXN0cyBpbiksIHNvIHRoZSB0ZXN0IGZyYW1ld29ya1xuICAgIC8vIGlnbm9yZXMgaXQuXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxlbWVudC5fc3RvcmUsICd2YWxpZGF0ZWQnLCB7XG4gICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBmYWxzZVxuICAgIH0pOyAvLyBkZWJ1Z0luZm8gY29udGFpbnMgU2VydmVyIENvbXBvbmVudCBkZWJ1ZyBpbmZvcm1hdGlvbi5cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50LCAnX2RlYnVnSW5mbycsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IG51bGxcbiAgICB9KTtcblxuICAgIGlmIChPYmplY3QuZnJlZXplKSB7XG4gICAgICBPYmplY3QuZnJlZXplKGVsZW1lbnQucHJvcHMpO1xuICAgICAgT2JqZWN0LmZyZWV6ZShlbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZWxlbWVudDtcbn1cbnZhciBkaWRXYXJuQWJvdXRLZXlTcHJlYWQgPSB7fTtcbi8qKlxuICogaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0anMvcmZjcy9wdWxsLzEwN1xuICogQHBhcmFtIHsqfSB0eXBlXG4gKiBAcGFyYW0ge29iamVjdH0gcHJvcHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAqL1xuXG5mdW5jdGlvbiBqc3hERVYkMSh0eXBlLCBjb25maWcsIG1heWJlS2V5LCBpc1N0YXRpY0NoaWxkcmVuLCBzb3VyY2UsIHNlbGYpIHtcbiAge1xuICAgIGlmICghaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpKSB7XG4gICAgICAvLyBUaGlzIGlzIGFuIGludmFsaWQgZWxlbWVudCB0eXBlLlxuICAgICAgLy9cbiAgICAgIC8vIFdlIHdhcm4gaW4gdGhpcyBjYXNlIGJ1dCBkb24ndCB0aHJvdy4gV2UgZXhwZWN0IHRoZSBlbGVtZW50IGNyZWF0aW9uIHRvXG4gICAgICAvLyBzdWNjZWVkIGFuZCB0aGVyZSB3aWxsIGxpa2VseSBiZSBlcnJvcnMgaW4gcmVuZGVyLlxuICAgICAgdmFyIGluZm8gPSAnJztcblxuICAgICAgaWYgKHR5cGUgPT09IHVuZGVmaW5lZCB8fCB0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgdHlwZSAhPT0gbnVsbCAmJiBPYmplY3Qua2V5cyh0eXBlKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgaW5mbyArPSAnIFlvdSBsaWtlbHkgZm9yZ290IHRvIGV4cG9ydCB5b3VyIGNvbXBvbmVudCBmcm9tIHRoZSBmaWxlICcgKyBcIml0J3MgZGVmaW5lZCBpbiwgb3IgeW91IG1pZ2h0IGhhdmUgbWl4ZWQgdXAgZGVmYXVsdCBhbmQgbmFtZWQgaW1wb3J0cy5cIjtcbiAgICAgIH1cblxuICAgICAgdmFyIHR5cGVTdHJpbmc7XG5cbiAgICAgIGlmICh0eXBlID09PSBudWxsKSB7XG4gICAgICAgIHR5cGVTdHJpbmcgPSAnbnVsbCc7XG4gICAgICB9IGVsc2UgaWYgKGlzQXJyYXkodHlwZSkpIHtcbiAgICAgICAgdHlwZVN0cmluZyA9ICdhcnJheSc7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgIT09IHVuZGVmaW5lZCAmJiB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEUpIHtcbiAgICAgICAgdHlwZVN0cmluZyA9IFwiPFwiICsgKGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8ICdVbmtub3duJykgKyBcIiAvPlwiO1xuICAgICAgICBpbmZvID0gJyBEaWQgeW91IGFjY2lkZW50YWxseSBleHBvcnQgYSBKU1ggbGl0ZXJhbCBpbnN0ZWFkIG9mIGEgY29tcG9uZW50Pyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0eXBlU3RyaW5nID0gdHlwZW9mIHR5cGU7XG4gICAgICB9XG5cbiAgICAgIGVycm9yKCdSZWFjdC5qc3g6IHR5cGUgaXMgaW52YWxpZCAtLSBleHBlY3RlZCBhIHN0cmluZyAoZm9yICcgKyAnYnVpbHQtaW4gY29tcG9uZW50cykgb3IgYSBjbGFzcy9mdW5jdGlvbiAoZm9yIGNvbXBvc2l0ZSAnICsgJ2NvbXBvbmVudHMpIGJ1dCBnb3Q6ICVzLiVzJywgdHlwZVN0cmluZywgaW5mbyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoaXMgaXMgYSB2YWxpZCBlbGVtZW50IHR5cGUuXG4gICAgICAvLyBTa2lwIGtleSB3YXJuaW5nIGlmIHRoZSB0eXBlIGlzbid0IHZhbGlkIHNpbmNlIG91ciBrZXkgdmFsaWRhdGlvbiBsb2dpY1xuICAgICAgLy8gZG9lc24ndCBleHBlY3QgYSBub24tc3RyaW5nL2Z1bmN0aW9uIHR5cGUgYW5kIGNhbiB0aHJvdyBjb25mdXNpbmdcbiAgICAgIC8vIGVycm9ycy4gV2UgZG9uJ3Qgd2FudCBleGNlcHRpb24gYmVoYXZpb3IgdG8gZGlmZmVyIGJldHdlZW4gZGV2IGFuZFxuICAgICAgLy8gcHJvZC4gKFJlbmRlcmluZyB3aWxsIHRocm93IHdpdGggYSBoZWxwZnVsIG1lc3NhZ2UgYW5kIGFzIHNvb24gYXMgdGhlXG4gICAgICAvLyB0eXBlIGlzIGZpeGVkLCB0aGUga2V5IHdhcm5pbmdzIHdpbGwgYXBwZWFyLilcbiAgICAgIHZhciBjaGlsZHJlbiA9IGNvbmZpZy5jaGlsZHJlbjtcblxuICAgICAgaWYgKGNoaWxkcmVuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGlzU3RhdGljQ2hpbGRyZW4pIHtcbiAgICAgICAgICBpZiAoaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgdmFsaWRhdGVDaGlsZEtleXMoY2hpbGRyZW5baV0sIHR5cGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoT2JqZWN0LmZyZWV6ZSkge1xuICAgICAgICAgICAgICBPYmplY3QuZnJlZXplKGNoaWxkcmVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXJyb3IoJ1JlYWN0LmpzeDogU3RhdGljIGNoaWxkcmVuIHNob3VsZCBhbHdheXMgYmUgYW4gYXJyYXkuICcgKyAnWW91IGFyZSBsaWtlbHkgZXhwbGljaXRseSBjYWxsaW5nIFJlYWN0LmpzeHMgb3IgUmVhY3QuanN4REVWLiAnICsgJ1VzZSB0aGUgQmFiZWwgdHJhbnNmb3JtIGluc3RlYWQuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbGlkYXRlQ2hpbGRLZXlzKGNoaWxkcmVuLCB0eXBlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gV2FybiBhYm91dCBrZXkgc3ByZWFkIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGUgdHlwZSBpcyB2YWxpZC5cblxuXG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCAna2V5JykpIHtcbiAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpO1xuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhjb25maWcpLmZpbHRlcihmdW5jdGlvbiAoaykge1xuICAgICAgICByZXR1cm4gayAhPT0gJ2tleSc7XG4gICAgICB9KTtcbiAgICAgIHZhciBiZWZvcmVFeGFtcGxlID0ga2V5cy5sZW5ndGggPiAwID8gJ3trZXk6IHNvbWVLZXksICcgKyBrZXlzLmpvaW4oJzogLi4uLCAnKSArICc6IC4uLn0nIDogJ3trZXk6IHNvbWVLZXl9JztcblxuICAgICAgaWYgKCFkaWRXYXJuQWJvdXRLZXlTcHJlYWRbY29tcG9uZW50TmFtZSArIGJlZm9yZUV4YW1wbGVdKSB7XG4gICAgICAgIHZhciBhZnRlckV4YW1wbGUgPSBrZXlzLmxlbmd0aCA+IDAgPyAneycgKyBrZXlzLmpvaW4oJzogLi4uLCAnKSArICc6IC4uLn0nIDogJ3t9JztcblxuICAgICAgICBlcnJvcignQSBwcm9wcyBvYmplY3QgY29udGFpbmluZyBhIFwia2V5XCIgcHJvcCBpcyBiZWluZyBzcHJlYWQgaW50byBKU1g6XFxuJyArICcgIGxldCBwcm9wcyA9ICVzO1xcbicgKyAnICA8JXMgey4uLnByb3BzfSAvPlxcbicgKyAnUmVhY3Qga2V5cyBtdXN0IGJlIHBhc3NlZCBkaXJlY3RseSB0byBKU1ggd2l0aG91dCB1c2luZyBzcHJlYWQ6XFxuJyArICcgIGxldCBwcm9wcyA9ICVzO1xcbicgKyAnICA8JXMga2V5PXtzb21lS2V5fSB7Li4ucHJvcHN9IC8+JywgYmVmb3JlRXhhbXBsZSwgY29tcG9uZW50TmFtZSwgYWZ0ZXJFeGFtcGxlLCBjb21wb25lbnROYW1lKTtcblxuICAgICAgICBkaWRXYXJuQWJvdXRLZXlTcHJlYWRbY29tcG9uZW50TmFtZSArIGJlZm9yZUV4YW1wbGVdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcHJvcE5hbWU7IC8vIFJlc2VydmVkIG5hbWVzIGFyZSBleHRyYWN0ZWRcblxuICAgIHZhciBwcm9wcyA9IHt9O1xuICAgIHZhciBrZXkgPSBudWxsO1xuICAgIHZhciByZWYgPSBudWxsOyAvLyBDdXJyZW50bHksIGtleSBjYW4gYmUgc3ByZWFkIGluIGFzIGEgcHJvcC4gVGhpcyBjYXVzZXMgYSBwb3RlbnRpYWxcbiAgICAvLyBpc3N1ZSBpZiBrZXkgaXMgYWxzbyBleHBsaWNpdGx5IGRlY2xhcmVkIChpZS4gPGRpdiB7Li4ucHJvcHN9IGtleT1cIkhpXCIgLz5cbiAgICAvLyBvciA8ZGl2IGtleT1cIkhpXCIgey4uLnByb3BzfSAvPiApLiBXZSB3YW50IHRvIGRlcHJlY2F0ZSBrZXkgc3ByZWFkLFxuICAgIC8vIGJ1dCBhcyBhbiBpbnRlcm1lZGlhcnkgc3RlcCwgd2Ugd2lsbCB1c2UganN4REVWIGZvciBldmVyeXRoaW5nIGV4Y2VwdFxuICAgIC8vIDxkaXYgey4uLnByb3BzfSBrZXk9XCJIaVwiIC8+LCBiZWNhdXNlIHdlIGFyZW4ndCBjdXJyZW50bHkgYWJsZSB0byB0ZWxsIGlmXG4gICAgLy8ga2V5IGlzIGV4cGxpY2l0bHkgZGVjbGFyZWQgdG8gYmUgdW5kZWZpbmVkIG9yIG5vdC5cblxuICAgIGlmIChtYXliZUtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB7XG4gICAgICAgIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24obWF5YmVLZXkpO1xuICAgICAgfVxuXG4gICAgICBrZXkgPSAnJyArIG1heWJlS2V5O1xuICAgIH1cblxuICAgIGlmIChoYXNWYWxpZEtleShjb25maWcpKSB7XG4gICAgICB7XG4gICAgICAgIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24oY29uZmlnLmtleSk7XG4gICAgICB9XG5cbiAgICAgIGtleSA9ICcnICsgY29uZmlnLmtleTtcbiAgICB9XG5cbiAgICBpZiAoaGFzVmFsaWRSZWYoY29uZmlnKSkge1xuICAgICAge1xuICAgICAgICByZWYgPSBjb25maWcucmVmO1xuICAgICAgfVxuXG4gICAgICB3YXJuSWZTdHJpbmdSZWZDYW5ub3RCZUF1dG9Db252ZXJ0ZWQoY29uZmlnLCBzZWxmKTtcbiAgICB9IC8vIFJlbWFpbmluZyBwcm9wZXJ0aWVzIGFyZSBhZGRlZCB0byBhIG5ldyBwcm9wcyBvYmplY3RcblxuXG4gICAgZm9yIChwcm9wTmFtZSBpbiBjb25maWcpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgcHJvcE5hbWUpICYmIC8vIFNraXAgb3ZlciByZXNlcnZlZCBwcm9wIG5hbWVzXG4gICAgICBwcm9wTmFtZSAhPT0gJ2tleScgJiYgKHByb3BOYW1lICE9PSAncmVmJykpIHtcbiAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXTtcbiAgICAgIH1cbiAgICB9IC8vIFJlc29sdmUgZGVmYXVsdCBwcm9wc1xuXG5cbiAgICBpZiAodHlwZSAmJiB0eXBlLmRlZmF1bHRQcm9wcykge1xuICAgICAgdmFyIGRlZmF1bHRQcm9wcyA9IHR5cGUuZGVmYXVsdFByb3BzO1xuXG4gICAgICBmb3IgKHByb3BOYW1lIGluIGRlZmF1bHRQcm9wcykge1xuICAgICAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBwcm9wc1twcm9wTmFtZV0gPSBkZWZhdWx0UHJvcHNbcHJvcE5hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGtleSB8fCByZWYpIHtcbiAgICAgIHZhciBkaXNwbGF5TmFtZSA9IHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nID8gdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgJ1Vua25vd24nIDogdHlwZTtcblxuICAgICAgaWYgKGtleSkge1xuICAgICAgICBkZWZpbmVLZXlQcm9wV2FybmluZ0dldHRlcihwcm9wcywgZGlzcGxheU5hbWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVmKSB7XG4gICAgICAgIGRlZmluZVJlZlByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGVsZW1lbnQgPSBSZWFjdEVsZW1lbnQodHlwZSwga2V5LCByZWYsIHNlbGYsIHNvdXJjZSwgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCwgcHJvcHMpO1xuXG4gICAgaWYgKHR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUpIHtcbiAgICAgIHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhlbGVtZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oKSB7XG4gIHtcbiAgICBpZiAoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCkge1xuICAgICAgdmFyIG5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudC50eXBlKTtcblxuICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuICdcXG5cXG5DaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiBgJyArIG5hbWUgKyAnYC4nO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAnJztcbiAgfVxufVxuLyoqXG4gKiBFbnN1cmUgdGhhdCBldmVyeSBlbGVtZW50IGVpdGhlciBpcyBwYXNzZWQgaW4gYSBzdGF0aWMgbG9jYXRpb24sIGluIGFuXG4gKiBhcnJheSB3aXRoIGFuIGV4cGxpY2l0IGtleXMgcHJvcGVydHkgZGVmaW5lZCwgb3IgaW4gYW4gb2JqZWN0IGxpdGVyYWxcbiAqIHdpdGggdmFsaWQga2V5IHByb3BlcnR5LlxuICpcbiAqIEBpbnRlcm5hbFxuICogQHBhcmFtIHtSZWFjdE5vZGV9IG5vZGUgU3RhdGljYWxseSBwYXNzZWQgY2hpbGQgb2YgYW55IHR5cGUuXG4gKiBAcGFyYW0geyp9IHBhcmVudFR5cGUgbm9kZSdzIHBhcmVudCdzIHR5cGUuXG4gKi9cblxuXG5mdW5jdGlvbiB2YWxpZGF0ZUNoaWxkS2V5cyhub2RlLCBwYXJlbnRUeXBlKSB7XG4gIHtcbiAgICBpZiAodHlwZW9mIG5vZGUgIT09ICdvYmplY3QnIHx8ICFub2RlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG5vZGUuJCR0eXBlb2YgPT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UpIDsgZWxzZSBpZiAoaXNBcnJheShub2RlKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjaGlsZCA9IG5vZGVbaV07XG5cbiAgICAgICAgaWYgKGlzVmFsaWRFbGVtZW50KGNoaWxkKSkge1xuICAgICAgICAgIHZhbGlkYXRlRXhwbGljaXRLZXkoY2hpbGQsIHBhcmVudFR5cGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc1ZhbGlkRWxlbWVudChub2RlKSkge1xuICAgICAgLy8gVGhpcyBlbGVtZW50IHdhcyBwYXNzZWQgaW4gYSB2YWxpZCBsb2NhdGlvbi5cbiAgICAgIGlmIChub2RlLl9zdG9yZSkge1xuICAgICAgICBub2RlLl9zdG9yZS52YWxpZGF0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4obm9kZSk7XG5cbiAgICAgIGlmICh0eXBlb2YgaXRlcmF0b3JGbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBFbnRyeSBpdGVyYXRvcnMgdXNlZCB0byBwcm92aWRlIGltcGxpY2l0IGtleXMsXG4gICAgICAgIC8vIGJ1dCBub3cgd2UgcHJpbnQgYSBzZXBhcmF0ZSB3YXJuaW5nIGZvciB0aGVtIGxhdGVyLlxuICAgICAgICBpZiAoaXRlcmF0b3JGbiAhPT0gbm9kZS5lbnRyaWVzKSB7XG4gICAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKG5vZGUpO1xuICAgICAgICAgIHZhciBzdGVwO1xuXG4gICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgICAgaWYgKGlzVmFsaWRFbGVtZW50KHN0ZXAudmFsdWUpKSB7XG4gICAgICAgICAgICAgIHZhbGlkYXRlRXhwbGljaXRLZXkoc3RlcC52YWx1ZSwgcGFyZW50VHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4vKipcbiAqIFZlcmlmaWVzIHRoZSBvYmplY3QgaXMgYSBSZWFjdEVsZW1lbnQuXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL3JlYWN0LWFwaS5odG1sI2lzdmFsaWRlbGVtZW50XG4gKiBAcGFyYW0gez9vYmplY3R9IG9iamVjdFxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBgb2JqZWN0YCBpcyBhIFJlYWN0RWxlbWVudC5cbiAqIEBmaW5hbFxuICovXG5cblxuZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnQob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiBvYmplY3QgIT09IG51bGwgJiYgb2JqZWN0LiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEU7XG59XG52YXIgb3duZXJIYXNLZXlVc2VXYXJuaW5nID0ge307XG4vKipcbiAqIFdhcm4gaWYgdGhlIGVsZW1lbnQgZG9lc24ndCBoYXZlIGFuIGV4cGxpY2l0IGtleSBhc3NpZ25lZCB0byBpdC5cbiAqIFRoaXMgZWxlbWVudCBpcyBpbiBhbiBhcnJheS4gVGhlIGFycmF5IGNvdWxkIGdyb3cgYW5kIHNocmluayBvciBiZVxuICogcmVvcmRlcmVkLiBBbGwgY2hpbGRyZW4gdGhhdCBoYXZlbid0IGFscmVhZHkgYmVlbiB2YWxpZGF0ZWQgYXJlIHJlcXVpcmVkIHRvXG4gKiBoYXZlIGEgXCJrZXlcIiBwcm9wZXJ0eSBhc3NpZ25lZCB0byBpdC4gRXJyb3Igc3RhdHVzZXMgYXJlIGNhY2hlZCBzbyBhIHdhcm5pbmdcbiAqIHdpbGwgb25seSBiZSBzaG93biBvbmNlLlxuICpcbiAqIEBpbnRlcm5hbFxuICogQHBhcmFtIHtSZWFjdEVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB0aGF0IHJlcXVpcmVzIGEga2V5LlxuICogQHBhcmFtIHsqfSBwYXJlbnRUeXBlIGVsZW1lbnQncyBwYXJlbnQncyB0eXBlLlxuICovXG5cbmZ1bmN0aW9uIHZhbGlkYXRlRXhwbGljaXRLZXkoZWxlbWVudCwgcGFyZW50VHlwZSkge1xuICB7XG4gICAgaWYgKCFlbGVtZW50Ll9zdG9yZSB8fCBlbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgfHwgZWxlbWVudC5rZXkgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCA9IHRydWU7XG4gICAgdmFyIGN1cnJlbnRDb21wb25lbnRFcnJvckluZm8gPSBnZXRDdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvKHBhcmVudFR5cGUpO1xuXG4gICAgaWYgKG93bmVySGFzS2V5VXNlV2FybmluZ1tjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG93bmVySGFzS2V5VXNlV2FybmluZ1tjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvXSA9IHRydWU7IC8vIFVzdWFsbHkgdGhlIGN1cnJlbnQgb3duZXIgaXMgdGhlIG9mZmVuZGVyLCBidXQgaWYgaXQgYWNjZXB0cyBjaGlsZHJlbiBhcyBhXG4gICAgLy8gcHJvcGVydHksIGl0IG1heSBiZSB0aGUgY3JlYXRvciBvZiB0aGUgY2hpbGQgdGhhdCdzIHJlc3BvbnNpYmxlIGZvclxuICAgIC8vIGFzc2lnbmluZyBpdCBhIGtleS5cblxuICAgIHZhciBjaGlsZE93bmVyID0gJyc7XG5cbiAgICBpZiAoZWxlbWVudCAmJiBlbGVtZW50Ll9vd25lciAmJiBlbGVtZW50Ll9vd25lciAhPT0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCkge1xuICAgICAgLy8gR2l2ZSB0aGUgY29tcG9uZW50IHRoYXQgb3JpZ2luYWxseSBjcmVhdGVkIHRoaXMgY2hpbGQuXG4gICAgICBjaGlsZE93bmVyID0gXCIgSXQgd2FzIHBhc3NlZCBhIGNoaWxkIGZyb20gXCIgKyBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoZWxlbWVudC5fb3duZXIudHlwZSkgKyBcIi5cIjtcbiAgICB9XG5cbiAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudChlbGVtZW50KTtcblxuICAgIGVycm9yKCdFYWNoIGNoaWxkIGluIGEgbGlzdCBzaG91bGQgaGF2ZSBhIHVuaXF1ZSBcImtleVwiIHByb3AuJyArICclcyVzIFNlZSBodHRwczovL3JlYWN0anMub3JnL2xpbmsvd2FybmluZy1rZXlzIGZvciBtb3JlIGluZm9ybWF0aW9uLicsIGN1cnJlbnRDb21wb25lbnRFcnJvckluZm8sIGNoaWxkT3duZXIpO1xuXG4gICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQobnVsbCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQoZWxlbWVudCkge1xuICB7XG4gICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgIHZhciBvd25lciA9IGVsZW1lbnQuX293bmVyO1xuICAgICAgdmFyIHN0YWNrID0gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKGVsZW1lbnQudHlwZSwgb3duZXIgPyBvd25lci50eXBlIDogbnVsbCk7XG4gICAgICBSZWFjdERlYnVnQ3VycmVudEZyYW1lLnNldEV4dHJhU3RhY2tGcmFtZShzdGFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIFJlYWN0RGVidWdDdXJyZW50RnJhbWUuc2V0RXh0cmFTdGFja0ZyYW1lKG51bGwpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRDdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvKHBhcmVudFR5cGUpIHtcbiAge1xuICAgIHZhciBpbmZvID0gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCk7XG5cbiAgICBpZiAoIWluZm8pIHtcbiAgICAgIHZhciBwYXJlbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHBhcmVudFR5cGUpO1xuXG4gICAgICBpZiAocGFyZW50TmFtZSkge1xuICAgICAgICBpbmZvID0gXCJcXG5cXG5DaGVjayB0aGUgdG9wLWxldmVsIHJlbmRlciBjYWxsIHVzaW5nIDxcIiArIHBhcmVudE5hbWUgKyBcIj4uXCI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGluZm87XG4gIH1cbn1cbi8qKlxuICogR2l2ZW4gYSBmcmFnbWVudCwgdmFsaWRhdGUgdGhhdCBpdCBjYW4gb25seSBiZSBwcm92aWRlZCB3aXRoIGZyYWdtZW50IHByb3BzXG4gKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gZnJhZ21lbnRcbiAqL1xuXG5cbmZ1bmN0aW9uIHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhmcmFnbWVudCkge1xuICAvLyBUT0RPOiBNb3ZlIHRoaXMgdG8gcmVuZGVyIHBoYXNlIGluc3RlYWQgb2YgYXQgZWxlbWVudCBjcmVhdGlvbi5cbiAge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZnJhZ21lbnQucHJvcHMpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcblxuICAgICAgaWYgKGtleSAhPT0gJ2NoaWxkcmVuJyAmJiBrZXkgIT09ICdrZXknKSB7XG4gICAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KGZyYWdtZW50KTtcblxuICAgICAgICBlcnJvcignSW52YWxpZCBwcm9wIGAlc2Agc3VwcGxpZWQgdG8gYFJlYWN0LkZyYWdtZW50YC4gJyArICdSZWFjdC5GcmFnbWVudCBjYW4gb25seSBoYXZlIGBrZXlgIGFuZCBgY2hpbGRyZW5gIHByb3BzLicsIGtleSk7XG5cbiAgICAgICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQobnVsbCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChmcmFnbWVudC5yZWYgIT09IG51bGwpIHtcbiAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KGZyYWdtZW50KTtcblxuICAgICAgZXJyb3IoJ0ludmFsaWQgYXR0cmlidXRlIGByZWZgIHN1cHBsaWVkIHRvIGBSZWFjdC5GcmFnbWVudGAuJyk7XG5cbiAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KG51bGwpO1xuICAgIH1cbiAgfVxufVxuXG52YXIganN4REVWID0ganN4REVWJDEgO1xuXG5leHBvcnRzLkZyYWdtZW50ID0gUkVBQ1RfRlJBR01FTlRfVFlQRTtcbmV4cG9ydHMuanN4REVWID0ganN4REVWO1xuICB9KSgpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js":
/*!******************************************************************!*\
  !*** ./node_modules/next/dist/compiled/react/jsx-dev-runtime.js ***!
  \******************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n\nif (false) {} else {\n  module.exports = __webpack_require__(/*! ./cjs/react-jsx-dev-runtime.development.js */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvanN4LWRldi1ydW50aW1lLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQyxDQUFDO0FBQ0YsRUFBRSw4TEFBc0U7QUFDeEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jb21waWxlZC9yZWFjdC9qc3gtZGV2LXJ1bnRpbWUuanM/M2JjMyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LWRldi1ydW50aW1lLnByb2R1Y3Rpb24ubWluLmpzJyk7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcycpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/wavesurfer.js/dist/wavesurfer.esm.js":
/*!***********************************************************!*\
  !*** ./node_modules/wavesurfer.js/dist/wavesurfer.esm.js ***!
  \***********************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ w; }\n/* harmony export */ });\nfunction t(t,e,i,n){return new(i||(i=Promise))((function(s,r){function o(t){try{l(n.next(t))}catch(t){r(t)}}function a(t){try{l(n.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}l((n=n.apply(t,e||[])).next())}))}\"function\"==typeof SuppressedError&&SuppressedError;class e{constructor(){this.listeners={}}on(t,e,i){if(this.listeners[t]||(this.listeners[t]=new Set),null==i?void 0:i.once){const i=(...n)=>{this.un(t,i),e(...n)};return this.listeners[t].add(i),()=>this.un(t,i)}return this.listeners[t].add(e),()=>this.un(t,e)}un(t,e){var i;null===(i=this.listeners[t])||void 0===i||i.delete(e)}once(t,e){return this.on(t,e,{once:!0})}unAll(){this.listeners={}}emit(t,...e){this.listeners[t]&&this.listeners[t].forEach((t=>t(...e)))}}const i={decode:function(e,i){return t(this,void 0,void 0,(function*(){const t=new AudioContext({sampleRate:i});try{return yield t.decodeAudioData(e)}finally{t.close()}}))},createBuffer:function(t,e){if(!t||0===t.length)throw new Error(\"channelData must be a non-empty array\");if(e<=0)throw new Error(\"duration must be greater than 0\");if(\"number\"==typeof t[0]&&(t=[t]),!t[0]||0===t[0].length)throw new Error(\"channelData must contain non-empty channel arrays\");!function(t){const e=t[0];if(e.some((t=>t>1||t<-1))){const i=e.length;let n=0;for(let t=0;t<i;t++){const i=Math.abs(e[t]);i>n&&(n=i)}for(const e of t)for(let t=0;t<i;t++)e[t]/=n}}(t);const i=t.map((t=>t instanceof Float32Array?t:Float32Array.from(t)));return{duration:e,length:i[0].length,sampleRate:i[0].length/e,numberOfChannels:i.length,getChannelData:t=>{const e=i[t];if(!e)throw new Error(`Channel ${t} not found`);return e},copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function n(t,e){const i=e.xmlns?document.createElementNS(e.xmlns,t):document.createElement(t);for(const[t,s]of Object.entries(e))if(\"children\"===t&&s)for(const[t,e]of Object.entries(s))e instanceof Node?i.appendChild(e):\"string\"==typeof e?i.appendChild(document.createTextNode(e)):i.appendChild(n(t,e));else\"style\"===t?Object.assign(i.style,s):\"textContent\"===t?i.textContent=s:i.setAttribute(t,s.toString());return i}function s(t,e,i){const s=n(t,e||{});return null==i||i.appendChild(s),s}var r=Object.freeze({__proto__:null,createElement:s,default:s});const o={fetchBlob:function(e,i,n){return t(this,void 0,void 0,(function*(){const s=yield fetch(e,n);if(s.status>=400)throw new Error(`Failed to fetch ${e}: ${s.status} (${s.statusText})`);return function(e,i){t(this,void 0,void 0,(function*(){if(!e.body||!e.headers)return;const t=e.body.getReader(),n=Number(e.headers.get(\"Content-Length\"))||0;let s=0;const r=t=>{s+=(null==t?void 0:t.length)||0;const e=Math.round(s/n*100);i(e)};try{for(;;){const e=yield t.read();if(e.done)break;r(e.value)}}catch(t){console.warn(\"Progress tracking error:\",t)}}))}(s.clone(),i),s.blob()}))}};function a(t){let e=t;const i=new Set;return{get value(){return e},set(t){Object.is(e,t)||(e=t,i.forEach((t=>t(e))))},update(t){this.set(t(e))},subscribe:t=>(i.add(t),()=>i.delete(t))}}function l(t,e){const i=a(t());return e.forEach((e=>e.subscribe((()=>{const e=t();Object.is(i.value,e)||i.set(e)})))),{get value(){return i.value},subscribe:t=>i.subscribe(t)}}function h(t,e){let i;const n=()=>{i&&(i(),i=void 0),i=t()},s=e.map((t=>t.subscribe(n)));return n(),()=>{i&&(i(),i=void 0),s.forEach((t=>t()))}}class u extends e{get isPlayingSignal(){return this._isPlaying}get currentTimeSignal(){return this._currentTime}get durationSignal(){return this._duration}get volumeSignal(){return this._volume}get mutedSignal(){return this._muted}get playbackRateSignal(){return this._playbackRate}get seekingSignal(){return this._seeking}constructor(t){super(),this.isExternalMedia=!1,this.reactiveMediaEventCleanups=[],t.media?(this.media=t.media,this.isExternalMedia=!0):this.media=document.createElement(\"audio\"),this._isPlaying=a(!1),this._currentTime=a(0),this._duration=a(0),this._volume=a(this.media.volume),this._muted=a(this.media.muted),this._playbackRate=a(this.media.playbackRate||1),this._seeking=a(!1),this.setupReactiveMediaEvents(),t.mediaControls&&(this.media.controls=!0),t.autoplay&&(this.media.autoplay=!0),null!=t.playbackRate&&this.onMediaEvent(\"canplay\",(()=>{null!=t.playbackRate&&(this.media.playbackRate=t.playbackRate)}),{once:!0})}setupReactiveMediaEvents(){this.reactiveMediaEventCleanups.push(this.onMediaEvent(\"play\",(()=>{this._isPlaying.set(!0)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent(\"pause\",(()=>{this._isPlaying.set(!1)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent(\"ended\",(()=>{this._isPlaying.set(!1)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent(\"timeupdate\",(()=>{this._currentTime.set(this.media.currentTime)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent(\"durationchange\",(()=>{this._duration.set(this.media.duration||0)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent(\"loadedmetadata\",(()=>{this._duration.set(this.media.duration||0)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent(\"seeking\",(()=>{this._seeking.set(!0)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent(\"seeked\",(()=>{this._seeking.set(!1)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent(\"volumechange\",(()=>{this._volume.set(this.media.volume),this._muted.set(this.media.muted)}))),this.reactiveMediaEventCleanups.push(this.onMediaEvent(\"ratechange\",(()=>{this._playbackRate.set(this.media.playbackRate)})))}onMediaEvent(t,e,i){return this.media.addEventListener(t,e,i),()=>this.media.removeEventListener(t,e,i)}getSrc(){return this.media.currentSrc||this.media.src||\"\"}revokeSrc(){const t=this.getSrc();t.startsWith(\"blob:\")&&URL.revokeObjectURL(t)}canPlayType(t){return\"\"!==this.media.canPlayType(t)}setSrc(t,e){const i=this.getSrc();if(t&&i===t)return;this.revokeSrc();const n=e instanceof Blob&&(this.canPlayType(e.type)||!t)?URL.createObjectURL(e):t;if(i&&this.media.removeAttribute(\"src\"),n||t)try{this.media.src=n}catch(e){this.media.src=t}}destroy(){this.reactiveMediaEventCleanups.forEach((t=>t())),this.reactiveMediaEventCleanups=[],this.isExternalMedia||(this.media.pause(),this.revokeSrc(),this.media.removeAttribute(\"src\"),this.media.load(),this.media.remove())}setMediaElement(t){this.reactiveMediaEventCleanups.forEach((t=>t())),this.reactiveMediaEventCleanups=[],this.media=t,this.setupReactiveMediaEvents()}play(){return t(this,void 0,void 0,(function*(){try{return yield this.media.play()}catch(t){if(t instanceof DOMException&&\"AbortError\"===t.name)return;throw t}}))}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(t){this.media.currentTime=Math.max(0,Math.min(t,this.getDuration()))}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(t){this.media.volume=t}getMuted(){return this.media.muted}setMuted(t){this.media.muted=t}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(t,e){null!=e&&(this.media.preservesPitch=e),this.media.playbackRate=t}getMediaElement(){return this.media}setSinkId(t){return this.media.setSinkId(t)}}function c({maxTop:t,maxBottom:e,halfHeight:i,vScale:n,barMinHeight:s=0,barAlign:r}){let o=Math.round(t*i*n);let a=o+Math.round(e*i*n)||1;return a<s&&(a=s,r||(o=a/2)),{topHeight:o,totalHeight:a}}function d({barAlign:t,halfHeight:e,topHeight:i,totalHeight:n,canvasHeight:s}){return\"top\"===t?0:\"bottom\"===t?s-n:e-i}function p(t,e,i){const n=e-t.left,s=i-t.top;return[n/t.width,s/t.height]}function m(t){return Boolean(t.barWidth||t.barGap||t.barAlign)}function g(t,e){if(!m(e))return t;const i=e.barWidth||.5,n=i+(e.barGap||i/2);return 0===n?t:Math.floor(t/n)*n}function v({scrollLeft:t,totalWidth:e,numCanvases:i}){if(0===e)return[0];const n=t/e,s=Math.floor(n*i);return[s-1,s,s+1]}function f(t){const e=t._cleanup;\"function\"==typeof e&&e()}function b(t){const e=a({scrollLeft:t.scrollLeft,scrollWidth:t.scrollWidth,clientWidth:t.clientWidth}),i=l((()=>function(t){const{scrollLeft:e,scrollWidth:i,clientWidth:n}=t;if(0===i)return{startX:0,endX:1};const s=e/i,r=(e+n)/i;return{startX:Math.max(0,Math.min(1,s)),endX:Math.max(0,Math.min(1,r))}}(e.value)),[e]),n=l((()=>function(t){return{left:t.scrollLeft,right:t.scrollLeft+t.clientWidth}}(e.value)),[e]),s=()=>{e.set({scrollLeft:t.scrollLeft,scrollWidth:t.scrollWidth,clientWidth:t.clientWidth})};t.addEventListener(\"scroll\",s,{passive:!0});return{scrollData:e,percentages:i,bounds:n,cleanup:()=>{t.removeEventListener(\"scroll\",s),f(e)}}}class y extends e{constructor(t,e){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.subscriptions=[],this.unsubscribeOnScroll=[],this.dragStream=null,this.scrollStream=null,this.subscriptions=[],this.options=t;const i=this.parentFromOptionsContainer(t.container);this.parent=i;const[n,s]=this.initHtml();i.appendChild(n),this.container=n,this.scrollContainer=s.querySelector(\".scroll\"),this.wrapper=s.querySelector(\".wrapper\"),this.canvasWrapper=s.querySelector(\".canvases\"),this.progressWrapper=s.querySelector(\".progress\"),this.cursor=s.querySelector(\".cursor\"),e&&s.appendChild(e),this.initEvents()}parentFromOptionsContainer(t){let e;if(\"string\"==typeof t?e=document.querySelector(t):t instanceof HTMLElement&&(e=t),!e)throw new Error(\"Container not found\");return e}initEvents(){this.wrapper.addEventListener(\"click\",(t=>{const e=this.wrapper.getBoundingClientRect(),[i,n]=p(e,t.clientX,t.clientY);this.emit(\"click\",i,n)})),this.wrapper.addEventListener(\"dblclick\",(t=>{const e=this.wrapper.getBoundingClientRect(),[i,n]=p(e,t.clientX,t.clientY);this.emit(\"dblclick\",i,n)})),!0!==this.options.dragToSeek&&\"object\"!=typeof this.options.dragToSeek||this.initDrag(),this.scrollStream=b(this.scrollContainer);const t=h((()=>{const{startX:t,endX:e}=this.scrollStream.percentages.value,{left:i,right:n}=this.scrollStream.bounds.value;this.emit(\"scroll\",t,e,i,n)}),[this.scrollStream.percentages,this.scrollStream.bounds]);if(this.subscriptions.push(t),\"function\"==typeof ResizeObserver){const t=this.createDelay(100);this.resizeObserver=new ResizeObserver((()=>{t().then((()=>this.onContainerResize())).catch((()=>{}))})),this.resizeObserver.observe(this.scrollContainer)}}onContainerResize(){const t=this.parent.clientWidth;t===this.lastContainerWidth&&\"auto\"!==this.options.height||(this.lastContainerWidth=t,this.reRender(),this.emit(\"resize\"))}initDrag(){if(this.dragStream)return;this.dragStream=function(t,e={}){const{threshold:i=3,mouseButton:n=0,touchDelay:s=100}=e,r=a(null),o=new Map,l=matchMedia(\"(pointer: coarse)\").matches;let h=()=>{};const u=e=>{if(e.button!==n)return;if(o.set(e.pointerId,e),o.size>1)return;let a=e.clientX,u=e.clientY,c=!1;const d=Date.now(),p=t.getBoundingClientRect(),{left:m,top:g}=p,v=t=>{if(t.defaultPrevented||o.size>1)return;if(l&&Date.now()-d<s)return;const e=t.clientX,n=t.clientY,h=e-a,p=n-u;(c||Math.abs(h)>i||Math.abs(p)>i)&&(t.preventDefault(),t.stopPropagation(),c||(r.set({type:\"start\",x:a-m,y:u-g}),c=!0),r.set({type:\"move\",x:e-m,y:n-g,deltaX:h,deltaY:p}),a=e,u=n)},f=t=>{if(o.delete(t.pointerId),c){const e=t.clientX,i=t.clientY;r.set({type:\"end\",x:e-m,y:i-g})}h()},b=t=>{o.delete(t.pointerId),t.relatedTarget&&t.relatedTarget!==document.documentElement||f(t)},y=t=>{c&&(t.stopPropagation(),t.preventDefault())},C=t=>{t.defaultPrevented||o.size>1||c&&t.preventDefault()};document.addEventListener(\"pointermove\",v),document.addEventListener(\"pointerup\",f),document.addEventListener(\"pointerout\",b),document.addEventListener(\"pointercancel\",b),document.addEventListener(\"touchmove\",C,{passive:!1}),document.addEventListener(\"click\",y,{capture:!0}),h=()=>{document.removeEventListener(\"pointermove\",v),document.removeEventListener(\"pointerup\",f),document.removeEventListener(\"pointerout\",b),document.removeEventListener(\"pointercancel\",b),document.removeEventListener(\"touchmove\",C),setTimeout((()=>{document.removeEventListener(\"click\",y,{capture:!0})}),10)}};return t.addEventListener(\"pointerdown\",u),{signal:r,cleanup:()=>{h(),t.removeEventListener(\"pointerdown\",u),o.clear(),f(r)}}}(this.wrapper);const t=h((()=>{const t=this.dragStream.signal.value;if(!t)return;const e=this.wrapper.getBoundingClientRect().width,i=(n=t.x/e)<0?0:n>1?1:n;var n;\"start\"===t.type?(this.isDragging=!0,this.emit(\"dragstart\",i)):\"move\"===t.type?this.emit(\"drag\",i):\"end\"===t.type&&(this.isDragging=!1,this.emit(\"dragend\",i))}),[this.dragStream.signal]);this.subscriptions.push(t)}initHtml(){const t=document.createElement(\"div\"),e=t.attachShadow({mode:\"open\"}),i=this.options.cspNonce&&\"string\"==typeof this.options.cspNonce?this.options.cspNonce.replace(/\"/g,\"\"):\"\";return e.innerHTML=`\\n      <style${i?` nonce=\"${i}\"`:\"\"}>\\n        :host {\\n          user-select: none;\\n          min-width: 1px;\\n        }\\n        :host audio {\\n          display: block;\\n          width: 100%;\\n        }\\n        :host .scroll {\\n          overflow-x: auto;\\n          overflow-y: hidden;\\n          width: 100%;\\n          position: relative;\\n        }\\n        :host .noScrollbar {\\n          scrollbar-color: transparent;\\n          scrollbar-width: none;\\n        }\\n        :host .noScrollbar::-webkit-scrollbar {\\n          display: none;\\n          -webkit-appearance: none;\\n        }\\n        :host .wrapper {\\n          position: relative;\\n          overflow: visible;\\n          z-index: 2;\\n        }\\n        :host .canvases {\\n          min-height: ${this.getHeight(this.options.height,this.options.splitChannels)}px;\\n          pointer-events: none;\\n        }\\n        :host .canvases > div {\\n          position: relative;\\n        }\\n        :host canvas {\\n          display: block;\\n          position: absolute;\\n          top: 0;\\n          image-rendering: pixelated;\\n        }\\n        :host .progress {\\n          pointer-events: none;\\n          position: absolute;\\n          z-index: 2;\\n          top: 0;\\n          left: 0;\\n          width: 0;\\n          height: 100%;\\n          overflow: hidden;\\n        }\\n        :host .progress > div {\\n          position: relative;\\n        }\\n        :host .cursor {\\n          pointer-events: none;\\n          position: absolute;\\n          z-index: 5;\\n          top: 0;\\n          left: 0;\\n          height: 100%;\\n          border-radius: 2px;\\n        }\\n      </style>\\n\\n      <div class=\"scroll\" part=\"scroll\">\\n        <div class=\"wrapper\" part=\"wrapper\">\\n          <div class=\"canvases\" part=\"canvases\"></div>\\n          <div class=\"progress\" part=\"progress\"></div>\\n          <div class=\"cursor\" part=\"cursor\"></div>\\n        </div>\\n      </div>\\n    `,[t,e]}setOptions(t){if(this.options.container!==t.container){const e=this.parentFromOptionsContainer(t.container);e.appendChild(this.container),this.parent=e}!0!==t.dragToSeek&&\"object\"!=typeof this.options.dragToSeek||this.initDrag(),this.options=t,this.reRender()}getWrapper(){return this.wrapper}getWidth(){return this.scrollContainer.clientWidth}getScroll(){return this.scrollContainer.scrollLeft}setScroll(t){this.scrollContainer.scrollLeft=t}setScrollPercentage(t){const{scrollWidth:e}=this.scrollContainer,i=e*t;this.setScroll(i)}destroy(){var t;this.subscriptions.forEach((t=>t())),this.container.remove(),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),null===(t=this.unsubscribeOnScroll)||void 0===t||t.forEach((t=>t())),this.unsubscribeOnScroll=[],this.dragStream&&(this.dragStream.cleanup(),this.dragStream=null),this.scrollStream&&(this.scrollStream.cleanup(),this.scrollStream=null)}createDelay(t=10){let e,i;const n=()=>{e&&(clearTimeout(e),e=void 0),i&&(i(),i=void 0)};return this.timeouts.push(n),()=>new Promise(((s,r)=>{n(),i=r,e=setTimeout((()=>{e=void 0,i=void 0,s()}),t)}))}getHeight(t,e){var i;const n=(null===(i=this.audioData)||void 0===i?void 0:i.numberOfChannels)||1;return function({optionsHeight:t,optionsSplitChannels:e,parentHeight:i,numberOfChannels:n,defaultHeight:s=128}){if(null==t)return s;const r=Number(t);if(!isNaN(r))return r;if(\"auto\"===t){const t=i||s;return(null==e?void 0:e.every((t=>!t.overlay)))?t/n:t}return s}({optionsHeight:t,optionsSplitChannels:e,parentHeight:this.parent.clientHeight,numberOfChannels:n,defaultHeight:128})}convertColorValues(t,e){return function(t,e,i){if(!Array.isArray(t))return t||\"\";if(0===t.length)return\"#999\";if(t.length<2)return t[0]||\"\";const n=document.createElement(\"canvas\"),s=n.getContext(\"2d\"),r=null!=i?i:n.height*e,o=s.createLinearGradient(0,0,0,r||e),a=1/(t.length-1);return t.forEach(((t,e)=>{o.addColorStop(e*a,t)})),o}(t,this.getPixelRatio(),null==e?void 0:e.canvas.height)}getPixelRatio(){return t=window.devicePixelRatio,Math.max(1,t||1);var t}renderBarWaveform(t,e,i,n){const{width:s,height:r}=i.canvas,{halfHeight:o,barWidth:a,barRadius:l,barIndexScale:h,barSpacing:u,barMinHeight:p}=function({width:t,height:e,length:i,options:n,pixelRatio:s}){const r=e/2,o=n.barWidth?n.barWidth*s:1,a=n.barGap?n.barGap*s:n.barWidth?o/2:0,l=o+a||1;return{halfHeight:r,barWidth:o,barGap:a,barRadius:n.barRadius||0,barMinHeight:n.barMinHeight?n.barMinHeight*s:0,barIndexScale:i>0?t/l/i:0,barSpacing:l}}({width:s,height:r,length:(t[0]||[]).length,options:e,pixelRatio:this.getPixelRatio()}),m=function({channelData:t,barIndexScale:e,barSpacing:i,barWidth:n,halfHeight:s,vScale:r,canvasHeight:o,barAlign:a,barMinHeight:l}){const h=t[0]||[],u=t[1]||h,p=h.length,m=[];let g=0,v=0,f=0;for(let t=0;t<=p;t++){const p=Math.round(t*e);if(p>g){const{topHeight:t,totalHeight:e}=c({maxTop:v,maxBottom:f,halfHeight:s,vScale:r,barMinHeight:l,barAlign:a}),h=d({barAlign:a,halfHeight:s,topHeight:t,totalHeight:e,canvasHeight:o});m.push({x:g*i,y:h,width:n,height:e}),g=p,v=0,f=0}const b=Math.abs(h[t]||0),y=Math.abs(u[t]||0);b>v&&(v=b),y>f&&(f=y)}return m}({channelData:t,barIndexScale:h,barSpacing:u,barWidth:a,halfHeight:o,vScale:n,canvasHeight:r,barAlign:e.barAlign,barMinHeight:p});i.beginPath();for(const t of m)l&&\"roundRect\"in i?i.roundRect(t.x,t.y,t.width,t.height,l):i.rect(t.x,t.y,t.width,t.height);i.fill(),i.closePath()}renderLineWaveform(t,e,i,n){const{width:s,height:r}=i.canvas,o=function({channelData:t,width:e,height:i,vScale:n}){const s=i/2,r=t[0]||[];return[r,t[1]||r].map(((t,i)=>{const r=t.length,o=r?e/r:0,a=s,l=0===i?-1:1,h=[{x:0,y:a}];let u=0,c=0;for(let e=0;e<=r;e++){const i=Math.round(e*o);if(i>u){const t=a+(Math.round(c*s*n)||1)*l;h.push({x:u,y:t}),u=i,c=0}const r=Math.abs(t[e]||0);r>c&&(c=r)}return h.push({x:u,y:a}),h}))}({channelData:t,width:s,height:r,vScale:n});i.beginPath();for(const t of o)if(t.length){i.moveTo(t[0].x,t[0].y);for(let e=1;e<t.length;e++){const n=t[e];i.lineTo(n.x,n.y)}}i.fill(),i.closePath()}renderWaveform(t,e,i){if(i.fillStyle=this.convertColorValues(e.waveColor,i),e.renderFunction)return void e.renderFunction(t,i);const n=function({channelData:t,barHeight:e,normalize:i,maxPeak:n}){var s;const r=e||1;if(!i)return r;const o=t[0];if(!o||0===o.length)return r;let a=null!=n?n:0;if(!n)for(let t=0;t<o.length;t++){const e=null!==(s=o[t])&&void 0!==s?s:0,i=Math.abs(e);i>a&&(a=i)}return a?r/a:r}({channelData:t,barHeight:e.barHeight,normalize:e.normalize,maxPeak:e.maxPeak});m(e)?this.renderBarWaveform(t,e,i,n):this.renderLineWaveform(t,e,i,n)}renderSingleCanvas(t,e,i,n,s,r,o){const a=this.getPixelRatio(),l=document.createElement(\"canvas\");l.width=Math.round(i*a),l.height=Math.round(n*a),l.style.width=`${i}px`,l.style.height=`${n}px`,l.style.left=`${Math.round(s)}px`,r.appendChild(l);const h=l.getContext(\"2d\");if(e.renderFunction?(h.fillStyle=this.convertColorValues(e.waveColor,h),e.renderFunction(t,h)):this.renderWaveform(t,e,h),l.width>0&&l.height>0){const t=l.cloneNode(),i=t.getContext(\"2d\");i.drawImage(l,0,0),i.globalCompositeOperation=\"source-in\",i.fillStyle=this.convertColorValues(e.progressColor,i),i.fillRect(0,0,l.width,l.height),o.appendChild(t)}}renderMultiCanvas(t,e,i,n,s,r){const o=this.getPixelRatio(),{clientWidth:a}=this.scrollContainer,l=i/o,h=function({clientWidth:t,totalWidth:e,options:i}){return g(Math.min(8e3,t,e),i)}({clientWidth:a,totalWidth:l,options:e});let u={};if(0===h)return;const c=i=>{if(i<0||i>=d)return;if(u[i])return;u[i]=!0;const o=i*h;let a=Math.min(l-o,h);if(a=g(a,e),a<=0)return;const c=function({channelData:t,offset:e,clampedWidth:i,totalWidth:n}){return t.map((t=>{const s=Math.floor(e/n*t.length),r=Math.floor((e+i)/n*t.length);return t.slice(s,r)}))}({channelData:t,offset:o,clampedWidth:a,totalWidth:l});this.renderSingleCanvas(c,e,a,n,o,s,r)},d=Math.ceil(l/h);if(!this.isScrollable){for(let t=0;t<d;t++)c(t);return}if(v({scrollLeft:this.scrollContainer.scrollLeft,totalWidth:l,numCanvases:d}).forEach((t=>c(t))),d>1){const t=this.on(\"scroll\",(()=>{const{scrollLeft:t}=this.scrollContainer;Object.keys(u).length>10&&(s.innerHTML=\"\",r.innerHTML=\"\",u={}),v({scrollLeft:t,totalWidth:l,numCanvases:d}).forEach((t=>c(t)))}));this.unsubscribeOnScroll.push(t)}}renderChannel(t,e,i,n){var{overlay:s}=e,r=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&\"function\"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(i[n[s]]=t[n[s]])}return i}(e,[\"overlay\"]);const o=document.createElement(\"div\"),a=this.getHeight(r.height,r.splitChannels);o.style.height=`${a}px`,s&&n>0&&(o.style.marginTop=`-${a}px`),this.canvasWrapper.style.minHeight=`${a}px`,this.canvasWrapper.appendChild(o);const l=o.cloneNode();this.progressWrapper.appendChild(l),this.renderMultiCanvas(t,r,i,a,o,l)}render(e){return t(this,void 0,void 0,(function*(){var t;this.timeouts.forEach((t=>t())),this.timeouts=[],this.canvasWrapper.innerHTML=\"\",this.progressWrapper.innerHTML=\"\",null!=this.options.width&&(this.scrollContainer.style.width=\"number\"==typeof this.options.width?`${this.options.width}px`:this.options.width);const i=this.getPixelRatio(),n=this.scrollContainer.clientWidth,{scrollWidth:s,isScrollable:r,useParentWidth:o,width:a}=function({duration:t,minPxPerSec:e=0,parentWidth:i,fillParent:n,pixelRatio:s}){const r=Math.ceil(t*e),o=r>i,a=Boolean(n&&!o);return{scrollWidth:r,isScrollable:o,useParentWidth:a,width:(a?i:r)*s}}({duration:e.duration,minPxPerSec:this.options.minPxPerSec||0,parentWidth:n,fillParent:this.options.fillParent,pixelRatio:i});if(this.isScrollable=r,this.wrapper.style.width=o?\"100%\":`${s}px`,this.scrollContainer.style.overflowX=this.isScrollable?\"auto\":\"hidden\",this.scrollContainer.classList.toggle(\"noScrollbar\",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=e,this.emit(\"render\"),this.options.splitChannels)for(let i=0;i<e.numberOfChannels;i++){const n=Object.assign(Object.assign({},this.options),null===(t=this.options.splitChannels)||void 0===t?void 0:t[i]);this.renderChannel([e.getChannelData(i)],n,a,i)}else{const t=[e.getChannelData(0)];e.numberOfChannels>1&&t.push(e.getChannelData(1)),this.renderChannel(t,this.options,a,0)}Promise.resolve().then((()=>this.emit(\"rendered\")))}))}reRender(){if(this.unsubscribeOnScroll.forEach((t=>t())),this.unsubscribeOnScroll=[],!this.audioData)return;const{scrollWidth:t}=this.scrollContainer,{right:e}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&t!==this.scrollContainer.scrollWidth){const{right:t}=this.progressWrapper.getBoundingClientRect(),i=function(t){const e=2*t;return(e<0?Math.floor(e):Math.ceil(e))/2}(t-e);this.scrollContainer.scrollLeft+=i}}zoom(t){this.options.minPxPerSec=t,this.reRender()}scrollIntoView(t,e=!1){const{scrollLeft:i,scrollWidth:n,clientWidth:s}=this.scrollContainer,r=t*n,o=i,a=i+s,l=s/2;if(this.isDragging){const t=30;r+t>a?this.scrollContainer.scrollLeft+=t:r-t<o&&(this.scrollContainer.scrollLeft-=t)}else{(r<o||r>a)&&(this.scrollContainer.scrollLeft=r-(this.options.autoCenter?l:0));const t=r-i-l;e&&this.options.autoCenter&&t>0&&(this.scrollContainer.scrollLeft+=t)}}renderProgress(t,e){if(isNaN(t))return;const i=100*t;this.canvasWrapper.style.clipPath=`polygon(${i}% 0%, 100% 0%, 100% 100%, ${i}% 100%)`,this.progressWrapper.style.width=`${i}%`,this.cursor.style.left=`${i}%`,this.cursor.style.transform=this.options.cursorWidth?`translateX(-${t*this.options.cursorWidth}px)`:\"\",this.isScrollable&&this.options.autoScroll&&this.audioData&&this.audioData.duration>0&&this.scrollIntoView(t,e)}exportImage(e,i,n){return t(this,void 0,void 0,(function*(){const t=this.canvasWrapper.querySelectorAll(\"canvas\");if(!t.length)throw new Error(\"No waveform data\");if(\"dataURL\"===n){const n=Array.from(t).map((t=>t.toDataURL(e,i)));return Promise.resolve(n)}return Promise.all(Array.from(t).map((t=>new Promise(((n,s)=>{t.toBlob((t=>{t?n(t):s(new Error(\"Could not export image\"))}),e,i)})))))}))}}class C extends e{constructor(){super(...arguments),this.animationFrameId=null,this.isRunning=!1}start(){if(this.isRunning)return;this.isRunning=!0;const t=()=>{this.isRunning&&(this.emit(\"tick\"),this.animationFrameId=requestAnimationFrame(t))};t()}stop(){this.isRunning=!1,null!==this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}destroy(){this.stop()}}class S extends e{constructor(t=new AudioContext){super(),this.bufferNode=null,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this._duration=void 0,this.buffer=null,this.currentSrc=\"\",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.autoplay=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=t,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return t(this,void 0,void 0,(function*(){}))}get src(){return this.currentSrc}set src(t){if(this.currentSrc=t,this._duration=void 0,!t)return this.buffer=null,void this.emit(\"emptied\");fetch(t).then((e=>{if(e.status>=400)throw new Error(`Failed to fetch ${t}: ${e.status} (${e.statusText})`);return e.arrayBuffer()})).then((e=>this.currentSrc!==t?null:this.audioContext.decodeAudioData(e))).then((e=>{this.currentSrc===t&&(this.buffer=e,this.emit(\"loadedmetadata\"),this.emit(\"canplay\"),this.autoplay&&this.play())})).catch((t=>{console.error(\"WebAudioPlayer load error:\",t)}))}_play(){if(!this.paused)return;this.paused=!1,this.bufferNode&&(this.bufferNode.onended=null,this.bufferNode.disconnect()),this.bufferNode=this.audioContext.createBufferSource(),this.buffer&&(this.bufferNode.buffer=this.buffer),this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let t=this.playedDuration*this._playbackRate;(t>=this.duration||t<0)&&(t=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,t),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit(\"ended\"))}}_pause(){var t;this.paused=!0,null===(t=this.bufferNode)||void 0===t||t.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return t(this,void 0,void 0,(function*(){this.paused&&(this._play(),this.emit(\"play\"))}))}pause(){this.paused||(this._pause(),this.emit(\"pause\"))}stopAt(t){const e=t-this.currentTime,i=this.bufferNode;null==i||i.stop(this.audioContext.currentTime+e),null==i||i.addEventListener(\"ended\",(()=>{i===this.bufferNode&&(this.bufferNode=null,this.pause())}),{once:!0})}setSinkId(e){return t(this,void 0,void 0,(function*(){return this.audioContext.setSinkId(e)}))}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this.bufferNode&&(this.bufferNode.playbackRate.value=t)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(t){const e=!this.paused;e&&this._pause(),this.playedDuration=t/this._playbackRate,e&&this._play(),this.emit(\"seeking\"),this.emit(\"timeupdate\")}get duration(){var t,e;return null!==(t=this._duration)&&void 0!==t?t:(null===(e=this.buffer)||void 0===e?void 0:e.duration)||0}set duration(t){this._duration=t}get volume(){return this.gainNode.gain.value}set volume(t){this.gainNode.gain.value=t,this.emit(\"volumechange\")}get muted(){return this._muted}set muted(t){this._muted!==t&&(this._muted=t,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(t){return/^(audio|video)\\//.test(t)}getGainNode(){return this.gainNode}getChannelData(){const t=[];if(!this.buffer)return t;const e=this.buffer.numberOfChannels;for(let i=0;i<e;i++)t.push(this.buffer.getChannelData(i));return t}removeAttribute(t){switch(t){case\"src\":this.src=\"\";break;case\"playbackRate\":this.playbackRate=0;break;case\"currentTime\":this.currentTime=0;break;case\"duration\":this.duration=0;break;case\"volume\":this.volume=0;break;case\"muted\":this.muted=!1}}}const E={waveColor:\"#999\",progressColor:\"#555\",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class w extends u{static create(t){return new w(t)}getState(){return this.wavesurferState}getRenderer(){return this.renderer}constructor(t){const e=t.media||(\"WebAudio\"===t.backend?new S:void 0);super({media:e,mediaControls:t.mediaControls,autoplay:t.autoplay,playbackRate:t.audioRate}),this.plugins=[],this.decodedData=null,this.stopAtPosition=null,this.subscriptions=[],this.mediaSubscriptions=[],this.abortController=null,this.reactiveCleanups=[],this.options=Object.assign({},E,t);const{state:i,actions:n}=function(t){var e,i,n,s,r,o;const h=null!==(e=null==t?void 0:t.currentTime)&&void 0!==e?e:a(0),u=null!==(i=null==t?void 0:t.duration)&&void 0!==i?i:a(0),c=null!==(n=null==t?void 0:t.isPlaying)&&void 0!==n?n:a(!1),d=null!==(s=null==t?void 0:t.isSeeking)&&void 0!==s?s:a(!1),p=null!==(r=null==t?void 0:t.volume)&&void 0!==r?r:a(1),m=null!==(o=null==t?void 0:t.playbackRate)&&void 0!==o?o:a(1),g=a(null),v=a(null),f=a(\"\"),b=a(0),y=a(0),C=l((()=>!c.value),[c]),S=l((()=>null!==g.value),[g]),E=l((()=>S.value&&u.value>0),[S,u]),w=l((()=>h.value),[h]),P=l((()=>u.value>0?h.value/u.value:0),[h,u]);return{state:{currentTime:h,duration:u,isPlaying:c,isPaused:C,isSeeking:d,volume:p,playbackRate:m,audioBuffer:g,peaks:v,url:f,zoom:b,scrollPosition:y,canPlay:S,isReady:E,progress:w,progressPercent:P},actions:{setCurrentTime:t=>{const e=Math.max(0,Math.min(u.value||1/0,t));h.set(e)},setDuration:t=>{u.set(Math.max(0,t))},setPlaying:t=>{c.set(t)},setSeeking:t=>{d.set(t)},setVolume:t=>{const e=Math.max(0,Math.min(1,t));p.set(e)},setPlaybackRate:t=>{const e=Math.max(.1,Math.min(16,t));m.set(e)},setAudioBuffer:t=>{g.set(t),t&&u.set(t.duration)},setPeaks:t=>{v.set(t)},setUrl:t=>{f.set(t)},setZoom:t=>{b.set(Math.max(0,t))},setScrollPosition:t=>{y.set(Math.max(0,t))}}}}({isPlaying:this.isPlayingSignal,currentTime:this.currentTimeSignal,duration:this.durationSignal,volume:this.volumeSignal,playbackRate:this.playbackRateSignal,isSeeking:this.seekingSignal});this.wavesurferState=i,this.wavesurferActions=n,this.timer=new C;const s=e?void 0:this.getMediaElement();this.renderer=new y(this.options,s),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initReactiveState(),this.initPlugins();const r=this.options.url||this.getSrc()||\"\";Promise.resolve().then((()=>{this.emit(\"init\");const{peaks:t,duration:e}=this.options;(r||t&&e)&&this.load(r,t,e).catch((t=>{this.emit(\"error\",t instanceof Error?t:new Error(String(t)))}))}))}updateProgress(t=this.getCurrentTime()){return this.renderer.renderProgress(t/this.getDuration(),this.isPlaying()),t}initTimerEvents(){this.subscriptions.push(this.timer.on(\"tick\",(()=>{if(!this.isSeeking()){const t=this.updateProgress();this.emit(\"timeupdate\",t),this.emit(\"audioprocess\",t),null!=this.stopAtPosition&&this.isPlaying()&&t>=this.stopAtPosition&&this.pause()}})))}initReactiveState(){this.reactiveCleanups.push(function(t,e){const i=[];i.push(h((()=>{const i=t.isPlaying.value;e.emit(i?\"play\":\"pause\")}),[t.isPlaying])),i.push(h((()=>{const i=t.currentTime.value;e.emit(\"timeupdate\",i),t.isPlaying.value&&e.emit(\"audioprocess\",i)}),[t.currentTime,t.isPlaying])),i.push(h((()=>{t.isSeeking.value&&e.emit(\"seeking\",t.currentTime.value)}),[t.isSeeking,t.currentTime]));let n=!1;i.push(h((()=>{t.isReady.value&&!n&&(n=!0,e.emit(\"ready\",t.duration.value))}),[t.isReady,t.duration]));let s=!1;return i.push(h((()=>{const i=t.isPlaying.value,n=t.currentTime.value,r=t.duration.value,o=r>0&&n>=r;s&&!i&&o&&e.emit(\"finish\"),s=i&&o}),[t.isPlaying,t.currentTime,t.duration])),i.push(h((()=>{const i=t.zoom.value;i>0&&e.emit(\"zoom\",i)}),[t.zoom])),()=>{i.forEach((t=>t()))}}(this.wavesurferState,{emit:this.emit.bind(this)}))}initPlayerEvents(){this.isPlaying()&&(this.emit(\"play\"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent(\"timeupdate\",(()=>{const t=this.updateProgress();this.emit(\"timeupdate\",t)})),this.onMediaEvent(\"play\",(()=>{this.emit(\"play\"),this.timer.start()})),this.onMediaEvent(\"pause\",(()=>{this.emit(\"pause\"),this.timer.stop(),this.stopAtPosition=null})),this.onMediaEvent(\"emptied\",(()=>{this.timer.stop(),this.stopAtPosition=null})),this.onMediaEvent(\"ended\",(()=>{this.emit(\"timeupdate\",this.getDuration()),this.emit(\"finish\"),this.stopAtPosition=null})),this.onMediaEvent(\"seeking\",(()=>{this.emit(\"seeking\",this.getCurrentTime())})),this.onMediaEvent(\"error\",(()=>{var t;this.emit(\"error\",null!==(t=this.getMediaElement().error)&&void 0!==t?t:new Error(\"Media error\")),this.stopAtPosition=null})))}initRendererEvents(){this.subscriptions.push(this.renderer.on(\"click\",((t,e)=>{this.options.interact&&(this.seekTo(t),this.emit(\"interaction\",t*this.getDuration()),this.emit(\"click\",t,e))})),this.renderer.on(\"dblclick\",((t,e)=>{this.emit(\"dblclick\",t,e)})),this.renderer.on(\"scroll\",((t,e,i,n)=>{const s=this.getDuration();this.emit(\"scroll\",t*s,e*s,i,n)})),this.renderer.on(\"render\",(()=>{this.emit(\"redraw\")})),this.renderer.on(\"rendered\",(()=>{this.emit(\"redrawcomplete\")})),this.renderer.on(\"dragstart\",(t=>{this.emit(\"dragstart\",t)})),this.renderer.on(\"dragend\",(t=>{this.emit(\"dragend\",t)})),this.renderer.on(\"resize\",(()=>{this.emit(\"resize\")})));{let t;const e=this.renderer.on(\"drag\",(e=>{var i;if(!this.options.interact)return;this.renderer.renderProgress(e),clearTimeout(t);let n=0;const s=this.options.dragToSeek;this.isPlaying()?n=0:!0===s?n=200:s&&\"object\"==typeof s&&(n=null!==(i=s.debounceTime)&&void 0!==i?i:200),t=setTimeout((()=>{this.seekTo(e)}),n),this.emit(\"interaction\",e*this.getDuration()),this.emit(\"drag\",e)}));this.subscriptions.push((()=>{clearTimeout(t),e()}))}}initPlugins(){var t;(null===(t=this.options.plugins)||void 0===t?void 0:t.length)&&this.options.plugins.forEach((t=>{this.registerPlugin(t)}))}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach((t=>t())),this.mediaSubscriptions=[]}setOptions(t){this.options=Object.assign({},this.options,t),t.duration&&!t.peaks&&(this.decodedData=i.createBuffer(this.exportPeaks(),t.duration)),t.peaks&&t.duration&&(this.decodedData=i.createBuffer(t.peaks,t.duration)),this.renderer.setOptions(this.options),t.audioRate&&this.setPlaybackRate(t.audioRate),null!=t.mediaControls&&(this.getMediaElement().controls=t.mediaControls)}registerPlugin(t){if(this.plugins.includes(t))return t;t._init(this),this.plugins.push(t);const e=t.once(\"destroy\",(()=>{this.plugins=this.plugins.filter((e=>e!==t)),this.subscriptions=this.subscriptions.filter((t=>t!==e))}));return this.subscriptions.push(e),t}unregisterPlugin(t){this.plugins=this.plugins.filter((e=>e!==t)),t.destroy()}getWrapper(){return this.renderer.getWrapper()}getWidth(){return this.renderer.getWidth()}getScroll(){return this.renderer.getScroll()}setScroll(t){return this.renderer.setScroll(t)}setScrollTime(t){const e=t/this.getDuration();this.renderer.setScrollPercentage(e)}getActivePlugins(){return this.plugins}loadAudio(e,n,s,r){return t(this,void 0,void 0,(function*(){var t;if(this.emit(\"load\",e),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,this.stopAtPosition=null,null===(t=this.abortController)||void 0===t||t.abort(),this.abortController=null,!n&&!s){const t=this.options.fetchParams||{};window.AbortController&&!t.signal&&(this.abortController=new AbortController,t.signal=this.abortController.signal);const i=t=>this.emit(\"loading\",t);n=yield o.fetchBlob(e,i,t);const s=this.options.blobMimeType;s&&(n=new Blob([n],{type:s}))}this.setSrc(e,n);const a=yield new Promise((t=>{const e=r||this.getDuration();e?t(e):this.mediaSubscriptions.push(this.onMediaEvent(\"loadedmetadata\",(()=>t(this.getDuration())),{once:!0}))}));if(!e&&!n){const t=this.getMediaElement();t instanceof S&&(t.duration=a)}if(s)this.decodedData=i.createBuffer(s,a||0);else if(n){const t=yield n.arrayBuffer();this.decodedData=yield i.decode(t,this.options.sampleRate)}this.decodedData&&(this.emit(\"decode\",this.getDuration()),this.renderer.render(this.decodedData)),this.emit(\"ready\",this.getDuration())}))}load(e,i,n){return t(this,void 0,void 0,(function*(){try{return yield this.loadAudio(e,void 0,i,n)}catch(t){throw this.emit(\"error\",t),t}}))}loadBlob(e,i,n){return t(this,void 0,void 0,(function*(){try{return yield this.loadAudio(\"\",e,i,n)}catch(t){throw this.emit(\"error\",t),t}}))}zoom(t){if(!this.decodedData)throw new Error(\"No audio loaded\");this.renderer.zoom(t),this.emit(\"zoom\",t)}getDecodedData(){return this.decodedData}exportPeaks({channels:t=2,maxLength:e=8e3,precision:i=1e4}={}){if(!this.decodedData)throw new Error(\"The audio has not been decoded yet\");const n=Math.min(t,this.decodedData.numberOfChannels),s=[];for(let t=0;t<n;t++){const n=this.decodedData.getChannelData(t),r=[],o=n.length/e;for(let t=0;t<e;t++){const e=n.slice(Math.floor(t*o),Math.ceil((t+1)*o));let s=0;for(let t=0;t<e.length;t++){const i=e[t];Math.abs(i)>Math.abs(s)&&(s=i)}r.push(Math.round(s*i)/i)}s.push(r)}return s}getDuration(){let t=super.getDuration()||0;return 0!==t&&t!==1/0||!this.decodedData||(t=this.decodedData.duration),t}toggleInteraction(t){this.options.interact=t}setTime(t){this.stopAtPosition=null,super.setTime(t),this.updateProgress(t),this.emit(\"timeupdate\",t)}seekTo(t){const e=this.getDuration()*t;this.setTime(e)}play(e,i){const n=Object.create(null,{play:{get:()=>super.play}});return t(this,void 0,void 0,(function*(){null!=e&&this.setTime(e);const t=yield n.play.call(this);return null!=i&&(this.media instanceof S?this.media.stopAt(i):this.stopAtPosition=i),t}))}playPause(){return t(this,void 0,void 0,(function*(){return this.isPlaying()?this.pause():this.play()}))}stop(){this.pause(),this.setTime(0)}skip(t){this.setTime(this.getCurrentTime()+t)}empty(){this.load(\"\",[[0]],.001)}setMediaElement(t){this.unsubscribePlayerEvents(),super.setMediaElement(t),this.initPlayerEvents()}exportImage(){return t(this,arguments,void 0,(function*(t=\"image/png\",e=1,i=\"dataURL\"){return this.renderer.exportImage(t,e,i)}))}destroy(){var t;this.emit(\"destroy\"),null===(t=this.abortController)||void 0===t||t.abort(),this.plugins.forEach((t=>t.destroy())),this.subscriptions.forEach((t=>t())),this.unsubscribePlayerEvents(),this.reactiveCleanups.forEach((t=>t())),this.reactiveCleanups=[],this.timer.destroy(),this.renderer.destroy(),super.destroy()}}w.BasePlugin=class extends e{constructor(t){super(),this.subscriptions=[],this.isDestroyed=!1,this.options=t}onInit(){}_init(t){this.isDestroyed&&(this.subscriptions=[],this.isDestroyed=!1),this.wavesurfer=t,this.onInit()}destroy(){this.emit(\"destroy\"),this.subscriptions.forEach((t=>t())),this.subscriptions=[],this.isDestroyed=!0,this.wavesurfer=void 0}},w.dom=r;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy93YXZlc3VyZmVyLmpzL2Rpc3Qvd2F2ZXN1cmZlci5lc20uanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLG9CQUFvQiwwQ0FBMEMsY0FBYyxJQUFJLGFBQWEsU0FBUyxNQUFNLGNBQWMsSUFBSSxjQUFjLFNBQVMsTUFBTSxjQUFjLE1BQU0saUVBQWlFLEtBQUssY0FBYywrQkFBK0IsR0FBRyxvREFBb0QsUUFBUSxjQUFjLGtCQUFrQixVQUFVLHlFQUF5RSxpQkFBaUIsc0JBQXNCLGlEQUFpRCxpREFBaUQsUUFBUSxNQUFNLHNEQUFzRCxVQUFVLG9CQUFvQixRQUFRLEVBQUUsUUFBUSxrQkFBa0IsYUFBYSw0REFBNEQsU0FBUyxxQkFBcUIseUNBQXlDLDBCQUEwQixhQUFhLEVBQUUsSUFBSSxrQ0FBa0MsUUFBUSxXQUFXLEdBQUcsNEJBQTRCLDZFQUE2RSwyREFBMkQsOEhBQThILGFBQWEsYUFBYSwyQkFBMkIsaUJBQWlCLFFBQVEsWUFBWSxJQUFJLEtBQUssdUJBQXVCLFdBQVcsNkJBQTZCLElBQUksYUFBYSxJQUFJLHFFQUFxRSxPQUFPLG9HQUFvRyxhQUFhLGlDQUFpQyxHQUFHLFlBQVksU0FBUyw0R0FBNEcsZ0JBQWdCLDhFQUE4RSxpTkFBaU4sMEdBQTBHLFNBQVMsa0JBQWtCLGlCQUFpQixFQUFFLG1DQUFtQyxxQkFBcUIseUNBQXlDLEVBQUUsU0FBUywwQkFBMEIseUNBQXlDLHlCQUF5QixvREFBb0QsRUFBRSxJQUFJLFVBQVUsR0FBRyxhQUFhLElBQUkscUJBQXFCLGtDQUFrQyw4QkFBOEIsd0VBQXdFLFFBQVEsWUFBWSxnQ0FBZ0MsNEJBQTRCLE1BQU0sSUFBSSxNQUFNLEVBQUUsdUJBQXVCLGdCQUFnQixZQUFZLFNBQVMsNENBQTRDLEdBQUcsdUJBQXVCLEtBQUssY0FBYyxRQUFRLGdCQUFnQixPQUFPLFlBQVksU0FBUyxRQUFRLDJDQUEyQyxXQUFXLGVBQWUsMENBQTBDLGdCQUFnQixlQUFl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QUFzQyxTQUFTLDhCQUE4QixHQUFHLFFBQVEsd0RBQXdELDBDQUEwQyxpQkFBaUIsd0JBQXdCLGFBQWEsNkNBQTZDLEdBQUcsRUFBRSwyRUFBMkUsMkRBQTJELFlBQVksSUFBSSxLQUFLLDZEQUE2RCxZQUFZLElBQUksS0FBSyxvREFBb0QsUUFBUSxZQUFZLFdBQVcsS0FBSyxhQUFhLCtCQUErQiwwQkFBMEIsVUFBVSxTQUFTLGNBQWMsNkJBQTZCLDBFQUEwRSxxQkFBcUIsd0JBQXdCLFdBQVcsMkZBQTJGLFVBQVUsNkJBQTZCLGdCQUFnQixVQUFVLDRCQUE0QixNQUFNLG9CQUFvQixFQUFFLHlDQUF5Qyx5QkFBeUIsZ0NBQWdDLHVGQUF1RixHQUFHLFlBQVkseUNBQXlDLGlEQUFpRCxHQUFHLE9BQU8sNkJBQTZCLFFBQVEsc0NBQXNDLFFBQVEseUJBQXlCLG1CQUFtQixnRkFBZ0YsY0FBYyx5RUFBeUUsd0NBQXdDLEdBQUcsVUFBVSxNQUFNLHNUQUFzVCw2QkFBNkIsZUFBZSxpRUFBaUUsVUFBVSxTQUFTLDhGQUE4RixVQUFVLDRIQUE0SCxTQUE4QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvd2F2ZXN1cmZlci5qcy9kaXN0L3dhdmVzdXJmZXIuZXNtLmpzPzVkZGMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gdCh0LGUsaSxuKXtyZXR1cm4gbmV3KGl8fChpPVByb21pc2UpKSgoZnVuY3Rpb24ocyxyKXtmdW5jdGlvbiBvKHQpe3RyeXtsKG4ubmV4dCh0KSl9Y2F0Y2godCl7cih0KX19ZnVuY3Rpb24gYSh0KXt0cnl7bChuLnRocm93KHQpKX1jYXRjaCh0KXtyKHQpfX1mdW5jdGlvbiBsKHQpe3ZhciBlO3QuZG9uZT9zKHQudmFsdWUpOihlPXQudmFsdWUsZSBpbnN0YW5jZW9mIGk/ZTpuZXcgaSgoZnVuY3Rpb24odCl7dChlKX0pKSkudGhlbihvLGEpfWwoKG49bi5hcHBseSh0LGV8fFtdKSkubmV4dCgpKX0pKX1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTdXBwcmVzc2VkRXJyb3ImJlN1cHByZXNzZWRFcnJvcjtjbGFzcyBle2NvbnN0cnVjdG9yKCl7dGhpcy5saXN0ZW5lcnM9e319b24odCxlLGkpe2lmKHRoaXMubGlzdGVuZXJzW3RdfHwodGhpcy5saXN0ZW5lcnNbdF09bmV3IFNldCksbnVsbD09aT92b2lkIDA6aS5vbmNlKXtjb25zdCBpPSguLi5uKT0+e3RoaXMudW4odCxpKSxlKC4uLm4pfTtyZXR1cm4gdGhpcy5saXN0ZW5lcnNbdF0uYWRkKGkpLCgpPT50aGlzLnVuKHQsaSl9cmV0dXJuIHRoaXMubGlzdGVuZXJzW3RdLmFkZChlKSwoKT0+dGhpcy51bih0LGUpfXVuKHQsZSl7dmFyIGk7bnVsbD09PShpPXRoaXMubGlzdGVuZXJzW3RdKXx8dm9pZCAwPT09aXx8aS5kZWxldGUoZSl9b25jZSh0LGUpe3JldHVybiB0aGlzLm9uKHQsZSx7b25jZTohMH0pfXVuQWxsKCl7dGhpcy5saXN0ZW5lcnM9e319ZW1pdCh0LC4uLmUpe3RoaXMubGlzdGVuZXJzW3RdJiZ0aGlzLmxpc3RlbmVyc1t0XS5mb3JFYWNoKCh0PT50KC4uLmUpKSl9fWNvbnN0IGk9e2RlY29kZTpmdW5jdGlvbihlLGkpe3JldHVybiB0KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3QgdD1uZXcgQXVkaW9Db250ZXh0KHtzYW1wbGVSYXRlOml9KTt0cnl7cmV0dXJuIHlpZWxkIHQuZGVjb2RlQXVkaW9EYXRhKGUpfWZpbmFsbHl7dC5jbG9zZSgpfX0pKX0sY3JlYXRlQnVmZmVyOmZ1bmN0aW9uKHQsZSl7aWYoIXR8fDA9PT10Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJjaGFubmVsRGF0YSBtdXN0IGJlIGEgbm9uLWVtcHR5IGFycmF5XCIpO2lmKGU8PTApdGhyb3cgbmV3IEVycm9yKFwiZHVyYXRpb24gbXVzdCBiZSBncmVhdGVyIHRoYW4gMFwiKTtpZihcIm51bWJlclwiPT10eXBlb2YgdFswXSYmKHQ9W3RdKSwhdFswXXx8MD09PXRbMF0ubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcImNoYW5uZWxEYXRhIG11c3QgY29udGFpbiBub24tZW1wdHkgY2hhbm5lbCBhcnJheXNcIik7IWZ1bmN0aW9uKHQpe2NvbnN0IGU9dFswXTtpZihlLnNvbWUoKHQ9PnQ+MXx8dDwtMSkpKXtjb25zdCBpPWUubGVuZ3RoO2xldCBuPTA7Zm9yKGxldCB0PTA7dDxpO3QrKyl7Y29uc3QgaT1NYXRoLmFicyhlW3RdKTtpPm4mJihuPWkpfWZvcihjb25zdCBlIG9mIHQpZm9yKGxldCB0PTA7dDxpO3QrKyllW3RdLz1ufX0odCk7Y29uc3QgaT10Lm1hcCgodD0+dCBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheT90OkZsb2F0MzJBcnJheS5mcm9tKHQpKSk7cmV0dXJue2R1cmF0aW9uOmUsbGVuZ3RoOmlbMF0ubGVuZ3RoLHNhbXBsZVJhdGU6aVswXS5sZW5ndGgvZSxudW1iZXJPZkNoYW5uZWxzOmkubGVuZ3RoLGdldENoYW5uZWxEYXRhOnQ9Pntjb25zdCBlPWlbdF07aWYoIWUpdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsICR7dH0gbm90IGZvdW5kYCk7cmV0dXJuIGV9LGNvcHlGcm9tQ2hhbm5lbDpBdWRpb0J1ZmZlci5wcm90b3R5cGUuY29weUZyb21DaGFubmVsLGNvcHlUb0NoYW5uZWw6QXVkaW9CdWZmZXIucHJvdG90eXBlLmNvcHlUb0NoYW5uZWx9fX07ZnVuY3Rpb24gbih0LGUpe2NvbnN0IGk9ZS54bWxucz9kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoZS54bWxucyx0KTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KHQpO2Zvcihjb25zdFt0LHNdb2YgT2JqZWN0LmVudHJpZXMoZSkpaWYoXCJjaGlsZHJlblwiPT09dCYmcylmb3IoY29uc3RbdCxlXW9mIE9iamVjdC5lbnRyaWVzKHMpKWUgaW5zdGFuY2VvZiBOb2RlP2kuYXBwZW5kQ2hpbGQoZSk6XCJzdHJpbmdcIj09dHlwZW9mIGU/aS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShlKSk6aS5hcHBlbmRDaGlsZChuKHQsZSkpO2Vsc2VcInN0eWxlXCI9PT10P09iamVjdC5hc3NpZ24oaS5zdHlsZSxzKTpcInRleHRDb250ZW50XCI9PT10P2kudGV4dENvbnRlbnQ9czppLnNldEF0dHJpYnV0ZSh0LHMudG9TdHJpbmcoKSk7cmV0dXJuIGl9ZnVuY3Rpb24gcyh0LGUsaSl7Y29uc3Qgcz1uKHQsZXx8e30pO3JldHVybiBudWxsPT1pfHxpLmFwcGVuZENoaWxkKHMpLHN9dmFyIHI9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsY3JlYXRlRWxlbWVudDpzLGRlZmF1bHQ6c30pO2NvbnN0IG89e2ZldGNoQmxvYjpmdW5jdGlvbihlLGksbil7cmV0dXJuIHQodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtjb25zdCBzPXlpZWxkIGZldGNoKGUsbik7aWYocy5zdGF0dXM+PTQwMCl0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCAke2V9OiAke3Muc3RhdHVzfSAoJHtzLnN0YXR1c1RleHR9KWApO3JldHVybiBmdW5jdGlvbihlLGkpe3QodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtpZighZS5ib2R5fHwhZS5oZWFkZXJzKXJldHVybjtjb25zdCB0PWUuYm9keS5nZXRSZWFkZXIoKSxuPU51bWJlcihlLmhlYWRlcnMuZ2V0KFwiQ29udGVudC1MZW5ndGhcIikpfHwwO2xldCBzPTA7Y29uc3Qgcj10PT57cys9KG51bGw9PXQ/dm9pZCAwOnQubGVuZ3RoKXx8MDtjb25zdCBlPU1hdGgucm91bmQocy9uKjEwMCk7aShlKX07dHJ5e2Zvcig7Oyl7Y29uc3QgZT15aWVsZCB0LnJlYWQoKTtpZihlLmRvbmUpYnJlYWs7cihlLnZhbHVlKX19Y2F0Y2godCl7Y29uc29sZS53YXJuKFwiUHJvZ3Jlc3MgdHJhY2tpbmcgZXJyb3I6XCIsdCl9fSkpfShzLmNsb25lKCksaSkscy5ibG9iKCl9KSl9fTtmdW5jdGlvbiBhKHQpe2xldCBlPXQ7Y29uc3QgaT1uZXcgU2V0O3JldHVybntnZXQgdmFsdWUoKXtyZXR1cm4gZX0sc2V0KHQpe09iamVjdC5pcyhlLHQpfHwoZT10LGkuZm9yRWFjaCgodD0+dChlKSkpKX0sdXBkYXRlKHQpe3RoaXMuc2V0KHQoZSkpfSxzdWJzY3JpYmU6dD0+KGkuYWRkKHQpLCgpPT5pLmRlbGV0ZSh0KSl9fWZ1bmN0aW9uIGwodCxlKXtjb25zdCBpPWEodCgpKTtyZXR1cm4gZS5mb3JFYWNoKChlPT5lLnN1YnNjcmliZSgoKCk9Pntjb25zdCBlPXQoKTtPYmplY3QuaXMoaS52YWx1ZSxlKXx8aS5zZXQoZSl9KSkpKSx7Z2V0IHZhbHVlKCl7cmV0dXJuIGkudmFsdWV9LHN1YnNjcmliZTp0PT5pLnN1YnNjcmliZSh0KX19ZnVuY3Rpb24gaCh0LGUpe2xldCBpO2NvbnN0IG49KCk9PntpJiYoaSgpLGk9dm9pZCAwKSxpPXQoKX0scz1lLm1hcCgodD0+dC5zdWJzY3JpYmUobikpKTtyZXR1cm4gbigpLCgpPT57aSYmKGkoKSxpPXZvaWQgMCkscy5mb3JFYWNoKCh0PT50KCkpKX19Y2xhc3MgdSBleHRlbmRzIGV7Z2V0IGlzUGxheWluZ1NpZ25hbCgpe3JldHVybiB0aGlzLl9pc1BsYXlpbmd9Z2V0IGN1cnJlbnRUaW1lU2lnbmFsKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRUaW1lfWdldCBkdXJhdGlvblNpZ25hbCgpe3JldHVybiB0aGlzLl9kdXJhdGlvbn1nZXQgdm9sdW1lU2lnbmFsKCl7cmV0dXJuIHRoaXMuX3ZvbHVtZX1nZXQgbXV0ZWRTaWduYWwoKXtyZXR1cm4gdGhpcy5fbXV0ZWR9Z2V0IHBsYXliYWNrUmF0ZVNpZ25hbCgpe3JldHVybiB0aGlzLl9wbGF5YmFja1JhdGV9Z2V0IHNlZWtpbmdTaWduYWwoKXtyZXR1cm4gdGhpcy5fc2Vla2luZ31jb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMuaXNFeHRlcm5hbE1lZGlhPSExLHRoaXMucmVhY3RpdmVNZWRpYUV2ZW50Q2xlYW51cHM9W10sdC5tZWRpYT8odGhpcy5tZWRpYT10Lm1lZGlhLHRoaXMuaXNFeHRlcm5hbE1lZGlhPSEwKTp0aGlzLm1lZGlhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhdWRpb1wiKSx0aGlzLl9pc1BsYXlpbmc9YSghMSksdGhpcy5fY3VycmVudFRpbWU9YSgwKSx0aGlzLl9kdXJhdGlvbj1hKDApLHRoaXMuX3ZvbHVtZT1hKHRoaXMubWVkaWEudm9sdW1lKSx0aGlzLl9tdXRlZD1hKHRoaXMubWVkaWEubXV0ZWQpLHRoaXMuX3BsYXliYWNrUmF0ZT1hKHRoaXMubWVkaWEucGxheWJhY2tSYXRlfHwxKSx0aGlzLl9zZWVraW5nPWEoITEpLHRoaXMuc2V0dXBSZWFjdGl2ZU1lZGlhRXZlbnRzKCksdC5tZWRpYUNvbnRyb2xzJiYodGhpcy5tZWRpYS5jb250cm9scz0hMCksdC5hdXRvcGxheSYmKHRoaXMubWVkaWEuYXV0b3BsYXk9ITApLG51bGwhPXQucGxheWJhY2tSYXRlJiZ0aGlzLm9uTWVkaWFFdmVudChcImNhbnBsYXlcIiwoKCk9PntudWxsIT10LnBsYXliYWNrUmF0ZSYmKHRoaXMubWVkaWEucGxheWJhY2tSYXRlPXQucGxheWJhY2tSYXRlKX0pLHtvbmNlOiEwfSl9c2V0dXBSZWFjdGl2ZU1lZGlhRXZlbnRzKCl7dGhpcy5yZWFjdGl2ZU1lZGlhRXZlbnRDbGVhbnVwcy5wdXNoKHRoaXMub25NZWRpYUV2ZW50KFwicGxheVwiLCgoKT0+e3RoaXMuX2lzUGxheWluZy5zZXQoITApfSkpKSx0aGlzLnJlYWN0aXZlTWVkaWFFdmVudENsZWFudXBzLnB1c2godGhpcy5vbk1lZGlhRXZlbnQoXCJwYXVzZVwiLCgoKT0+e3RoaXMuX2lzUGxheWluZy5zZXQoITEpfSkpKSx0aGlzLnJlYWN0aXZlTWVkaWFFdmVudENsZWFudXBzLnB1c2godGhpcy5vbk1lZGlhRXZlbnQoXCJlbmRlZFwiLCgoKT0+e3RoaXMuX2lzUGxheWluZy5zZXQoITEpfSkpKSx0aGlzLnJlYWN0aXZlTWVkaWFFdmVudENsZWFudXBzLnB1c2godGhpcy5vbk1lZGlhRXZlbnQoXCJ0aW1ldXBkYXRlXCIsKCgpPT57dGhpcy5fY3VycmVudFRpbWUuc2V0KHRoaXMubWVkaWEuY3VycmVudFRpbWUpfSkpKSx0aGlzLnJlYWN0aXZlTWVkaWFFdmVudENsZWFudXBzLnB1c2godGhpcy5vbk1lZGlhRXZlbnQoXCJkdXJhdGlvbmNoYW5nZVwiLCgoKT0+e3RoaXMuX2R1cmF0aW9uLnNldCh0aGlzLm1lZGlhLmR1cmF0aW9ufHwwKX0pKSksdGhpcy5yZWFjdGl2ZU1lZGlhRXZlbnRDbGVhbnVwcy5wdXNoKHRoaXMub25NZWRpYUV2ZW50KFwibG9hZGVkbWV0YWRhdGFcIiwoKCk9Pnt0aGlzLl9kdXJhdGlvbi5zZXQodGhpcy5tZWRpYS5kdXJhdGlvbnx8MCl9KSkpLHRoaXMucmVhY3RpdmVNZWRpYUV2ZW50Q2xlYW51cHMucHVzaCh0aGlzLm9uTWVkaWFFdmVudChcInNlZWtpbmdcIiwoKCk9Pnt0aGlzLl9zZWVraW5nLnNldCghMCl9KSkpLHRoaXMucmVhY3RpdmVNZWRpYUV2ZW50Q2xlYW51cHMucHVzaCh0aGlzLm9uTWVkaWFFdmVudChcInNlZWtlZFwiLCgoKT0+e3RoaXMuX3NlZWtpbmcuc2V0KCExKX0pKSksdGhpcy5yZWFjdGl2ZU1lZGlhRXZlbnRDbGVhbnVwcy5wdXNoKHRoaXMub25NZWRpYUV2ZW50KFwidm9sdW1lY2hhbmdlXCIsKCgpPT57dGhpcy5fdm9sdW1lLnNldCh0aGlzLm1lZGlhLnZvbHVtZSksdGhpcy5fbXV0ZWQuc2V0KHRoaXMubWVkaWEubXV0ZWQpfSkpKSx0aGlzLnJlYWN0aXZlTWVkaWFFdmVudENsZWFudXBzLnB1c2godGhpcy5vbk1lZGlhRXZlbnQoXCJyYXRlY2hhbmdlXCIsKCgpPT57dGhpcy5fcGxheWJhY2tSYXRlLnNldCh0aGlzLm1lZGlhLnBsYXliYWNrUmF0ZSl9KSkpfW9uTWVkaWFFdmVudCh0LGUsaSl7cmV0dXJuIHRoaXMubWVkaWEuYWRkRXZlbnRMaXN0ZW5lcih0LGUsaSksKCk9PnRoaXMubWVkaWEucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LGUsaSl9Z2V0U3JjKCl7cmV0dXJuIHRoaXMubWVkaWEuY3VycmVudFNyY3x8dGhpcy5tZWRpYS5zcmN8fFwiXCJ9cmV2b2tlU3JjKCl7Y29uc3QgdD10aGlzLmdldFNyYygpO3Quc3RhcnRzV2l0aChcImJsb2I6XCIpJiZVUkwucmV2b2tlT2JqZWN0VVJMKHQpfWNhblBsYXlUeXBlKHQpe3JldHVyblwiXCIhPT10aGlzLm1lZGlhLmNhblBsYXlUeXBlKHQpfXNldFNyYyh0LGUpe2NvbnN0IGk9dGhpcy5nZXRTcmMoKTtpZih0JiZpPT09dClyZXR1cm47dGhpcy5yZXZva2VTcmMoKTtjb25zdCBuPWUgaW5zdGFuY2VvZiBCbG9iJiYodGhpcy5jYW5QbGF5VHlwZShlLnR5cGUpfHwhdCk/VVJMLmNyZWF0ZU9iamVjdFVSTChlKTp0O2lmKGkmJnRoaXMubWVkaWEucmVtb3ZlQXR0cmlidXRlKFwic3JjXCIpLG58fHQpdHJ5e3RoaXMubWVkaWEuc3JjPW59Y2F0Y2goZSl7dGhpcy5tZWRpYS5zcmM9dH19ZGVzdHJveSgpe3RoaXMucmVhY3RpdmVNZWRpYUV2ZW50Q2xlYW51cHMuZm9yRWFjaCgodD0+dCgpKSksdGhpcy5yZWFjdGl2ZU1lZGlhRXZlbnRDbGVhbnVwcz1bXSx0aGlzLmlzRXh0ZXJuYWxNZWRpYXx8KHRoaXMubWVkaWEucGF1c2UoKSx0aGlzLnJldm9rZVNyYygpLHRoaXMubWVkaWEucmVtb3ZlQXR0cmlidXRlKFwic3JjXCIpLHRoaXMubWVkaWEubG9hZCgpLHRoaXMubWVkaWEucmVtb3ZlKCkpfXNldE1lZGlhRWxlbWVudCh0KXt0aGlzLnJlYWN0aXZlTWVkaWFFdmVudENsZWFudXBzLmZvckVhY2goKHQ9PnQoKSkpLHRoaXMucmVhY3RpdmVNZWRpYUV2ZW50Q2xlYW51cHM9W10sdGhpcy5tZWRpYT10LHRoaXMuc2V0dXBSZWFjdGl2ZU1lZGlhRXZlbnRzKCl9cGxheSgpe3JldHVybiB0KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dHJ5e3JldHVybiB5aWVsZCB0aGlzLm1lZGlhLnBsYXkoKX1jYXRjaCh0KXtpZih0IGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uJiZcIkFib3J0RXJyb3JcIj09PXQubmFtZSlyZXR1cm47dGhyb3cgdH19KSl9cGF1c2UoKXt0aGlzLm1lZGlhLnBhdXNlKCl9aXNQbGF5aW5nKCl7cmV0dXJuIXRoaXMubWVkaWEucGF1c2VkJiYhdGhpcy5tZWRpYS5lbmRlZH1zZXRUaW1lKHQpe3RoaXMubWVkaWEuY3VycmVudFRpbWU9TWF0aC5tYXgoMCxNYXRoLm1pbih0LHRoaXMuZ2V0RHVyYXRpb24oKSkpfWdldER1cmF0aW9uKCl7cmV0dXJuIHRoaXMubWVkaWEuZHVyYXRpb259Z2V0Q3VycmVudFRpbWUoKXtyZXR1cm4gdGhpcy5tZWRpYS5jdXJyZW50VGltZX1nZXRWb2x1bWUoKXtyZXR1cm4gdGhpcy5tZWRpYS52b2x1bWV9c2V0Vm9sdW1lKHQpe3RoaXMubWVkaWEudm9sdW1lPXR9Z2V0TXV0ZWQoKXtyZXR1cm4gdGhpcy5tZWRpYS5tdXRlZH1zZXRNdXRlZCh0KXt0aGlzLm1lZGlhLm11dGVkPXR9Z2V0UGxheWJhY2tSYXRlKCl7cmV0dXJuIHRoaXMubWVkaWEucGxheWJhY2tSYXRlfWlzU2Vla2luZygpe3JldHVybiB0aGlzLm1lZGlhLnNlZWtpbmd9c2V0UGxheWJhY2tSYXRlKHQsZSl7bnVsbCE9ZSYmKHRoaXMubWVkaWEucHJlc2VydmVzUGl0Y2g9ZSksdGhpcy5tZWRpYS5wbGF5YmFja1JhdGU9dH1nZXRNZWRpYUVsZW1lbnQoKXtyZXR1cm4gdGhpcy5tZWRpYX1zZXRTaW5rSWQodCl7cmV0dXJuIHRoaXMubWVkaWEuc2V0U2lua0lkKHQpfX1mdW5jdGlvbiBjKHttYXhUb3A6dCxtYXhCb3R0b206ZSxoYWxmSGVpZ2h0OmksdlNjYWxlOm4sYmFyTWluSGVpZ2h0OnM9MCxiYXJBbGlnbjpyfSl7bGV0IG89TWF0aC5yb3VuZCh0Kmkqbik7bGV0IGE9bytNYXRoLnJvdW5kKGUqaSpuKXx8MTtyZXR1cm4gYTxzJiYoYT1zLHJ8fChvPWEvMikpLHt0b3BIZWlnaHQ6byx0b3RhbEhlaWdodDphfX1mdW5jdGlvbiBkKHtiYXJBbGlnbjp0LGhhbGZIZWlnaHQ6ZSx0b3BIZWlnaHQ6aSx0b3RhbEhlaWdodDpuLGNhbnZhc0hlaWdodDpzfSl7cmV0dXJuXCJ0b3BcIj09PXQ/MDpcImJvdHRvbVwiPT09dD9zLW46ZS1pfWZ1bmN0aW9uIHAodCxlLGkpe2NvbnN0IG49ZS10LmxlZnQscz1pLXQudG9wO3JldHVybltuL3Qud2lkdGgscy90LmhlaWdodF19ZnVuY3Rpb24gbSh0KXtyZXR1cm4gQm9vbGVhbih0LmJhcldpZHRofHx0LmJhckdhcHx8dC5iYXJBbGlnbil9ZnVuY3Rpb24gZyh0LGUpe2lmKCFtKGUpKXJldHVybiB0O2NvbnN0IGk9ZS5iYXJXaWR0aHx8LjUsbj1pKyhlLmJhckdhcHx8aS8yKTtyZXR1cm4gMD09PW4/dDpNYXRoLmZsb29yKHQvbikqbn1mdW5jdGlvbiB2KHtzY3JvbGxMZWZ0OnQsdG90YWxXaWR0aDplLG51bUNhbnZhc2VzOml9KXtpZigwPT09ZSlyZXR1cm5bMF07Y29uc3Qgbj10L2Uscz1NYXRoLmZsb29yKG4qaSk7cmV0dXJuW3MtMSxzLHMrMV19ZnVuY3Rpb24gZih0KXtjb25zdCBlPXQuX2NsZWFudXA7XCJmdW5jdGlvblwiPT10eXBlb2YgZSYmZSgpfWZ1bmN0aW9uIGIodCl7Y29uc3QgZT1hKHtzY3JvbGxMZWZ0OnQuc2Nyb2xsTGVmdCxzY3JvbGxXaWR0aDp0LnNjcm9sbFdpZHRoLGNsaWVudFdpZHRoOnQuY2xpZW50V2lkdGh9KSxpPWwoKCgpPT5mdW5jdGlvbih0KXtjb25zdHtzY3JvbGxMZWZ0OmUsc2Nyb2xsV2lkdGg6aSxjbGllbnRXaWR0aDpufT10O2lmKDA9PT1pKXJldHVybntzdGFydFg6MCxlbmRYOjF9O2NvbnN0IHM9ZS9pLHI9KGUrbikvaTtyZXR1cm57c3RhcnRYOk1hdGgubWF4KDAsTWF0aC5taW4oMSxzKSksZW5kWDpNYXRoLm1heCgwLE1hdGgubWluKDEscikpfX0oZS52YWx1ZSkpLFtlXSksbj1sKCgoKT0+ZnVuY3Rpb24odCl7cmV0dXJue2xlZnQ6dC5zY3JvbGxMZWZ0LHJpZ2h0OnQuc2Nyb2xsTGVmdCt0LmNsaWVudFdpZHRofX0oZS52YWx1ZSkpLFtlXSkscz0oKT0+e2Uuc2V0KHtzY3JvbGxMZWZ0OnQuc2Nyb2xsTGVmdCxzY3JvbGxXaWR0aDp0LnNjcm9sbFdpZHRoLGNsaWVudFdpZHRoOnQuY2xpZW50V2lkdGh9KX07dC5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIscyx7cGFzc2l2ZTohMH0pO3JldHVybntzY3JvbGxEYXRhOmUscGVyY2VudGFnZXM6aSxib3VuZHM6bixjbGVhbnVwOigpPT57dC5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIscyksZihlKX19fWNsYXNzIHkgZXh0ZW5kcyBle2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIoKSx0aGlzLnRpbWVvdXRzPVtdLHRoaXMuaXNTY3JvbGxhYmxlPSExLHRoaXMuYXVkaW9EYXRhPW51bGwsdGhpcy5yZXNpemVPYnNlcnZlcj1udWxsLHRoaXMubGFzdENvbnRhaW5lcldpZHRoPTAsdGhpcy5pc0RyYWdnaW5nPSExLHRoaXMuc3Vic2NyaXB0aW9ucz1bXSx0aGlzLnVuc3Vic2NyaWJlT25TY3JvbGw9W10sdGhpcy5kcmFnU3RyZWFtPW51bGwsdGhpcy5zY3JvbGxTdHJlYW09bnVsbCx0aGlzLnN1YnNjcmlwdGlvbnM9W10sdGhpcy5vcHRpb25zPXQ7Y29uc3QgaT10aGlzLnBhcmVudEZyb21PcHRpb25zQ29udGFpbmVyKHQuY29udGFpbmVyKTt0aGlzLnBhcmVudD1pO2NvbnN0W24sc109dGhpcy5pbml0SHRtbCgpO2kuYXBwZW5kQ2hpbGQobiksdGhpcy5jb250YWluZXI9bix0aGlzLnNjcm9sbENvbnRhaW5lcj1zLnF1ZXJ5U2VsZWN0b3IoXCIuc2Nyb2xsXCIpLHRoaXMud3JhcHBlcj1zLnF1ZXJ5U2VsZWN0b3IoXCIud3JhcHBlclwiKSx0aGlzLmNhbnZhc1dyYXBwZXI9cy5xdWVyeVNlbGVjdG9yKFwiLmNhbnZhc2VzXCIpLHRoaXMucHJvZ3Jlc3NXcmFwcGVyPXMucXVlcnlTZWxlY3RvcihcIi5wcm9ncmVzc1wiKSx0aGlzLmN1cnNvcj1zLnF1ZXJ5U2VsZWN0b3IoXCIuY3Vyc29yXCIpLGUmJnMuYXBwZW5kQ2hpbGQoZSksdGhpcy5pbml0RXZlbnRzKCl9cGFyZW50RnJvbU9wdGlvbnNDb250YWluZXIodCl7bGV0IGU7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQ/ZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHQpOnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCYmKGU9dCksIWUpdGhyb3cgbmV3IEVycm9yKFwiQ29udGFpbmVyIG5vdCBmb3VuZFwiKTtyZXR1cm4gZX1pbml0RXZlbnRzKCl7dGhpcy53cmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCh0PT57Y29uc3QgZT10aGlzLndyYXBwZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksW2ksbl09cChlLHQuY2xpZW50WCx0LmNsaWVudFkpO3RoaXMuZW1pdChcImNsaWNrXCIsaSxuKX0pKSx0aGlzLndyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lcihcImRibGNsaWNrXCIsKHQ9Pntjb25zdCBlPXRoaXMud3JhcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxbaSxuXT1wKGUsdC5jbGllbnRYLHQuY2xpZW50WSk7dGhpcy5lbWl0KFwiZGJsY2xpY2tcIixpLG4pfSkpLCEwIT09dGhpcy5vcHRpb25zLmRyYWdUb1NlZWsmJlwib2JqZWN0XCIhPXR5cGVvZiB0aGlzLm9wdGlvbnMuZHJhZ1RvU2Vla3x8dGhpcy5pbml0RHJhZygpLHRoaXMuc2Nyb2xsU3RyZWFtPWIodGhpcy5zY3JvbGxDb250YWluZXIpO2NvbnN0IHQ9aCgoKCk9Pntjb25zdHtzdGFydFg6dCxlbmRYOmV9PXRoaXMuc2Nyb2xsU3RyZWFtLnBlcmNlbnRhZ2VzLnZhbHVlLHtsZWZ0OmkscmlnaHQ6bn09dGhpcy5zY3JvbGxTdHJlYW0uYm91bmRzLnZhbHVlO3RoaXMuZW1pdChcInNjcm9sbFwiLHQsZSxpLG4pfSksW3RoaXMuc2Nyb2xsU3RyZWFtLnBlcmNlbnRhZ2VzLHRoaXMuc2Nyb2xsU3RyZWFtLmJvdW5kc10pO2lmKHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKHQpLFwiZnVuY3Rpb25cIj09dHlwZW9mIFJlc2l6ZU9ic2VydmVyKXtjb25zdCB0PXRoaXMuY3JlYXRlRGVsYXkoMTAwKTt0aGlzLnJlc2l6ZU9ic2VydmVyPW5ldyBSZXNpemVPYnNlcnZlcigoKCk9Pnt0KCkudGhlbigoKCk9PnRoaXMub25Db250YWluZXJSZXNpemUoKSkpLmNhdGNoKCgoKT0+e30pKX0pKSx0aGlzLnJlc2l6ZU9ic2VydmVyLm9ic2VydmUodGhpcy5zY3JvbGxDb250YWluZXIpfX1vbkNvbnRhaW5lclJlc2l6ZSgpe2NvbnN0IHQ9dGhpcy5wYXJlbnQuY2xpZW50V2lkdGg7dD09PXRoaXMubGFzdENvbnRhaW5lcldpZHRoJiZcImF1dG9cIiE9PXRoaXMub3B0aW9ucy5oZWlnaHR8fCh0aGlzLmxhc3RDb250YWluZXJXaWR0aD10LHRoaXMucmVSZW5kZXIoKSx0aGlzLmVtaXQoXCJyZXNpemVcIikpfWluaXREcmFnKCl7aWYodGhpcy5kcmFnU3RyZWFtKXJldHVybjt0aGlzLmRyYWdTdHJlYW09ZnVuY3Rpb24odCxlPXt9KXtjb25zdHt0aHJlc2hvbGQ6aT0zLG1vdXNlQnV0dG9uOm49MCx0b3VjaERlbGF5OnM9MTAwfT1lLHI9YShudWxsKSxvPW5ldyBNYXAsbD1tYXRjaE1lZGlhKFwiKHBvaW50ZXI6IGNvYXJzZSlcIikubWF0Y2hlcztsZXQgaD0oKT0+e307Y29uc3QgdT1lPT57aWYoZS5idXR0b24hPT1uKXJldHVybjtpZihvLnNldChlLnBvaW50ZXJJZCxlKSxvLnNpemU+MSlyZXR1cm47bGV0IGE9ZS5jbGllbnRYLHU9ZS5jbGllbnRZLGM9ITE7Y29uc3QgZD1EYXRlLm5vdygpLHA9dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSx7bGVmdDptLHRvcDpnfT1wLHY9dD0+e2lmKHQuZGVmYXVsdFByZXZlbnRlZHx8by5zaXplPjEpcmV0dXJuO2lmKGwmJkRhdGUubm93KCktZDxzKXJldHVybjtjb25zdCBlPXQuY2xpZW50WCxuPXQuY2xpZW50WSxoPWUtYSxwPW4tdTsoY3x8TWF0aC5hYnMoaCk+aXx8TWF0aC5hYnMocCk+aSkmJih0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSxjfHwoci5zZXQoe3R5cGU6XCJzdGFydFwiLHg6YS1tLHk6dS1nfSksYz0hMCksci5zZXQoe3R5cGU6XCJtb3ZlXCIseDplLW0seTpuLWcsZGVsdGFYOmgsZGVsdGFZOnB9KSxhPWUsdT1uKX0sZj10PT57aWYoby5kZWxldGUodC5wb2ludGVySWQpLGMpe2NvbnN0IGU9dC5jbGllbnRYLGk9dC5jbGllbnRZO3Iuc2V0KHt0eXBlOlwiZW5kXCIseDplLW0seTppLWd9KX1oKCl9LGI9dD0+e28uZGVsZXRlKHQucG9pbnRlcklkKSx0LnJlbGF0ZWRUYXJnZXQmJnQucmVsYXRlZFRhcmdldCE9PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudHx8Zih0KX0seT10PT57YyYmKHQuc3RvcFByb3BhZ2F0aW9uKCksdC5wcmV2ZW50RGVmYXVsdCgpKX0sQz10PT57dC5kZWZhdWx0UHJldmVudGVkfHxvLnNpemU+MXx8YyYmdC5wcmV2ZW50RGVmYXVsdCgpfTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIix2KSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsZiksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJvdXRcIixiKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcmNhbmNlbFwiLGIpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIixDLHtwYXNzaXZlOiExfSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIseSx7Y2FwdHVyZTohMH0pLGg9KCk9Pntkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIix2KSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsZiksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJvdXRcIixiKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcmNhbmNlbFwiLGIpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIixDKSxzZXRUaW1lb3V0KCgoKT0+e2RvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHkse2NhcHR1cmU6ITB9KX0pLDEwKX19O3JldHVybiB0LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLHUpLHtzaWduYWw6cixjbGVhbnVwOigpPT57aCgpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsdSksby5jbGVhcigpLGYocil9fX0odGhpcy53cmFwcGVyKTtjb25zdCB0PWgoKCgpPT57Y29uc3QgdD10aGlzLmRyYWdTdHJlYW0uc2lnbmFsLnZhbHVlO2lmKCF0KXJldHVybjtjb25zdCBlPXRoaXMud3JhcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCxpPShuPXQueC9lKTwwPzA6bj4xPzE6bjt2YXIgbjtcInN0YXJ0XCI9PT10LnR5cGU/KHRoaXMuaXNEcmFnZ2luZz0hMCx0aGlzLmVtaXQoXCJkcmFnc3RhcnRcIixpKSk6XCJtb3ZlXCI9PT10LnR5cGU/dGhpcy5lbWl0KFwiZHJhZ1wiLGkpOlwiZW5kXCI9PT10LnR5cGUmJih0aGlzLmlzRHJhZ2dpbmc9ITEsdGhpcy5lbWl0KFwiZHJhZ2VuZFwiLGkpKX0pLFt0aGlzLmRyYWdTdHJlYW0uc2lnbmFsXSk7dGhpcy5zdWJzY3JpcHRpb25zLnB1c2godCl9aW5pdEh0bWwoKXtjb25zdCB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksZT10LmF0dGFjaFNoYWRvdyh7bW9kZTpcIm9wZW5cIn0pLGk9dGhpcy5vcHRpb25zLmNzcE5vbmNlJiZcInN0cmluZ1wiPT10eXBlb2YgdGhpcy5vcHRpb25zLmNzcE5vbmNlP3RoaXMub3B0aW9ucy5jc3BOb25jZS5yZXBsYWNlKC9cIi9nLFwiXCIpOlwiXCI7cmV0dXJuIGUuaW5uZXJIVE1MPWBcXG4gICAgICA8c3R5bGUke2k/YCBub25jZT1cIiR7aX1cImA6XCJcIn0+XFxuICAgICAgICA6aG9zdCB7XFxuICAgICAgICAgIHVzZXItc2VsZWN0OiBub25lO1xcbiAgICAgICAgICBtaW4td2lkdGg6IDFweDtcXG4gICAgICAgIH1cXG4gICAgICAgIDpob3N0IGF1ZGlvIHtcXG4gICAgICAgICAgZGlzcGxheTogYmxvY2s7XFxuICAgICAgICAgIHdpZHRoOiAxMDAlO1xcbiAgICAgICAgfVxcbiAgICAgICAgOmhvc3QgLnNjcm9sbCB7XFxuICAgICAgICAgIG92ZXJmbG93LXg6IGF1dG87XFxuICAgICAgICAgIG92ZXJmbG93LXk6IGhpZGRlbjtcXG4gICAgICAgICAgd2lkdGg6IDEwMCU7XFxuICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gICAgICAgIH1cXG4gICAgICAgIDpob3N0IC5ub1Njcm9sbGJhciB7XFxuICAgICAgICAgIHNjcm9sbGJhci1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICAgICAgICAgIHNjcm9sbGJhci13aWR0aDogbm9uZTtcXG4gICAgICAgIH1cXG4gICAgICAgIDpob3N0IC5ub1Njcm9sbGJhcjo6LXdlYmtpdC1zY3JvbGxiYXIge1xcbiAgICAgICAgICBkaXNwbGF5OiBub25lO1xcbiAgICAgICAgICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XFxuICAgICAgICB9XFxuICAgICAgICA6aG9zdCAud3JhcHBlciB7XFxuICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gICAgICAgICAgb3ZlcmZsb3c6IHZpc2libGU7XFxuICAgICAgICAgIHotaW5kZXg6IDI7XFxuICAgICAgICB9XFxuICAgICAgICA6aG9zdCAuY2FudmFzZXMge1xcbiAgICAgICAgICBtaW4taGVpZ2h0OiAke3RoaXMuZ2V0SGVpZ2h0KHRoaXMub3B0aW9ucy5oZWlnaHQsdGhpcy5vcHRpb25zLnNwbGl0Q2hhbm5lbHMpfXB4O1xcbiAgICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcXG4gICAgICAgIH1cXG4gICAgICAgIDpob3N0IC5jYW52YXNlcyA+IGRpdiB7XFxuICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gICAgICAgIH1cXG4gICAgICAgIDpob3N0IGNhbnZhcyB7XFxuICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgICAgICAgIHRvcDogMDtcXG4gICAgICAgICAgaW1hZ2UtcmVuZGVyaW5nOiBwaXhlbGF0ZWQ7XFxuICAgICAgICB9XFxuICAgICAgICA6aG9zdCAucHJvZ3Jlc3Mge1xcbiAgICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcXG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICAgICAgICB6LWluZGV4OiAyO1xcbiAgICAgICAgICB0b3A6IDA7XFxuICAgICAgICAgIGxlZnQ6IDA7XFxuICAgICAgICAgIHdpZHRoOiAwO1xcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XFxuICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XFxuICAgICAgICB9XFxuICAgICAgICA6aG9zdCAucHJvZ3Jlc3MgPiBkaXYge1xcbiAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAgICAgICB9XFxuICAgICAgICA6aG9zdCAuY3Vyc29yIHtcXG4gICAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XFxuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgICAgICAgei1pbmRleDogNTtcXG4gICAgICAgICAgdG9wOiAwO1xcbiAgICAgICAgICBsZWZ0OiAwO1xcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XFxuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDJweDtcXG4gICAgICAgIH1cXG4gICAgICA8L3N0eWxlPlxcblxcbiAgICAgIDxkaXYgY2xhc3M9XCJzY3JvbGxcIiBwYXJ0PVwic2Nyb2xsXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVwid3JhcHBlclwiIHBhcnQ9XCJ3cmFwcGVyXCI+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYW52YXNlc1wiIHBhcnQ9XCJjYW52YXNlc1wiPjwvZGl2PlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3NcIiBwYXJ0PVwicHJvZ3Jlc3NcIj48L2Rpdj5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImN1cnNvclwiIHBhcnQ9XCJjdXJzb3JcIj48L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgIDwvZGl2PlxcbiAgICBgLFt0LGVdfXNldE9wdGlvbnModCl7aWYodGhpcy5vcHRpb25zLmNvbnRhaW5lciE9PXQuY29udGFpbmVyKXtjb25zdCBlPXRoaXMucGFyZW50RnJvbU9wdGlvbnNDb250YWluZXIodC5jb250YWluZXIpO2UuYXBwZW5kQ2hpbGQodGhpcy5jb250YWluZXIpLHRoaXMucGFyZW50PWV9ITAhPT10LmRyYWdUb1NlZWsmJlwib2JqZWN0XCIhPXR5cGVvZiB0aGlzLm9wdGlvbnMuZHJhZ1RvU2Vla3x8dGhpcy5pbml0RHJhZygpLHRoaXMub3B0aW9ucz10LHRoaXMucmVSZW5kZXIoKX1nZXRXcmFwcGVyKCl7cmV0dXJuIHRoaXMud3JhcHBlcn1nZXRXaWR0aCgpe3JldHVybiB0aGlzLnNjcm9sbENvbnRhaW5lci5jbGllbnRXaWR0aH1nZXRTY3JvbGwoKXtyZXR1cm4gdGhpcy5zY3JvbGxDb250YWluZXIuc2Nyb2xsTGVmdH1zZXRTY3JvbGwodCl7dGhpcy5zY3JvbGxDb250YWluZXIuc2Nyb2xsTGVmdD10fXNldFNjcm9sbFBlcmNlbnRhZ2UodCl7Y29uc3R7c2Nyb2xsV2lkdGg6ZX09dGhpcy5zY3JvbGxDb250YWluZXIsaT1lKnQ7dGhpcy5zZXRTY3JvbGwoaSl9ZGVzdHJveSgpe3ZhciB0O3RoaXMuc3Vic2NyaXB0aW9ucy5mb3JFYWNoKCh0PT50KCkpKSx0aGlzLmNvbnRhaW5lci5yZW1vdmUoKSx0aGlzLnJlc2l6ZU9ic2VydmVyJiYodGhpcy5yZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KCksdGhpcy5yZXNpemVPYnNlcnZlcj1udWxsKSxudWxsPT09KHQ9dGhpcy51bnN1YnNjcmliZU9uU2Nyb2xsKXx8dm9pZCAwPT09dHx8dC5mb3JFYWNoKCh0PT50KCkpKSx0aGlzLnVuc3Vic2NyaWJlT25TY3JvbGw9W10sdGhpcy5kcmFnU3RyZWFtJiYodGhpcy5kcmFnU3RyZWFtLmNsZWFudXAoKSx0aGlzLmRyYWdTdHJlYW09bnVsbCksdGhpcy5zY3JvbGxTdHJlYW0mJih0aGlzLnNjcm9sbFN0cmVhbS5jbGVhbnVwKCksdGhpcy5zY3JvbGxTdHJlYW09bnVsbCl9Y3JlYXRlRGVsYXkodD0xMCl7bGV0IGUsaTtjb25zdCBuPSgpPT57ZSYmKGNsZWFyVGltZW91dChlKSxlPXZvaWQgMCksaSYmKGkoKSxpPXZvaWQgMCl9O3JldHVybiB0aGlzLnRpbWVvdXRzLnB1c2gobiksKCk9Pm5ldyBQcm9taXNlKCgocyxyKT0+e24oKSxpPXIsZT1zZXRUaW1lb3V0KCgoKT0+e2U9dm9pZCAwLGk9dm9pZCAwLHMoKX0pLHQpfSkpfWdldEhlaWdodCh0LGUpe3ZhciBpO2NvbnN0IG49KG51bGw9PT0oaT10aGlzLmF1ZGlvRGF0YSl8fHZvaWQgMD09PWk/dm9pZCAwOmkubnVtYmVyT2ZDaGFubmVscyl8fDE7cmV0dXJuIGZ1bmN0aW9uKHtvcHRpb25zSGVpZ2h0OnQsb3B0aW9uc1NwbGl0Q2hhbm5lbHM6ZSxwYXJlbnRIZWlnaHQ6aSxudW1iZXJPZkNoYW5uZWxzOm4sZGVmYXVsdEhlaWdodDpzPTEyOH0pe2lmKG51bGw9PXQpcmV0dXJuIHM7Y29uc3Qgcj1OdW1iZXIodCk7aWYoIWlzTmFOKHIpKXJldHVybiByO2lmKFwiYXV0b1wiPT09dCl7Y29uc3QgdD1pfHxzO3JldHVybihudWxsPT1lP3ZvaWQgMDplLmV2ZXJ5KCh0PT4hdC5vdmVybGF5KSkpP3Qvbjp0fXJldHVybiBzfSh7b3B0aW9uc0hlaWdodDp0LG9wdGlvbnNTcGxpdENoYW5uZWxzOmUscGFyZW50SGVpZ2h0OnRoaXMucGFyZW50LmNsaWVudEhlaWdodCxudW1iZXJPZkNoYW5uZWxzOm4sZGVmYXVsdEhlaWdodDoxMjh9KX1jb252ZXJ0Q29sb3JWYWx1ZXModCxlKXtyZXR1cm4gZnVuY3Rpb24odCxlLGkpe2lmKCFBcnJheS5pc0FycmF5KHQpKXJldHVybiB0fHxcIlwiO2lmKDA9PT10Lmxlbmd0aClyZXR1cm5cIiM5OTlcIjtpZih0Lmxlbmd0aDwyKXJldHVybiB0WzBdfHxcIlwiO2NvbnN0IG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxzPW4uZ2V0Q29udGV4dChcIjJkXCIpLHI9bnVsbCE9aT9pOm4uaGVpZ2h0KmUsbz1zLmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsMCwwLHJ8fGUpLGE9MS8odC5sZW5ndGgtMSk7cmV0dXJuIHQuZm9yRWFjaCgoKHQsZSk9PntvLmFkZENvbG9yU3RvcChlKmEsdCl9KSksb30odCx0aGlzLmdldFBpeGVsUmF0aW8oKSxudWxsPT1lP3ZvaWQgMDplLmNhbnZhcy5oZWlnaHQpfWdldFBpeGVsUmF0aW8oKXtyZXR1cm4gdD13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyxNYXRoLm1heCgxLHR8fDEpO3ZhciB0fXJlbmRlckJhcldhdmVmb3JtKHQsZSxpLG4pe2NvbnN0e3dpZHRoOnMsaGVpZ2h0OnJ9PWkuY2FudmFzLHtoYWxmSGVpZ2h0Om8sYmFyV2lkdGg6YSxiYXJSYWRpdXM6bCxiYXJJbmRleFNjYWxlOmgsYmFyU3BhY2luZzp1LGJhck1pbkhlaWdodDpwfT1mdW5jdGlvbih7d2lkdGg6dCxoZWlnaHQ6ZSxsZW5ndGg6aSxvcHRpb25zOm4scGl4ZWxSYXRpbzpzfSl7Y29uc3Qgcj1lLzIsbz1uLmJhcldpZHRoP24uYmFyV2lkdGgqczoxLGE9bi5iYXJHYXA/bi5iYXJHYXAqczpuLmJhcldpZHRoP28vMjowLGw9bythfHwxO3JldHVybntoYWxmSGVpZ2h0OnIsYmFyV2lkdGg6byxiYXJHYXA6YSxiYXJSYWRpdXM6bi5iYXJSYWRpdXN8fDAsYmFyTWluSGVpZ2h0Om4uYmFyTWluSGVpZ2h0P24uYmFyTWluSGVpZ2h0KnM6MCxiYXJJbmRleFNjYWxlOmk+MD90L2wvaTowLGJhclNwYWNpbmc6bH19KHt3aWR0aDpzLGhlaWdodDpyLGxlbmd0aDoodFswXXx8W10pLmxlbmd0aCxvcHRpb25zOmUscGl4ZWxSYXRpbzp0aGlzLmdldFBpeGVsUmF0aW8oKX0pLG09ZnVuY3Rpb24oe2NoYW5uZWxEYXRhOnQsYmFySW5kZXhTY2FsZTplLGJhclNwYWNpbmc6aSxiYXJXaWR0aDpuLGhhbGZIZWlnaHQ6cyx2U2NhbGU6cixjYW52YXNIZWlnaHQ6byxiYXJBbGlnbjphLGJhck1pbkhlaWdodDpsfSl7Y29uc3QgaD10WzBdfHxbXSx1PXRbMV18fGgscD1oLmxlbmd0aCxtPVtdO2xldCBnPTAsdj0wLGY9MDtmb3IobGV0IHQ9MDt0PD1wO3QrKyl7Y29uc3QgcD1NYXRoLnJvdW5kKHQqZSk7aWYocD5nKXtjb25zdHt0b3BIZWlnaHQ6dCx0b3RhbEhlaWdodDplfT1jKHttYXhUb3A6dixtYXhCb3R0b206ZixoYWxmSGVpZ2h0OnMsdlNjYWxlOnIsYmFyTWluSGVpZ2h0OmwsYmFyQWxpZ246YX0pLGg9ZCh7YmFyQWxpZ246YSxoYWxmSGVpZ2h0OnMsdG9wSGVpZ2h0OnQsdG90YWxIZWlnaHQ6ZSxjYW52YXNIZWlnaHQ6b30pO20ucHVzaCh7eDpnKmkseTpoLHdpZHRoOm4saGVpZ2h0OmV9KSxnPXAsdj0wLGY9MH1jb25zdCBiPU1hdGguYWJzKGhbdF18fDApLHk9TWF0aC5hYnModVt0XXx8MCk7Yj52JiYodj1iKSx5PmYmJihmPXkpfXJldHVybiBtfSh7Y2hhbm5lbERhdGE6dCxiYXJJbmRleFNjYWxlOmgsYmFyU3BhY2luZzp1LGJhcldpZHRoOmEsaGFsZkhlaWdodDpvLHZTY2FsZTpuLGNhbnZhc0hlaWdodDpyLGJhckFsaWduOmUuYmFyQWxpZ24sYmFyTWluSGVpZ2h0OnB9KTtpLmJlZ2luUGF0aCgpO2Zvcihjb25zdCB0IG9mIG0pbCYmXCJyb3VuZFJlY3RcImluIGk/aS5yb3VuZFJlY3QodC54LHQueSx0LndpZHRoLHQuaGVpZ2h0LGwpOmkucmVjdCh0LngsdC55LHQud2lkdGgsdC5oZWlnaHQpO2kuZmlsbCgpLGkuY2xvc2VQYXRoKCl9cmVuZGVyTGluZVdhdmVmb3JtKHQsZSxpLG4pe2NvbnN0e3dpZHRoOnMsaGVpZ2h0OnJ9PWkuY2FudmFzLG89ZnVuY3Rpb24oe2NoYW5uZWxEYXRhOnQsd2lkdGg6ZSxoZWlnaHQ6aSx2U2NhbGU6bn0pe2NvbnN0IHM9aS8yLHI9dFswXXx8W107cmV0dXJuW3IsdFsxXXx8cl0ubWFwKCgodCxpKT0+e2NvbnN0IHI9dC5sZW5ndGgsbz1yP2UvcjowLGE9cyxsPTA9PT1pPy0xOjEsaD1be3g6MCx5OmF9XTtsZXQgdT0wLGM9MDtmb3IobGV0IGU9MDtlPD1yO2UrKyl7Y29uc3QgaT1NYXRoLnJvdW5kKGUqbyk7aWYoaT51KXtjb25zdCB0PWErKE1hdGgucm91bmQoYypzKm4pfHwxKSpsO2gucHVzaCh7eDp1LHk6dH0pLHU9aSxjPTB9Y29uc3Qgcj1NYXRoLmFicyh0W2VdfHwwKTtyPmMmJihjPXIpfXJldHVybiBoLnB1c2goe3g6dSx5OmF9KSxofSkpfSh7Y2hhbm5lbERhdGE6dCx3aWR0aDpzLGhlaWdodDpyLHZTY2FsZTpufSk7aS5iZWdpblBhdGgoKTtmb3IoY29uc3QgdCBvZiBvKWlmKHQubGVuZ3RoKXtpLm1vdmVUbyh0WzBdLngsdFswXS55KTtmb3IobGV0IGU9MTtlPHQubGVuZ3RoO2UrKyl7Y29uc3Qgbj10W2VdO2kubGluZVRvKG4ueCxuLnkpfX1pLmZpbGwoKSxpLmNsb3NlUGF0aCgpfXJlbmRlcldhdmVmb3JtKHQsZSxpKXtpZihpLmZpbGxTdHlsZT10aGlzLmNvbnZlcnRDb2xvclZhbHVlcyhlLndhdmVDb2xvcixpKSxlLnJlbmRlckZ1bmN0aW9uKXJldHVybiB2b2lkIGUucmVuZGVyRnVuY3Rpb24odCxpKTtjb25zdCBuPWZ1bmN0aW9uKHtjaGFubmVsRGF0YTp0LGJhckhlaWdodDplLG5vcm1hbGl6ZTppLG1heFBlYWs6bn0pe3ZhciBzO2NvbnN0IHI9ZXx8MTtpZighaSlyZXR1cm4gcjtjb25zdCBvPXRbMF07aWYoIW98fDA9PT1vLmxlbmd0aClyZXR1cm4gcjtsZXQgYT1udWxsIT1uP246MDtpZighbilmb3IobGV0IHQ9MDt0PG8ubGVuZ3RoO3QrKyl7Y29uc3QgZT1udWxsIT09KHM9b1t0XSkmJnZvaWQgMCE9PXM/czowLGk9TWF0aC5hYnMoZSk7aT5hJiYoYT1pKX1yZXR1cm4gYT9yL2E6cn0oe2NoYW5uZWxEYXRhOnQsYmFySGVpZ2h0OmUuYmFySGVpZ2h0LG5vcm1hbGl6ZTplLm5vcm1hbGl6ZSxtYXhQZWFrOmUubWF4UGVha30pO20oZSk/dGhpcy5yZW5kZXJCYXJXYXZlZm9ybSh0LGUsaSxuKTp0aGlzLnJlbmRlckxpbmVXYXZlZm9ybSh0LGUsaSxuKX1yZW5kZXJTaW5nbGVDYW52YXModCxlLGksbixzLHIsbyl7Y29uc3QgYT10aGlzLmdldFBpeGVsUmF0aW8oKSxsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7bC53aWR0aD1NYXRoLnJvdW5kKGkqYSksbC5oZWlnaHQ9TWF0aC5yb3VuZChuKmEpLGwuc3R5bGUud2lkdGg9YCR7aX1weGAsbC5zdHlsZS5oZWlnaHQ9YCR7bn1weGAsbC5zdHlsZS5sZWZ0PWAke01hdGgucm91bmQocyl9cHhgLHIuYXBwZW5kQ2hpbGQobCk7Y29uc3QgaD1sLmdldENvbnRleHQoXCIyZFwiKTtpZihlLnJlbmRlckZ1bmN0aW9uPyhoLmZpbGxTdHlsZT10aGlzLmNvbnZlcnRDb2xvclZhbHVlcyhlLndhdmVDb2xvcixoKSxlLnJlbmRlckZ1bmN0aW9uKHQsaCkpOnRoaXMucmVuZGVyV2F2ZWZvcm0odCxlLGgpLGwud2lkdGg+MCYmbC5oZWlnaHQ+MCl7Y29uc3QgdD1sLmNsb25lTm9kZSgpLGk9dC5nZXRDb250ZXh0KFwiMmRcIik7aS5kcmF3SW1hZ2UobCwwLDApLGkuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPVwic291cmNlLWluXCIsaS5maWxsU3R5bGU9dGhpcy5jb252ZXJ0Q29sb3JWYWx1ZXMoZS5wcm9ncmVzc0NvbG9yLGkpLGkuZmlsbFJlY3QoMCwwLGwud2lkdGgsbC5oZWlnaHQpLG8uYXBwZW5kQ2hpbGQodCl9fXJlbmRlck11bHRpQ2FudmFzKHQsZSxpLG4scyxyKXtjb25zdCBvPXRoaXMuZ2V0UGl4ZWxSYXRpbygpLHtjbGllbnRXaWR0aDphfT10aGlzLnNjcm9sbENvbnRhaW5lcixsPWkvbyxoPWZ1bmN0aW9uKHtjbGllbnRXaWR0aDp0LHRvdGFsV2lkdGg6ZSxvcHRpb25zOml9KXtyZXR1cm4gZyhNYXRoLm1pbig4ZTMsdCxlKSxpKX0oe2NsaWVudFdpZHRoOmEsdG90YWxXaWR0aDpsLG9wdGlvbnM6ZX0pO2xldCB1PXt9O2lmKDA9PT1oKXJldHVybjtjb25zdCBjPWk9PntpZihpPDB8fGk+PWQpcmV0dXJuO2lmKHVbaV0pcmV0dXJuO3VbaV09ITA7Y29uc3Qgbz1pKmg7bGV0IGE9TWF0aC5taW4obC1vLGgpO2lmKGE9ZyhhLGUpLGE8PTApcmV0dXJuO2NvbnN0IGM9ZnVuY3Rpb24oe2NoYW5uZWxEYXRhOnQsb2Zmc2V0OmUsY2xhbXBlZFdpZHRoOmksdG90YWxXaWR0aDpufSl7cmV0dXJuIHQubWFwKCh0PT57Y29uc3Qgcz1NYXRoLmZsb29yKGUvbip0Lmxlbmd0aCkscj1NYXRoLmZsb29yKChlK2kpL24qdC5sZW5ndGgpO3JldHVybiB0LnNsaWNlKHMscil9KSl9KHtjaGFubmVsRGF0YTp0LG9mZnNldDpvLGNsYW1wZWRXaWR0aDphLHRvdGFsV2lkdGg6bH0pO3RoaXMucmVuZGVyU2luZ2xlQ2FudmFzKGMsZSxhLG4sbyxzLHIpfSxkPU1hdGguY2VpbChsL2gpO2lmKCF0aGlzLmlzU2Nyb2xsYWJsZSl7Zm9yKGxldCB0PTA7dDxkO3QrKyljKHQpO3JldHVybn1pZih2KHtzY3JvbGxMZWZ0OnRoaXMuc2Nyb2xsQ29udGFpbmVyLnNjcm9sbExlZnQsdG90YWxXaWR0aDpsLG51bUNhbnZhc2VzOmR9KS5mb3JFYWNoKCh0PT5jKHQpKSksZD4xKXtjb25zdCB0PXRoaXMub24oXCJzY3JvbGxcIiwoKCk9Pntjb25zdHtzY3JvbGxMZWZ0OnR9PXRoaXMuc2Nyb2xsQ29udGFpbmVyO09iamVjdC5rZXlzKHUpLmxlbmd0aD4xMCYmKHMuaW5uZXJIVE1MPVwiXCIsci5pbm5lckhUTUw9XCJcIix1PXt9KSx2KHtzY3JvbGxMZWZ0OnQsdG90YWxXaWR0aDpsLG51bUNhbnZhc2VzOmR9KS5mb3JFYWNoKCh0PT5jKHQpKSl9KSk7dGhpcy51bnN1YnNjcmliZU9uU2Nyb2xsLnB1c2godCl9fXJlbmRlckNoYW5uZWwodCxlLGksbil7dmFye292ZXJsYXk6c309ZSxyPWZ1bmN0aW9uKHQsZSl7dmFyIGk9e307Zm9yKHZhciBuIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbikmJmUuaW5kZXhPZihuKTwwJiYoaVtuXT10W25dKTtpZihudWxsIT10JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcz0wO2ZvcihuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7czxuLmxlbmd0aDtzKyspZS5pbmRleE9mKG5bc10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh0LG5bc10pJiYoaVtuW3NdXT10W25bc11dKX1yZXR1cm4gaX0oZSxbXCJvdmVybGF5XCJdKTtjb25zdCBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksYT10aGlzLmdldEhlaWdodChyLmhlaWdodCxyLnNwbGl0Q2hhbm5lbHMpO28uc3R5bGUuaGVpZ2h0PWAke2F9cHhgLHMmJm4+MCYmKG8uc3R5bGUubWFyZ2luVG9wPWAtJHthfXB4YCksdGhpcy5jYW52YXNXcmFwcGVyLnN0eWxlLm1pbkhlaWdodD1gJHthfXB4YCx0aGlzLmNhbnZhc1dyYXBwZXIuYXBwZW5kQ2hpbGQobyk7Y29uc3QgbD1vLmNsb25lTm9kZSgpO3RoaXMucHJvZ3Jlc3NXcmFwcGVyLmFwcGVuZENoaWxkKGwpLHRoaXMucmVuZGVyTXVsdGlDYW52YXModCxyLGksYSxvLGwpfXJlbmRlcihlKXtyZXR1cm4gdCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3ZhciB0O3RoaXMudGltZW91dHMuZm9yRWFjaCgodD0+dCgpKSksdGhpcy50aW1lb3V0cz1bXSx0aGlzLmNhbnZhc1dyYXBwZXIuaW5uZXJIVE1MPVwiXCIsdGhpcy5wcm9ncmVzc1dyYXBwZXIuaW5uZXJIVE1MPVwiXCIsbnVsbCE9dGhpcy5vcHRpb25zLndpZHRoJiYodGhpcy5zY3JvbGxDb250YWluZXIuc3R5bGUud2lkdGg9XCJudW1iZXJcIj09dHlwZW9mIHRoaXMub3B0aW9ucy53aWR0aD9gJHt0aGlzLm9wdGlvbnMud2lkdGh9cHhgOnRoaXMub3B0aW9ucy53aWR0aCk7Y29uc3QgaT10aGlzLmdldFBpeGVsUmF0aW8oKSxuPXRoaXMuc2Nyb2xsQ29udGFpbmVyLmNsaWVudFdpZHRoLHtzY3JvbGxXaWR0aDpzLGlzU2Nyb2xsYWJsZTpyLHVzZVBhcmVudFdpZHRoOm8sd2lkdGg6YX09ZnVuY3Rpb24oe2R1cmF0aW9uOnQsbWluUHhQZXJTZWM6ZT0wLHBhcmVudFdpZHRoOmksZmlsbFBhcmVudDpuLHBpeGVsUmF0aW86c30pe2NvbnN0IHI9TWF0aC5jZWlsKHQqZSksbz1yPmksYT1Cb29sZWFuKG4mJiFvKTtyZXR1cm57c2Nyb2xsV2lkdGg6cixpc1Njcm9sbGFibGU6byx1c2VQYXJlbnRXaWR0aDphLHdpZHRoOihhP2k6cikqc319KHtkdXJhdGlvbjplLmR1cmF0aW9uLG1pblB4UGVyU2VjOnRoaXMub3B0aW9ucy5taW5QeFBlclNlY3x8MCxwYXJlbnRXaWR0aDpuLGZpbGxQYXJlbnQ6dGhpcy5vcHRpb25zLmZpbGxQYXJlbnQscGl4ZWxSYXRpbzppfSk7aWYodGhpcy5pc1Njcm9sbGFibGU9cix0aGlzLndyYXBwZXIuc3R5bGUud2lkdGg9bz9cIjEwMCVcIjpgJHtzfXB4YCx0aGlzLnNjcm9sbENvbnRhaW5lci5zdHlsZS5vdmVyZmxvd1g9dGhpcy5pc1Njcm9sbGFibGU/XCJhdXRvXCI6XCJoaWRkZW5cIix0aGlzLnNjcm9sbENvbnRhaW5lci5jbGFzc0xpc3QudG9nZ2xlKFwibm9TY3JvbGxiYXJcIiwhIXRoaXMub3B0aW9ucy5oaWRlU2Nyb2xsYmFyKSx0aGlzLmN1cnNvci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9YCR7dGhpcy5vcHRpb25zLmN1cnNvckNvbG9yfHx0aGlzLm9wdGlvbnMucHJvZ3Jlc3NDb2xvcn1gLHRoaXMuY3Vyc29yLnN0eWxlLndpZHRoPWAke3RoaXMub3B0aW9ucy5jdXJzb3JXaWR0aH1weGAsdGhpcy5hdWRpb0RhdGE9ZSx0aGlzLmVtaXQoXCJyZW5kZXJcIiksdGhpcy5vcHRpb25zLnNwbGl0Q2hhbm5lbHMpZm9yKGxldCBpPTA7aTxlLm51bWJlck9mQ2hhbm5lbHM7aSsrKXtjb25zdCBuPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0aGlzLm9wdGlvbnMpLG51bGw9PT0odD10aGlzLm9wdGlvbnMuc3BsaXRDaGFubmVscyl8fHZvaWQgMD09PXQ/dm9pZCAwOnRbaV0pO3RoaXMucmVuZGVyQ2hhbm5lbChbZS5nZXRDaGFubmVsRGF0YShpKV0sbixhLGkpfWVsc2V7Y29uc3QgdD1bZS5nZXRDaGFubmVsRGF0YSgwKV07ZS5udW1iZXJPZkNoYW5uZWxzPjEmJnQucHVzaChlLmdldENoYW5uZWxEYXRhKDEpKSx0aGlzLnJlbmRlckNoYW5uZWwodCx0aGlzLm9wdGlvbnMsYSwwKX1Qcm9taXNlLnJlc29sdmUoKS50aGVuKCgoKT0+dGhpcy5lbWl0KFwicmVuZGVyZWRcIikpKX0pKX1yZVJlbmRlcigpe2lmKHRoaXMudW5zdWJzY3JpYmVPblNjcm9sbC5mb3JFYWNoKCh0PT50KCkpKSx0aGlzLnVuc3Vic2NyaWJlT25TY3JvbGw9W10sIXRoaXMuYXVkaW9EYXRhKXJldHVybjtjb25zdHtzY3JvbGxXaWR0aDp0fT10aGlzLnNjcm9sbENvbnRhaW5lcix7cmlnaHQ6ZX09dGhpcy5wcm9ncmVzc1dyYXBwZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7aWYodGhpcy5yZW5kZXIodGhpcy5hdWRpb0RhdGEpLHRoaXMuaXNTY3JvbGxhYmxlJiZ0IT09dGhpcy5zY3JvbGxDb250YWluZXIuc2Nyb2xsV2lkdGgpe2NvbnN0e3JpZ2h0OnR9PXRoaXMucHJvZ3Jlc3NXcmFwcGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGk9ZnVuY3Rpb24odCl7Y29uc3QgZT0yKnQ7cmV0dXJuKGU8MD9NYXRoLmZsb29yKGUpOk1hdGguY2VpbChlKSkvMn0odC1lKTt0aGlzLnNjcm9sbENvbnRhaW5lci5zY3JvbGxMZWZ0Kz1pfX16b29tKHQpe3RoaXMub3B0aW9ucy5taW5QeFBlclNlYz10LHRoaXMucmVSZW5kZXIoKX1zY3JvbGxJbnRvVmlldyh0LGU9ITEpe2NvbnN0e3Njcm9sbExlZnQ6aSxzY3JvbGxXaWR0aDpuLGNsaWVudFdpZHRoOnN9PXRoaXMuc2Nyb2xsQ29udGFpbmVyLHI9dCpuLG89aSxhPWkrcyxsPXMvMjtpZih0aGlzLmlzRHJhZ2dpbmcpe2NvbnN0IHQ9MzA7cit0PmE/dGhpcy5zY3JvbGxDb250YWluZXIuc2Nyb2xsTGVmdCs9dDpyLXQ8byYmKHRoaXMuc2Nyb2xsQ29udGFpbmVyLnNjcm9sbExlZnQtPXQpfWVsc2V7KHI8b3x8cj5hKSYmKHRoaXMuc2Nyb2xsQ29udGFpbmVyLnNjcm9sbExlZnQ9ci0odGhpcy5vcHRpb25zLmF1dG9DZW50ZXI/bDowKSk7Y29uc3QgdD1yLWktbDtlJiZ0aGlzLm9wdGlvbnMuYXV0b0NlbnRlciYmdD4wJiYodGhpcy5zY3JvbGxDb250YWluZXIuc2Nyb2xsTGVmdCs9dCl9fXJlbmRlclByb2dyZXNzKHQsZSl7aWYoaXNOYU4odCkpcmV0dXJuO2NvbnN0IGk9MTAwKnQ7dGhpcy5jYW52YXNXcmFwcGVyLnN0eWxlLmNsaXBQYXRoPWBwb2x5Z29uKCR7aX0lIDAlLCAxMDAlIDAlLCAxMDAlIDEwMCUsICR7aX0lIDEwMCUpYCx0aGlzLnByb2dyZXNzV3JhcHBlci5zdHlsZS53aWR0aD1gJHtpfSVgLHRoaXMuY3Vyc29yLnN0eWxlLmxlZnQ9YCR7aX0lYCx0aGlzLmN1cnNvci5zdHlsZS50cmFuc2Zvcm09dGhpcy5vcHRpb25zLmN1cnNvcldpZHRoP2B0cmFuc2xhdGVYKC0ke3QqdGhpcy5vcHRpb25zLmN1cnNvcldpZHRofXB4KWA6XCJcIix0aGlzLmlzU2Nyb2xsYWJsZSYmdGhpcy5vcHRpb25zLmF1dG9TY3JvbGwmJnRoaXMuYXVkaW9EYXRhJiZ0aGlzLmF1ZGlvRGF0YS5kdXJhdGlvbj4wJiZ0aGlzLnNjcm9sbEludG9WaWV3KHQsZSl9ZXhwb3J0SW1hZ2UoZSxpLG4pe3JldHVybiB0KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3QgdD10aGlzLmNhbnZhc1dyYXBwZXIucXVlcnlTZWxlY3RvckFsbChcImNhbnZhc1wiKTtpZighdC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiTm8gd2F2ZWZvcm0gZGF0YVwiKTtpZihcImRhdGFVUkxcIj09PW4pe2NvbnN0IG49QXJyYXkuZnJvbSh0KS5tYXAoKHQ9PnQudG9EYXRhVVJMKGUsaSkpKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG4pfXJldHVybiBQcm9taXNlLmFsbChBcnJheS5mcm9tKHQpLm1hcCgodD0+bmV3IFByb21pc2UoKChuLHMpPT57dC50b0Jsb2IoKHQ9Pnt0P24odCk6cyhuZXcgRXJyb3IoXCJDb3VsZCBub3QgZXhwb3J0IGltYWdlXCIpKX0pLGUsaSl9KSkpKSl9KSl9fWNsYXNzIEMgZXh0ZW5kcyBle2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLmFuaW1hdGlvbkZyYW1lSWQ9bnVsbCx0aGlzLmlzUnVubmluZz0hMX1zdGFydCgpe2lmKHRoaXMuaXNSdW5uaW5nKXJldHVybjt0aGlzLmlzUnVubmluZz0hMDtjb25zdCB0PSgpPT57dGhpcy5pc1J1bm5pbmcmJih0aGlzLmVtaXQoXCJ0aWNrXCIpLHRoaXMuYW5pbWF0aW9uRnJhbWVJZD1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodCkpfTt0KCl9c3RvcCgpe3RoaXMuaXNSdW5uaW5nPSExLG51bGwhPT10aGlzLmFuaW1hdGlvbkZyYW1lSWQmJihjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGlvbkZyYW1lSWQpLHRoaXMuYW5pbWF0aW9uRnJhbWVJZD1udWxsKX1kZXN0cm95KCl7dGhpcy5zdG9wKCl9fWNsYXNzIFMgZXh0ZW5kcyBle2NvbnN0cnVjdG9yKHQ9bmV3IEF1ZGlvQ29udGV4dCl7c3VwZXIoKSx0aGlzLmJ1ZmZlck5vZGU9bnVsbCx0aGlzLnBsYXlTdGFydFRpbWU9MCx0aGlzLnBsYXllZER1cmF0aW9uPTAsdGhpcy5fbXV0ZWQ9ITEsdGhpcy5fcGxheWJhY2tSYXRlPTEsdGhpcy5fZHVyYXRpb249dm9pZCAwLHRoaXMuYnVmZmVyPW51bGwsdGhpcy5jdXJyZW50U3JjPVwiXCIsdGhpcy5wYXVzZWQ9ITAsdGhpcy5jcm9zc09yaWdpbj1udWxsLHRoaXMuc2Vla2luZz0hMSx0aGlzLmF1dG9wbGF5PSExLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcj10aGlzLm9uLHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcj10aGlzLnVuLHRoaXMuYXVkaW9Db250ZXh0PXQsdGhpcy5nYWluTm9kZT10aGlzLmF1ZGlvQ29udGV4dC5jcmVhdGVHYWluKCksdGhpcy5nYWluTm9kZS5jb25uZWN0KHRoaXMuYXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uKX1sb2FkKCl7cmV0dXJuIHQodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXt9KSl9Z2V0IHNyYygpe3JldHVybiB0aGlzLmN1cnJlbnRTcmN9c2V0IHNyYyh0KXtpZih0aGlzLmN1cnJlbnRTcmM9dCx0aGlzLl9kdXJhdGlvbj12b2lkIDAsIXQpcmV0dXJuIHRoaXMuYnVmZmVyPW51bGwsdm9pZCB0aGlzLmVtaXQoXCJlbXB0aWVkXCIpO2ZldGNoKHQpLnRoZW4oKGU9PntpZihlLnN0YXR1cz49NDAwKXRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoICR7dH06ICR7ZS5zdGF0dXN9ICgke2Uuc3RhdHVzVGV4dH0pYCk7cmV0dXJuIGUuYXJyYXlCdWZmZXIoKX0pKS50aGVuKChlPT50aGlzLmN1cnJlbnRTcmMhPT10P251bGw6dGhpcy5hdWRpb0NvbnRleHQuZGVjb2RlQXVkaW9EYXRhKGUpKSkudGhlbigoZT0+e3RoaXMuY3VycmVudFNyYz09PXQmJih0aGlzLmJ1ZmZlcj1lLHRoaXMuZW1pdChcImxvYWRlZG1ldGFkYXRhXCIpLHRoaXMuZW1pdChcImNhbnBsYXlcIiksdGhpcy5hdXRvcGxheSYmdGhpcy5wbGF5KCkpfSkpLmNhdGNoKCh0PT57Y29uc29sZS5lcnJvcihcIldlYkF1ZGlvUGxheWVyIGxvYWQgZXJyb3I6XCIsdCl9KSl9X3BsYXkoKXtpZighdGhpcy5wYXVzZWQpcmV0dXJuO3RoaXMucGF1c2VkPSExLHRoaXMuYnVmZmVyTm9kZSYmKHRoaXMuYnVmZmVyTm9kZS5vbmVuZGVkPW51bGwsdGhpcy5idWZmZXJOb2RlLmRpc2Nvbm5lY3QoKSksdGhpcy5idWZmZXJOb2RlPXRoaXMuYXVkaW9Db250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpLHRoaXMuYnVmZmVyJiYodGhpcy5idWZmZXJOb2RlLmJ1ZmZlcj10aGlzLmJ1ZmZlciksdGhpcy5idWZmZXJOb2RlLnBsYXliYWNrUmF0ZS52YWx1ZT10aGlzLl9wbGF5YmFja1JhdGUsdGhpcy5idWZmZXJOb2RlLmNvbm5lY3QodGhpcy5nYWluTm9kZSk7bGV0IHQ9dGhpcy5wbGF5ZWREdXJhdGlvbip0aGlzLl9wbGF5YmFja1JhdGU7KHQ+PXRoaXMuZHVyYXRpb258fHQ8MCkmJih0PTAsdGhpcy5wbGF5ZWREdXJhdGlvbj0wKSx0aGlzLmJ1ZmZlck5vZGUuc3RhcnQodGhpcy5hdWRpb0NvbnRleHQuY3VycmVudFRpbWUsdCksdGhpcy5wbGF5U3RhcnRUaW1lPXRoaXMuYXVkaW9Db250ZXh0LmN1cnJlbnRUaW1lLHRoaXMuYnVmZmVyTm9kZS5vbmVuZGVkPSgpPT57dGhpcy5jdXJyZW50VGltZT49dGhpcy5kdXJhdGlvbiYmKHRoaXMucGF1c2UoKSx0aGlzLmVtaXQoXCJlbmRlZFwiKSl9fV9wYXVzZSgpe3ZhciB0O3RoaXMucGF1c2VkPSEwLG51bGw9PT0odD10aGlzLmJ1ZmZlck5vZGUpfHx2b2lkIDA9PT10fHx0LnN0b3AoKSx0aGlzLnBsYXllZER1cmF0aW9uKz10aGlzLmF1ZGlvQ29udGV4dC5jdXJyZW50VGltZS10aGlzLnBsYXlTdGFydFRpbWV9cGxheSgpe3JldHVybiB0KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dGhpcy5wYXVzZWQmJih0aGlzLl9wbGF5KCksdGhpcy5lbWl0KFwicGxheVwiKSl9KSl9cGF1c2UoKXt0aGlzLnBhdXNlZHx8KHRoaXMuX3BhdXNlKCksdGhpcy5lbWl0KFwicGF1c2VcIikpfXN0b3BBdCh0KXtjb25zdCBlPXQtdGhpcy5jdXJyZW50VGltZSxpPXRoaXMuYnVmZmVyTm9kZTtudWxsPT1pfHxpLnN0b3AodGhpcy5hdWRpb0NvbnRleHQuY3VycmVudFRpbWUrZSksbnVsbD09aXx8aS5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIiwoKCk9PntpPT09dGhpcy5idWZmZXJOb2RlJiYodGhpcy5idWZmZXJOb2RlPW51bGwsdGhpcy5wYXVzZSgpKX0pLHtvbmNlOiEwfSl9c2V0U2lua0lkKGUpe3JldHVybiB0KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7cmV0dXJuIHRoaXMuYXVkaW9Db250ZXh0LnNldFNpbmtJZChlKX0pKX1nZXQgcGxheWJhY2tSYXRlKCl7cmV0dXJuIHRoaXMuX3BsYXliYWNrUmF0ZX1zZXQgcGxheWJhY2tSYXRlKHQpe3RoaXMuX3BsYXliYWNrUmF0ZT10LHRoaXMuYnVmZmVyTm9kZSYmKHRoaXMuYnVmZmVyTm9kZS5wbGF5YmFja1JhdGUudmFsdWU9dCl9Z2V0IGN1cnJlbnRUaW1lKCl7cmV0dXJuKHRoaXMucGF1c2VkP3RoaXMucGxheWVkRHVyYXRpb246dGhpcy5wbGF5ZWREdXJhdGlvbisodGhpcy5hdWRpb0NvbnRleHQuY3VycmVudFRpbWUtdGhpcy5wbGF5U3RhcnRUaW1lKSkqdGhpcy5fcGxheWJhY2tSYXRlfXNldCBjdXJyZW50VGltZSh0KXtjb25zdCBlPSF0aGlzLnBhdXNlZDtlJiZ0aGlzLl9wYXVzZSgpLHRoaXMucGxheWVkRHVyYXRpb249dC90aGlzLl9wbGF5YmFja1JhdGUsZSYmdGhpcy5fcGxheSgpLHRoaXMuZW1pdChcInNlZWtpbmdcIiksdGhpcy5lbWl0KFwidGltZXVwZGF0ZVwiKX1nZXQgZHVyYXRpb24oKXt2YXIgdCxlO3JldHVybiBudWxsIT09KHQ9dGhpcy5fZHVyYXRpb24pJiZ2b2lkIDAhPT10P3Q6KG51bGw9PT0oZT10aGlzLmJ1ZmZlcil8fHZvaWQgMD09PWU/dm9pZCAwOmUuZHVyYXRpb24pfHwwfXNldCBkdXJhdGlvbih0KXt0aGlzLl9kdXJhdGlvbj10fWdldCB2b2x1bWUoKXtyZXR1cm4gdGhpcy5nYWluTm9kZS5nYWluLnZhbHVlfXNldCB2b2x1bWUodCl7dGhpcy5nYWluTm9kZS5nYWluLnZhbHVlPXQsdGhpcy5lbWl0KFwidm9sdW1lY2hhbmdlXCIpfWdldCBtdXRlZCgpe3JldHVybiB0aGlzLl9tdXRlZH1zZXQgbXV0ZWQodCl7dGhpcy5fbXV0ZWQhPT10JiYodGhpcy5fbXV0ZWQ9dCx0aGlzLl9tdXRlZD90aGlzLmdhaW5Ob2RlLmRpc2Nvbm5lY3QoKTp0aGlzLmdhaW5Ob2RlLmNvbm5lY3QodGhpcy5hdWRpb0NvbnRleHQuZGVzdGluYXRpb24pKX1jYW5QbGF5VHlwZSh0KXtyZXR1cm4vXihhdWRpb3x2aWRlbylcXC8vLnRlc3QodCl9Z2V0R2Fpbk5vZGUoKXtyZXR1cm4gdGhpcy5nYWluTm9kZX1nZXRDaGFubmVsRGF0YSgpe2NvbnN0IHQ9W107aWYoIXRoaXMuYnVmZmVyKXJldHVybiB0O2NvbnN0IGU9dGhpcy5idWZmZXIubnVtYmVyT2ZDaGFubmVscztmb3IobGV0IGk9MDtpPGU7aSsrKXQucHVzaCh0aGlzLmJ1ZmZlci5nZXRDaGFubmVsRGF0YShpKSk7cmV0dXJuIHR9cmVtb3ZlQXR0cmlidXRlKHQpe3N3aXRjaCh0KXtjYXNlXCJzcmNcIjp0aGlzLnNyYz1cIlwiO2JyZWFrO2Nhc2VcInBsYXliYWNrUmF0ZVwiOnRoaXMucGxheWJhY2tSYXRlPTA7YnJlYWs7Y2FzZVwiY3VycmVudFRpbWVcIjp0aGlzLmN1cnJlbnRUaW1lPTA7YnJlYWs7Y2FzZVwiZHVyYXRpb25cIjp0aGlzLmR1cmF0aW9uPTA7YnJlYWs7Y2FzZVwidm9sdW1lXCI6dGhpcy52b2x1bWU9MDticmVhaztjYXNlXCJtdXRlZFwiOnRoaXMubXV0ZWQ9ITF9fX1jb25zdCBFPXt3YXZlQ29sb3I6XCIjOTk5XCIscHJvZ3Jlc3NDb2xvcjpcIiM1NTVcIixjdXJzb3JXaWR0aDoxLG1pblB4UGVyU2VjOjAsZmlsbFBhcmVudDohMCxpbnRlcmFjdDohMCxkcmFnVG9TZWVrOiExLGF1dG9TY3JvbGw6ITAsYXV0b0NlbnRlcjohMCxzYW1wbGVSYXRlOjhlM307Y2xhc3MgdyBleHRlbmRzIHV7c3RhdGljIGNyZWF0ZSh0KXtyZXR1cm4gbmV3IHcodCl9Z2V0U3RhdGUoKXtyZXR1cm4gdGhpcy53YXZlc3VyZmVyU3RhdGV9Z2V0UmVuZGVyZXIoKXtyZXR1cm4gdGhpcy5yZW5kZXJlcn1jb25zdHJ1Y3Rvcih0KXtjb25zdCBlPXQubWVkaWF8fChcIldlYkF1ZGlvXCI9PT10LmJhY2tlbmQ/bmV3IFM6dm9pZCAwKTtzdXBlcih7bWVkaWE6ZSxtZWRpYUNvbnRyb2xzOnQubWVkaWFDb250cm9scyxhdXRvcGxheTp0LmF1dG9wbGF5LHBsYXliYWNrUmF0ZTp0LmF1ZGlvUmF0ZX0pLHRoaXMucGx1Z2lucz1bXSx0aGlzLmRlY29kZWREYXRhPW51bGwsdGhpcy5zdG9wQXRQb3NpdGlvbj1udWxsLHRoaXMuc3Vic2NyaXB0aW9ucz1bXSx0aGlzLm1lZGlhU3Vic2NyaXB0aW9ucz1bXSx0aGlzLmFib3J0Q29udHJvbGxlcj1udWxsLHRoaXMucmVhY3RpdmVDbGVhbnVwcz1bXSx0aGlzLm9wdGlvbnM9T2JqZWN0LmFzc2lnbih7fSxFLHQpO2NvbnN0e3N0YXRlOmksYWN0aW9uczpufT1mdW5jdGlvbih0KXt2YXIgZSxpLG4scyxyLG87Y29uc3QgaD1udWxsIT09KGU9bnVsbD09dD92b2lkIDA6dC5jdXJyZW50VGltZSkmJnZvaWQgMCE9PWU/ZTphKDApLHU9bnVsbCE9PShpPW51bGw9PXQ/dm9pZCAwOnQuZHVyYXRpb24pJiZ2b2lkIDAhPT1pP2k6YSgwKSxjPW51bGwhPT0obj1udWxsPT10P3ZvaWQgMDp0LmlzUGxheWluZykmJnZvaWQgMCE9PW4/bjphKCExKSxkPW51bGwhPT0ocz1udWxsPT10P3ZvaWQgMDp0LmlzU2Vla2luZykmJnZvaWQgMCE9PXM/czphKCExKSxwPW51bGwhPT0ocj1udWxsPT10P3ZvaWQgMDp0LnZvbHVtZSkmJnZvaWQgMCE9PXI/cjphKDEpLG09bnVsbCE9PShvPW51bGw9PXQ/dm9pZCAwOnQucGxheWJhY2tSYXRlKSYmdm9pZCAwIT09bz9vOmEoMSksZz1hKG51bGwpLHY9YShudWxsKSxmPWEoXCJcIiksYj1hKDApLHk9YSgwKSxDPWwoKCgpPT4hYy52YWx1ZSksW2NdKSxTPWwoKCgpPT5udWxsIT09Zy52YWx1ZSksW2ddKSxFPWwoKCgpPT5TLnZhbHVlJiZ1LnZhbHVlPjApLFtTLHVdKSx3PWwoKCgpPT5oLnZhbHVlKSxbaF0pLFA9bCgoKCk9PnUudmFsdWU+MD9oLnZhbHVlL3UudmFsdWU6MCksW2gsdV0pO3JldHVybntzdGF0ZTp7Y3VycmVudFRpbWU6aCxkdXJhdGlvbjp1LGlzUGxheWluZzpjLGlzUGF1c2VkOkMsaXNTZWVraW5nOmQsdm9sdW1lOnAscGxheWJhY2tSYXRlOm0sYXVkaW9CdWZmZXI6ZyxwZWFrczp2LHVybDpmLHpvb206YixzY3JvbGxQb3NpdGlvbjp5LGNhblBsYXk6Uyxpc1JlYWR5OkUscHJvZ3Jlc3M6dyxwcm9ncmVzc1BlcmNlbnQ6UH0sYWN0aW9uczp7c2V0Q3VycmVudFRpbWU6dD0+e2NvbnN0IGU9TWF0aC5tYXgoMCxNYXRoLm1pbih1LnZhbHVlfHwxLzAsdCkpO2guc2V0KGUpfSxzZXREdXJhdGlvbjp0PT57dS5zZXQoTWF0aC5tYXgoMCx0KSl9LHNldFBsYXlpbmc6dD0+e2Muc2V0KHQpfSxzZXRTZWVraW5nOnQ9PntkLnNldCh0KX0sc2V0Vm9sdW1lOnQ9Pntjb25zdCBlPU1hdGgubWF4KDAsTWF0aC5taW4oMSx0KSk7cC5zZXQoZSl9LHNldFBsYXliYWNrUmF0ZTp0PT57Y29uc3QgZT1NYXRoLm1heCguMSxNYXRoLm1pbigxNix0KSk7bS5zZXQoZSl9LHNldEF1ZGlvQnVmZmVyOnQ9PntnLnNldCh0KSx0JiZ1LnNldCh0LmR1cmF0aW9uKX0sc2V0UGVha3M6dD0+e3Yuc2V0KHQpfSxzZXRVcmw6dD0+e2Yuc2V0KHQpfSxzZXRab29tOnQ9PntiLnNldChNYXRoLm1heCgwLHQpKX0sc2V0U2Nyb2xsUG9zaXRpb246dD0+e3kuc2V0KE1hdGgubWF4KDAsdCkpfX19fSh7aXNQbGF5aW5nOnRoaXMuaXNQbGF5aW5nU2lnbmFsLGN1cnJlbnRUaW1lOnRoaXMuY3VycmVudFRpbWVTaWduYWwsZHVyYXRpb246dGhpcy5kdXJhdGlvblNpZ25hbCx2b2x1bWU6dGhpcy52b2x1bWVTaWduYWwscGxheWJhY2tSYXRlOnRoaXMucGxheWJhY2tSYXRlU2lnbmFsLGlzU2Vla2luZzp0aGlzLnNlZWtpbmdTaWduYWx9KTt0aGlzLndhdmVzdXJmZXJTdGF0ZT1pLHRoaXMud2F2ZXN1cmZlckFjdGlvbnM9bix0aGlzLnRpbWVyPW5ldyBDO2NvbnN0IHM9ZT92b2lkIDA6dGhpcy5nZXRNZWRpYUVsZW1lbnQoKTt0aGlzLnJlbmRlcmVyPW5ldyB5KHRoaXMub3B0aW9ucyxzKSx0aGlzLmluaXRQbGF5ZXJFdmVudHMoKSx0aGlzLmluaXRSZW5kZXJlckV2ZW50cygpLHRoaXMuaW5pdFRpbWVyRXZlbnRzKCksdGhpcy5pbml0UmVhY3RpdmVTdGF0ZSgpLHRoaXMuaW5pdFBsdWdpbnMoKTtjb25zdCByPXRoaXMub3B0aW9ucy51cmx8fHRoaXMuZ2V0U3JjKCl8fFwiXCI7UHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKCk9Pnt0aGlzLmVtaXQoXCJpbml0XCIpO2NvbnN0e3BlYWtzOnQsZHVyYXRpb246ZX09dGhpcy5vcHRpb25zOyhyfHx0JiZlKSYmdGhpcy5sb2FkKHIsdCxlKS5jYXRjaCgodD0+e3RoaXMuZW1pdChcImVycm9yXCIsdCBpbnN0YW5jZW9mIEVycm9yP3Q6bmV3IEVycm9yKFN0cmluZyh0KSkpfSkpfSkpfXVwZGF0ZVByb2dyZXNzKHQ9dGhpcy5nZXRDdXJyZW50VGltZSgpKXtyZXR1cm4gdGhpcy5yZW5kZXJlci5yZW5kZXJQcm9ncmVzcyh0L3RoaXMuZ2V0RHVyYXRpb24oKSx0aGlzLmlzUGxheWluZygpKSx0fWluaXRUaW1lckV2ZW50cygpe3RoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKHRoaXMudGltZXIub24oXCJ0aWNrXCIsKCgpPT57aWYoIXRoaXMuaXNTZWVraW5nKCkpe2NvbnN0IHQ9dGhpcy51cGRhdGVQcm9ncmVzcygpO3RoaXMuZW1pdChcInRpbWV1cGRhdGVcIix0KSx0aGlzLmVtaXQoXCJhdWRpb3Byb2Nlc3NcIix0KSxudWxsIT10aGlzLnN0b3BBdFBvc2l0aW9uJiZ0aGlzLmlzUGxheWluZygpJiZ0Pj10aGlzLnN0b3BBdFBvc2l0aW9uJiZ0aGlzLnBhdXNlKCl9fSkpKX1pbml0UmVhY3RpdmVTdGF0ZSgpe3RoaXMucmVhY3RpdmVDbGVhbnVwcy5wdXNoKGZ1bmN0aW9uKHQsZSl7Y29uc3QgaT1bXTtpLnB1c2goaCgoKCk9Pntjb25zdCBpPXQuaXNQbGF5aW5nLnZhbHVlO2UuZW1pdChpP1wicGxheVwiOlwicGF1c2VcIil9KSxbdC5pc1BsYXlpbmddKSksaS5wdXNoKGgoKCgpPT57Y29uc3QgaT10LmN1cnJlbnRUaW1lLnZhbHVlO2UuZW1pdChcInRpbWV1cGRhdGVcIixpKSx0LmlzUGxheWluZy52YWx1ZSYmZS5lbWl0KFwiYXVkaW9wcm9jZXNzXCIsaSl9KSxbdC5jdXJyZW50VGltZSx0LmlzUGxheWluZ10pKSxpLnB1c2goaCgoKCk9Pnt0LmlzU2Vla2luZy52YWx1ZSYmZS5lbWl0KFwic2Vla2luZ1wiLHQuY3VycmVudFRpbWUudmFsdWUpfSksW3QuaXNTZWVraW5nLHQuY3VycmVudFRpbWVdKSk7bGV0IG49ITE7aS5wdXNoKGgoKCgpPT57dC5pc1JlYWR5LnZhbHVlJiYhbiYmKG49ITAsZS5lbWl0KFwicmVhZHlcIix0LmR1cmF0aW9uLnZhbHVlKSl9KSxbdC5pc1JlYWR5LHQuZHVyYXRpb25dKSk7bGV0IHM9ITE7cmV0dXJuIGkucHVzaChoKCgoKT0+e2NvbnN0IGk9dC5pc1BsYXlpbmcudmFsdWUsbj10LmN1cnJlbnRUaW1lLnZhbHVlLHI9dC5kdXJhdGlvbi52YWx1ZSxvPXI+MCYmbj49cjtzJiYhaSYmbyYmZS5lbWl0KFwiZmluaXNoXCIpLHM9aSYmb30pLFt0LmlzUGxheWluZyx0LmN1cnJlbnRUaW1lLHQuZHVyYXRpb25dKSksaS5wdXNoKGgoKCgpPT57Y29uc3QgaT10Lnpvb20udmFsdWU7aT4wJiZlLmVtaXQoXCJ6b29tXCIsaSl9KSxbdC56b29tXSkpLCgpPT57aS5mb3JFYWNoKCh0PT50KCkpKX19KHRoaXMud2F2ZXN1cmZlclN0YXRlLHtlbWl0OnRoaXMuZW1pdC5iaW5kKHRoaXMpfSkpfWluaXRQbGF5ZXJFdmVudHMoKXt0aGlzLmlzUGxheWluZygpJiYodGhpcy5lbWl0KFwicGxheVwiKSx0aGlzLnRpbWVyLnN0YXJ0KCkpLHRoaXMubWVkaWFTdWJzY3JpcHRpb25zLnB1c2godGhpcy5vbk1lZGlhRXZlbnQoXCJ0aW1ldXBkYXRlXCIsKCgpPT57Y29uc3QgdD10aGlzLnVwZGF0ZVByb2dyZXNzKCk7dGhpcy5lbWl0KFwidGltZXVwZGF0ZVwiLHQpfSkpLHRoaXMub25NZWRpYUV2ZW50KFwicGxheVwiLCgoKT0+e3RoaXMuZW1pdChcInBsYXlcIiksdGhpcy50aW1lci5zdGFydCgpfSkpLHRoaXMub25NZWRpYUV2ZW50KFwicGF1c2VcIiwoKCk9Pnt0aGlzLmVtaXQoXCJwYXVzZVwiKSx0aGlzLnRpbWVyLnN0b3AoKSx0aGlzLnN0b3BBdFBvc2l0aW9uPW51bGx9KSksdGhpcy5vbk1lZGlhRXZlbnQoXCJlbXB0aWVkXCIsKCgpPT57dGhpcy50aW1lci5zdG9wKCksdGhpcy5zdG9wQXRQb3NpdGlvbj1udWxsfSkpLHRoaXMub25NZWRpYUV2ZW50KFwiZW5kZWRcIiwoKCk9Pnt0aGlzLmVtaXQoXCJ0aW1ldXBkYXRlXCIsdGhpcy5nZXREdXJhdGlvbigpKSx0aGlzLmVtaXQoXCJmaW5pc2hcIiksdGhpcy5zdG9wQXRQb3NpdGlvbj1udWxsfSkpLHRoaXMub25NZWRpYUV2ZW50KFwic2Vla2luZ1wiLCgoKT0+e3RoaXMuZW1pdChcInNlZWtpbmdcIix0aGlzLmdldEN1cnJlbnRUaW1lKCkpfSkpLHRoaXMub25NZWRpYUV2ZW50KFwiZXJyb3JcIiwoKCk9Pnt2YXIgdDt0aGlzLmVtaXQoXCJlcnJvclwiLG51bGwhPT0odD10aGlzLmdldE1lZGlhRWxlbWVudCgpLmVycm9yKSYmdm9pZCAwIT09dD90Om5ldyBFcnJvcihcIk1lZGlhIGVycm9yXCIpKSx0aGlzLnN0b3BBdFBvc2l0aW9uPW51bGx9KSkpfWluaXRSZW5kZXJlckV2ZW50cygpe3RoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKHRoaXMucmVuZGVyZXIub24oXCJjbGlja1wiLCgodCxlKT0+e3RoaXMub3B0aW9ucy5pbnRlcmFjdCYmKHRoaXMuc2Vla1RvKHQpLHRoaXMuZW1pdChcImludGVyYWN0aW9uXCIsdCp0aGlzLmdldER1cmF0aW9uKCkpLHRoaXMuZW1pdChcImNsaWNrXCIsdCxlKSl9KSksdGhpcy5yZW5kZXJlci5vbihcImRibGNsaWNrXCIsKCh0LGUpPT57dGhpcy5lbWl0KFwiZGJsY2xpY2tcIix0LGUpfSkpLHRoaXMucmVuZGVyZXIub24oXCJzY3JvbGxcIiwoKHQsZSxpLG4pPT57Y29uc3Qgcz10aGlzLmdldER1cmF0aW9uKCk7dGhpcy5lbWl0KFwic2Nyb2xsXCIsdCpzLGUqcyxpLG4pfSkpLHRoaXMucmVuZGVyZXIub24oXCJyZW5kZXJcIiwoKCk9Pnt0aGlzLmVtaXQoXCJyZWRyYXdcIil9KSksdGhpcy5yZW5kZXJlci5vbihcInJlbmRlcmVkXCIsKCgpPT57dGhpcy5lbWl0KFwicmVkcmF3Y29tcGxldGVcIil9KSksdGhpcy5yZW5kZXJlci5vbihcImRyYWdzdGFydFwiLCh0PT57dGhpcy5lbWl0KFwiZHJhZ3N0YXJ0XCIsdCl9KSksdGhpcy5yZW5kZXJlci5vbihcImRyYWdlbmRcIiwodD0+e3RoaXMuZW1pdChcImRyYWdlbmRcIix0KX0pKSx0aGlzLnJlbmRlcmVyLm9uKFwicmVzaXplXCIsKCgpPT57dGhpcy5lbWl0KFwicmVzaXplXCIpfSkpKTt7bGV0IHQ7Y29uc3QgZT10aGlzLnJlbmRlcmVyLm9uKFwiZHJhZ1wiLChlPT57dmFyIGk7aWYoIXRoaXMub3B0aW9ucy5pbnRlcmFjdClyZXR1cm47dGhpcy5yZW5kZXJlci5yZW5kZXJQcm9ncmVzcyhlKSxjbGVhclRpbWVvdXQodCk7bGV0IG49MDtjb25zdCBzPXRoaXMub3B0aW9ucy5kcmFnVG9TZWVrO3RoaXMuaXNQbGF5aW5nKCk/bj0wOiEwPT09cz9uPTIwMDpzJiZcIm9iamVjdFwiPT10eXBlb2YgcyYmKG49bnVsbCE9PShpPXMuZGVib3VuY2VUaW1lKSYmdm9pZCAwIT09aT9pOjIwMCksdD1zZXRUaW1lb3V0KCgoKT0+e3RoaXMuc2Vla1RvKGUpfSksbiksdGhpcy5lbWl0KFwiaW50ZXJhY3Rpb25cIixlKnRoaXMuZ2V0RHVyYXRpb24oKSksdGhpcy5lbWl0KFwiZHJhZ1wiLGUpfSkpO3RoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKCgoKT0+e2NsZWFyVGltZW91dCh0KSxlKCl9KSl9fWluaXRQbHVnaW5zKCl7dmFyIHQ7KG51bGw9PT0odD10aGlzLm9wdGlvbnMucGx1Z2lucyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQubGVuZ3RoKSYmdGhpcy5vcHRpb25zLnBsdWdpbnMuZm9yRWFjaCgodD0+e3RoaXMucmVnaXN0ZXJQbHVnaW4odCl9KSl9dW5zdWJzY3JpYmVQbGF5ZXJFdmVudHMoKXt0aGlzLm1lZGlhU3Vic2NyaXB0aW9ucy5mb3JFYWNoKCh0PT50KCkpKSx0aGlzLm1lZGlhU3Vic2NyaXB0aW9ucz1bXX1zZXRPcHRpb25zKHQpe3RoaXMub3B0aW9ucz1PYmplY3QuYXNzaWduKHt9LHRoaXMub3B0aW9ucyx0KSx0LmR1cmF0aW9uJiYhdC5wZWFrcyYmKHRoaXMuZGVjb2RlZERhdGE9aS5jcmVhdGVCdWZmZXIodGhpcy5leHBvcnRQZWFrcygpLHQuZHVyYXRpb24pKSx0LnBlYWtzJiZ0LmR1cmF0aW9uJiYodGhpcy5kZWNvZGVkRGF0YT1pLmNyZWF0ZUJ1ZmZlcih0LnBlYWtzLHQuZHVyYXRpb24pKSx0aGlzLnJlbmRlcmVyLnNldE9wdGlvbnModGhpcy5vcHRpb25zKSx0LmF1ZGlvUmF0ZSYmdGhpcy5zZXRQbGF5YmFja1JhdGUodC5hdWRpb1JhdGUpLG51bGwhPXQubWVkaWFDb250cm9scyYmKHRoaXMuZ2V0TWVkaWFFbGVtZW50KCkuY29udHJvbHM9dC5tZWRpYUNvbnRyb2xzKX1yZWdpc3RlclBsdWdpbih0KXtpZih0aGlzLnBsdWdpbnMuaW5jbHVkZXModCkpcmV0dXJuIHQ7dC5faW5pdCh0aGlzKSx0aGlzLnBsdWdpbnMucHVzaCh0KTtjb25zdCBlPXQub25jZShcImRlc3Ryb3lcIiwoKCk9Pnt0aGlzLnBsdWdpbnM9dGhpcy5wbHVnaW5zLmZpbHRlcigoZT0+ZSE9PXQpKSx0aGlzLnN1YnNjcmlwdGlvbnM9dGhpcy5zdWJzY3JpcHRpb25zLmZpbHRlcigodD0+dCE9PWUpKX0pKTtyZXR1cm4gdGhpcy5zdWJzY3JpcHRpb25zLnB1c2goZSksdH11bnJlZ2lzdGVyUGx1Z2luKHQpe3RoaXMucGx1Z2lucz10aGlzLnBsdWdpbnMuZmlsdGVyKChlPT5lIT09dCkpLHQuZGVzdHJveSgpfWdldFdyYXBwZXIoKXtyZXR1cm4gdGhpcy5yZW5kZXJlci5nZXRXcmFwcGVyKCl9Z2V0V2lkdGgoKXtyZXR1cm4gdGhpcy5yZW5kZXJlci5nZXRXaWR0aCgpfWdldFNjcm9sbCgpe3JldHVybiB0aGlzLnJlbmRlcmVyLmdldFNjcm9sbCgpfXNldFNjcm9sbCh0KXtyZXR1cm4gdGhpcy5yZW5kZXJlci5zZXRTY3JvbGwodCl9c2V0U2Nyb2xsVGltZSh0KXtjb25zdCBlPXQvdGhpcy5nZXREdXJhdGlvbigpO3RoaXMucmVuZGVyZXIuc2V0U2Nyb2xsUGVyY2VudGFnZShlKX1nZXRBY3RpdmVQbHVnaW5zKCl7cmV0dXJuIHRoaXMucGx1Z2luc31sb2FkQXVkaW8oZSxuLHMscil7cmV0dXJuIHQodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXt2YXIgdDtpZih0aGlzLmVtaXQoXCJsb2FkXCIsZSksIXRoaXMub3B0aW9ucy5tZWRpYSYmdGhpcy5pc1BsYXlpbmcoKSYmdGhpcy5wYXVzZSgpLHRoaXMuZGVjb2RlZERhdGE9bnVsbCx0aGlzLnN0b3BBdFBvc2l0aW9uPW51bGwsbnVsbD09PSh0PXRoaXMuYWJvcnRDb250cm9sbGVyKXx8dm9pZCAwPT09dHx8dC5hYm9ydCgpLHRoaXMuYWJvcnRDb250cm9sbGVyPW51bGwsIW4mJiFzKXtjb25zdCB0PXRoaXMub3B0aW9ucy5mZXRjaFBhcmFtc3x8e307d2luZG93LkFib3J0Q29udHJvbGxlciYmIXQuc2lnbmFsJiYodGhpcy5hYm9ydENvbnRyb2xsZXI9bmV3IEFib3J0Q29udHJvbGxlcix0LnNpZ25hbD10aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWwpO2NvbnN0IGk9dD0+dGhpcy5lbWl0KFwibG9hZGluZ1wiLHQpO249eWllbGQgby5mZXRjaEJsb2IoZSxpLHQpO2NvbnN0IHM9dGhpcy5vcHRpb25zLmJsb2JNaW1lVHlwZTtzJiYobj1uZXcgQmxvYihbbl0se3R5cGU6c30pKX10aGlzLnNldFNyYyhlLG4pO2NvbnN0IGE9eWllbGQgbmV3IFByb21pc2UoKHQ9Pntjb25zdCBlPXJ8fHRoaXMuZ2V0RHVyYXRpb24oKTtlP3QoZSk6dGhpcy5tZWRpYVN1YnNjcmlwdGlvbnMucHVzaCh0aGlzLm9uTWVkaWFFdmVudChcImxvYWRlZG1ldGFkYXRhXCIsKCgpPT50KHRoaXMuZ2V0RHVyYXRpb24oKSkpLHtvbmNlOiEwfSkpfSkpO2lmKCFlJiYhbil7Y29uc3QgdD10aGlzLmdldE1lZGlhRWxlbWVudCgpO3QgaW5zdGFuY2VvZiBTJiYodC5kdXJhdGlvbj1hKX1pZihzKXRoaXMuZGVjb2RlZERhdGE9aS5jcmVhdGVCdWZmZXIocyxhfHwwKTtlbHNlIGlmKG4pe2NvbnN0IHQ9eWllbGQgbi5hcnJheUJ1ZmZlcigpO3RoaXMuZGVjb2RlZERhdGE9eWllbGQgaS5kZWNvZGUodCx0aGlzLm9wdGlvbnMuc2FtcGxlUmF0ZSl9dGhpcy5kZWNvZGVkRGF0YSYmKHRoaXMuZW1pdChcImRlY29kZVwiLHRoaXMuZ2V0RHVyYXRpb24oKSksdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5kZWNvZGVkRGF0YSkpLHRoaXMuZW1pdChcInJlYWR5XCIsdGhpcy5nZXREdXJhdGlvbigpKX0pKX1sb2FkKGUsaSxuKXtyZXR1cm4gdCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3RyeXtyZXR1cm4geWllbGQgdGhpcy5sb2FkQXVkaW8oZSx2b2lkIDAsaSxuKX1jYXRjaCh0KXt0aHJvdyB0aGlzLmVtaXQoXCJlcnJvclwiLHQpLHR9fSkpfWxvYWRCbG9iKGUsaSxuKXtyZXR1cm4gdCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3RyeXtyZXR1cm4geWllbGQgdGhpcy5sb2FkQXVkaW8oXCJcIixlLGksbil9Y2F0Y2godCl7dGhyb3cgdGhpcy5lbWl0KFwiZXJyb3JcIix0KSx0fX0pKX16b29tKHQpe2lmKCF0aGlzLmRlY29kZWREYXRhKXRocm93IG5ldyBFcnJvcihcIk5vIGF1ZGlvIGxvYWRlZFwiKTt0aGlzLnJlbmRlcmVyLnpvb20odCksdGhpcy5lbWl0KFwiem9vbVwiLHQpfWdldERlY29kZWREYXRhKCl7cmV0dXJuIHRoaXMuZGVjb2RlZERhdGF9ZXhwb3J0UGVha3Moe2NoYW5uZWxzOnQ9MixtYXhMZW5ndGg6ZT04ZTMscHJlY2lzaW9uOmk9MWU0fT17fSl7aWYoIXRoaXMuZGVjb2RlZERhdGEpdGhyb3cgbmV3IEVycm9yKFwiVGhlIGF1ZGlvIGhhcyBub3QgYmVlbiBkZWNvZGVkIHlldFwiKTtjb25zdCBuPU1hdGgubWluKHQsdGhpcy5kZWNvZGVkRGF0YS5udW1iZXJPZkNoYW5uZWxzKSxzPVtdO2ZvcihsZXQgdD0wO3Q8bjt0Kyspe2NvbnN0IG49dGhpcy5kZWNvZGVkRGF0YS5nZXRDaGFubmVsRGF0YSh0KSxyPVtdLG89bi5sZW5ndGgvZTtmb3IobGV0IHQ9MDt0PGU7dCsrKXtjb25zdCBlPW4uc2xpY2UoTWF0aC5mbG9vcih0Km8pLE1hdGguY2VpbCgodCsxKSpvKSk7bGV0IHM9MDtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl7Y29uc3QgaT1lW3RdO01hdGguYWJzKGkpPk1hdGguYWJzKHMpJiYocz1pKX1yLnB1c2goTWF0aC5yb3VuZChzKmkpL2kpfXMucHVzaChyKX1yZXR1cm4gc31nZXREdXJhdGlvbigpe2xldCB0PXN1cGVyLmdldER1cmF0aW9uKCl8fDA7cmV0dXJuIDAhPT10JiZ0IT09MS8wfHwhdGhpcy5kZWNvZGVkRGF0YXx8KHQ9dGhpcy5kZWNvZGVkRGF0YS5kdXJhdGlvbiksdH10b2dnbGVJbnRlcmFjdGlvbih0KXt0aGlzLm9wdGlvbnMuaW50ZXJhY3Q9dH1zZXRUaW1lKHQpe3RoaXMuc3RvcEF0UG9zaXRpb249bnVsbCxzdXBlci5zZXRUaW1lKHQpLHRoaXMudXBkYXRlUHJvZ3Jlc3ModCksdGhpcy5lbWl0KFwidGltZXVwZGF0ZVwiLHQpfXNlZWtUbyh0KXtjb25zdCBlPXRoaXMuZ2V0RHVyYXRpb24oKSp0O3RoaXMuc2V0VGltZShlKX1wbGF5KGUsaSl7Y29uc3Qgbj1PYmplY3QuY3JlYXRlKG51bGwse3BsYXk6e2dldDooKT0+c3VwZXIucGxheX19KTtyZXR1cm4gdCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe251bGwhPWUmJnRoaXMuc2V0VGltZShlKTtjb25zdCB0PXlpZWxkIG4ucGxheS5jYWxsKHRoaXMpO3JldHVybiBudWxsIT1pJiYodGhpcy5tZWRpYSBpbnN0YW5jZW9mIFM/dGhpcy5tZWRpYS5zdG9wQXQoaSk6dGhpcy5zdG9wQXRQb3NpdGlvbj1pKSx0fSkpfXBsYXlQYXVzZSgpe3JldHVybiB0KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7cmV0dXJuIHRoaXMuaXNQbGF5aW5nKCk/dGhpcy5wYXVzZSgpOnRoaXMucGxheSgpfSkpfXN0b3AoKXt0aGlzLnBhdXNlKCksdGhpcy5zZXRUaW1lKDApfXNraXAodCl7dGhpcy5zZXRUaW1lKHRoaXMuZ2V0Q3VycmVudFRpbWUoKSt0KX1lbXB0eSgpe3RoaXMubG9hZChcIlwiLFtbMF1dLC4wMDEpfXNldE1lZGlhRWxlbWVudCh0KXt0aGlzLnVuc3Vic2NyaWJlUGxheWVyRXZlbnRzKCksc3VwZXIuc2V0TWVkaWFFbGVtZW50KHQpLHRoaXMuaW5pdFBsYXllckV2ZW50cygpfWV4cG9ydEltYWdlKCl7cmV0dXJuIHQodGhpcyxhcmd1bWVudHMsdm9pZCAwLChmdW5jdGlvbioodD1cImltYWdlL3BuZ1wiLGU9MSxpPVwiZGF0YVVSTFwiKXtyZXR1cm4gdGhpcy5yZW5kZXJlci5leHBvcnRJbWFnZSh0LGUsaSl9KSl9ZGVzdHJveSgpe3ZhciB0O3RoaXMuZW1pdChcImRlc3Ryb3lcIiksbnVsbD09PSh0PXRoaXMuYWJvcnRDb250cm9sbGVyKXx8dm9pZCAwPT09dHx8dC5hYm9ydCgpLHRoaXMucGx1Z2lucy5mb3JFYWNoKCh0PT50LmRlc3Ryb3koKSkpLHRoaXMuc3Vic2NyaXB0aW9ucy5mb3JFYWNoKCh0PT50KCkpKSx0aGlzLnVuc3Vic2NyaWJlUGxheWVyRXZlbnRzKCksdGhpcy5yZWFjdGl2ZUNsZWFudXBzLmZvckVhY2goKHQ9PnQoKSkpLHRoaXMucmVhY3RpdmVDbGVhbnVwcz1bXSx0aGlzLnRpbWVyLmRlc3Ryb3koKSx0aGlzLnJlbmRlcmVyLmRlc3Ryb3koKSxzdXBlci5kZXN0cm95KCl9fXcuQmFzZVBsdWdpbj1jbGFzcyBleHRlbmRzIGV7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLnN1YnNjcmlwdGlvbnM9W10sdGhpcy5pc0Rlc3Ryb3llZD0hMSx0aGlzLm9wdGlvbnM9dH1vbkluaXQoKXt9X2luaXQodCl7dGhpcy5pc0Rlc3Ryb3llZCYmKHRoaXMuc3Vic2NyaXB0aW9ucz1bXSx0aGlzLmlzRGVzdHJveWVkPSExKSx0aGlzLndhdmVzdXJmZXI9dCx0aGlzLm9uSW5pdCgpfWRlc3Ryb3koKXt0aGlzLmVtaXQoXCJkZXN0cm95XCIpLHRoaXMuc3Vic2NyaXB0aW9ucy5mb3JFYWNoKCh0PT50KCkpKSx0aGlzLnN1YnNjcmlwdGlvbnM9W10sdGhpcy5pc0Rlc3Ryb3llZD0hMCx0aGlzLndhdmVzdXJmZXI9dm9pZCAwfX0sdy5kb209cjtleHBvcnR7dyBhcyBkZWZhdWx0fTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/wavesurfer.js/dist/wavesurfer.esm.js\n"));

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
/******/ __webpack_require__.O(0, ["main-app"], function() { return __webpack_exec__("(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5Ckreat%5C%5CDownloads%5C%5CRiddimBase%20Studio-Full%5C%5Cfrontend%5C%5Capp%5C%5Cstudio%5C%5Cpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=false!"); });
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ _N_E = __webpack_exports__;
/******/ }
]);